function wR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bE={exports:{}},ad={},NE={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),ER=Symbol.for("react.portal"),TR=Symbol.for("react.fragment"),IR=Symbol.for("react.strict_mode"),CR=Symbol.for("react.profiler"),SR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),AR=Symbol.for("react.forward_ref"),RR=Symbol.for("react.suspense"),kR=Symbol.for("react.memo"),bR=Symbol.for("react.lazy"),sy=Symbol.iterator;function NR(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var PE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,OE={};function Do(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||PE}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jE(){}jE.prototype=Do.prototype;function Xp(t,e,n){this.props=t,this.context=e,this.refs=OE,this.updater=n||PE}var Jp=Xp.prototype=new jE;Jp.constructor=Xp;DE(Jp,Do.prototype);Jp.isPureReactComponent=!0;var oy=Array.isArray,ME=Object.prototype.hasOwnProperty,Zp={current:null},LE={key:!0,ref:!0,__self:!0,__source:!0};function VE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ME.call(e,r)&&!LE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nl,type:t,key:s,ref:o,props:i,_owner:Zp.current}}function PR(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function em(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function DR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ay=/\/+/g;function Ih(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DR(""+t.key):e.toString(36)}function Wu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case ER:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ih(o,0):r,oy(i)?(n="",t!=null&&(n=t.replace(ay,"$&/")+"/"),Wu(i,e,n,"",function(c){return c})):i!=null&&(em(i)&&(i=PR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ay,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",oy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ih(s,a);o+=Wu(s,e,n,l,i)}else if(l=NR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ih(s,a++),o+=Wu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(t,e,n){if(t==null)return t;var r=[],i=0;return Wu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zt={current:null},qu={transition:null},jR={ReactCurrentDispatcher:zt,ReactCurrentBatchConfig:qu,ReactCurrentOwner:Zp};Ie.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!em(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Do;Ie.Fragment=TR;Ie.Profiler=CR;Ie.PureComponent=Xp;Ie.StrictMode=IR;Ie.Suspense=RR;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jR;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ME.call(e,l)&&!LE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:xR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SR,_context:t},t.Consumer=t};Ie.createElement=VE;Ie.createFactory=function(t){var e=VE.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:AR,render:t}};Ie.isValidElement=em;Ie.lazy=function(t){return{$$typeof:bR,_payload:{_status:-1,_result:t},_init:OR}};Ie.memo=function(t,e){return{$$typeof:kR,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=qu.transition;qu.transition={};try{t()}finally{qu.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return zt.current.useCallback(t,e)};Ie.useContext=function(t){return zt.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return zt.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return zt.current.useEffect(t,e)};Ie.useId=function(){return zt.current.useId()};Ie.useImperativeHandle=function(t,e,n){return zt.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return zt.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return zt.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return zt.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return zt.current.useReducer(t,e,n)};Ie.useRef=function(t){return zt.current.useRef(t)};Ie.useState=function(t){return zt.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return zt.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return zt.current.useTransition()};Ie.version="18.2.0";NE.exports=Ie;var _=NE.exports;const pt=Rn(_),MR=wR({__proto__:null,default:pt},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=_,VR=Symbol.for("react.element"),FR=Symbol.for("react.fragment"),$R=Object.prototype.hasOwnProperty,UR=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BR={key:!0,ref:!0,__self:!0,__source:!0};function FE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$R.call(e,r)&&!BR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VR,type:t,key:s,ref:o,props:i,_owner:UR.current}}ad.Fragment=FR;ad.jsx=FE;ad.jsxs=FE;bE.exports=ad;var d=bE.exports,Tf={},$E={exports:{}},gn={},UE={exports:{}},BE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var V=j.length;j.push($);e:for(;0<V;){var Q=V-1>>>1,Z=j[Q];if(0<i(Z,$))j[Q]=$,j[V]=Z,V=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],V=j.pop();if(V!==$){j[0]=V;e:for(var Q=0,Z=j.length,te=Z>>>1;Q<te;){var G=2*(Q+1)-1,Y=j[G],ce=G+1,Ee=j[ce];if(0>i(Y,V))ce<Z&&0>i(Ee,Y)?(j[Q]=Ee,j[ce]=V,Q=ce):(j[Q]=Y,j[G]=V,Q=G);else if(ce<Z&&0>i(Ee,V))j[Q]=Ee,j[ce]=V,Q=ce;else break e}}return $}function i(j,$){var V=j.sortIndex-$.sortIndex;return V!==0?V:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,p=null,m=3,T=!1,S=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(j){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=j)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function O(j){if(w=!1,I(j),!S)if(n(l)!==null)S=!0,M(P);else{var $=n(c);$!==null&&B(O,$.startTime-j)}}function P(j,$){S=!1,w&&(w=!1,v(E),E=-1),T=!0;var V=m;try{for(I($),p=n(l);p!==null&&(!(p.expirationTime>$)||j&&!N());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,m=p.priorityLevel;var Z=Q(p.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(l)&&r(l),I($)}else r(l);p=n(l)}if(p!==null)var te=!0;else{var G=n(c);G!==null&&B(O,G.startTime-$),te=!1}return te}finally{p=null,m=V,T=!1}}var L=!1,x=null,E=-1,R=5,b=-1;function N(){return!(t.unstable_now()-b<R)}function D(){if(x!==null){var j=t.unstable_now();b=j;var $=!0;try{$=x(!0,j)}finally{$?A():(L=!1,x=null)}}else L=!1}var A;if(typeof y=="function")A=function(){y(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,U=W.port2;W.port1.onmessage=D,A=function(){U.postMessage(null)}}else A=function(){C(D,0)};function M(j){x=j,L||(L=!0,A())}function B(j,$){E=C(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,M(P))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var V=m;m=$;try{return j()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=m;m=j;try{return $()}finally{m=V}},t.unstable_scheduleCallback=function(j,$,V){var Q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,j){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=V+Z,j={id:h++,callback:$,priorityLevel:j,startTime:V,expirationTime:Z,sortIndex:-1},V>Q?(j.sortIndex=V,e(c,j),n(l)===null&&j===n(c)&&(w?(v(E),E=-1):w=!0,B(O,V-Q))):(j.sortIndex=Z,e(l,j),S||T||(S=!0,M(P))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var $=m;return function(){var V=m;m=$;try{return j.apply(this,arguments)}finally{m=V}}}})(BE);UE.exports=BE;var zR=UE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE=_,pn=zR;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HE=new Set,Qa={};function ys(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Qa[t]=e,t=0;t<e.length;t++)HE.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=Object.prototype.hasOwnProperty,HR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ly={},uy={};function WR(t){return If.call(uy,t)?!0:If.call(ly,t)?!1:HR.test(t)?uy[t]=!0:(ly[t]=!0,!1)}function qR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GR(t,e,n,r){if(e===null||typeof e>"u"||qR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var tm=/[\-:]([a-z])/g;function nm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tm,nm);It[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tm,nm);It[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tm,nm);It[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function rm(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GR(e,n,i,r)&&(n=null),r||i===null?WR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=zE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),WE=Symbol.for("react.provider"),qE=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),om=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),GE=Symbol.for("react.offscreen"),cy=Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Ch;function wa(t){if(Ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ch=e&&e[1]||""}return`
`+Ch+t}var Sh=!1;function xh(t,e){if(!t||Sh)return"";Sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wa(t):""}function KR(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=xh(t.type,!1),t;case 11:return t=xh(t.type.render,!1),t;case 1:return t=xh(t.type,!0),t;default:return""}}function Af(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case $s:return"Portal";case Cf:return"Profiler";case im:return"StrictMode";case Sf:return"Suspense";case xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qE:return(t.displayName||"Context")+".Consumer";case WE:return(t._context.displayName||"Context")+".Provider";case sm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case om:return e=t.displayName||null,e!==null?e:Af(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return Af(t(e))}catch{}}return null}function YR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Af(e);case 8:return e===im?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QR(t){var e=KE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=QR(t))}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rf(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QE(t,e){e=e.checked,e!=null&&rm(t,"checked",e,!1)}function kf(t,e){QE(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&bf(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bf(t,e,n){(e!=="number"||pc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ea=Array.isArray;function to(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ea(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function XE(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function py(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eu,ZE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eu=Eu||document.createElement("div"),Eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XR=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){XR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function e0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function t0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=e0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JR=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Df(t,e){if(e){if(JR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jf=null;function am(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mf=null,no=null,ro=null;function my(t){if(t=Ol(t)){if(typeof Mf!="function")throw Error(J(280));var e=t.stateNode;e&&(e=hd(e),Mf(t.stateNode,t.type,e))}}function n0(t){no?ro?ro.push(t):ro=[t]:no=t}function r0(){if(no){var t=no,e=ro;if(ro=no=null,my(t),e)for(t=0;t<e.length;t++)my(e[t])}}function i0(t,e){return t(e)}function s0(){}var Ah=!1;function o0(t,e,n){if(Ah)return t(e,n);Ah=!0;try{return i0(t,e,n)}finally{Ah=!1,(no!==null||ro!==null)&&(s0(),r0())}}function Ja(t,e){var n=t.stateNode;if(n===null)return null;var r=hd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Lf=!1;if(kr)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Lf=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Lf=!1}function ZR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Da=!1,mc=null,gc=!1,Vf=null,ek={onError:function(t){Da=!0,mc=t}};function tk(t,e,n,r,i,s,o,a,l){Da=!1,mc=null,ZR.apply(ek,arguments)}function nk(t,e,n,r,i,s,o,a,l){if(tk.apply(this,arguments),Da){if(Da){var c=mc;Da=!1,mc=null}else throw Error(J(198));gc||(gc=!0,Vf=c)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function a0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gy(t){if(_s(t)!==t)throw Error(J(188))}function rk(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gy(i),t;if(s===r)return gy(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function l0(t){return t=rk(t),t!==null?u0(t):null}function u0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u0(t);if(e!==null)return e;t=t.sibling}return null}var c0=pn.unstable_scheduleCallback,vy=pn.unstable_cancelCallback,ik=pn.unstable_shouldYield,sk=pn.unstable_requestPaint,rt=pn.unstable_now,ok=pn.unstable_getCurrentPriorityLevel,lm=pn.unstable_ImmediatePriority,d0=pn.unstable_UserBlockingPriority,vc=pn.unstable_NormalPriority,ak=pn.unstable_LowPriority,h0=pn.unstable_IdlePriority,ld=null,Qn=null;function lk(t){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:dk,uk=Math.log,ck=Math.LN2;function dk(t){return t>>>=0,t===0?32:31-(uk(t)/ck|0)|0}var Tu=64,Iu=4194304;function Ta(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ta(a):(s&=o,s!==0&&(r=Ta(s)))}else o=n&~i,o!==0?r=Ta(o):s!==0&&(r=Ta(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function hk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f0(){var t=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),t}function Rh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function pk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function um(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function p0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var m0,cm,g0,v0,y0,$f=!1,Cu=[],fi=null,pi=null,mi=null,Za=new Map,el=new Map,ni=[],mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(e.pointerId)}}function aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ol(e),e!==null&&cm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gk(t,e,n,r,i){switch(e){case"focusin":return fi=aa(fi,t,e,n,r,i),!0;case"dragenter":return pi=aa(pi,t,e,n,r,i),!0;case"mouseover":return mi=aa(mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Za.set(s,aa(Za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,el.set(s,aa(el.get(s)||null,t,e,n,r,i)),!0}return!1}function _0(t){var e=Ki(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=a0(n),e!==null){t.blockedOn=e,y0(t.priority,function(){g0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jf=r,n.target.dispatchEvent(r),jf=null}else return e=Ol(n),e!==null&&cm(e),t.blockedOn=n,!1;e.shift()}return!0}function _y(t,e,n){Gu(t)&&n.delete(e)}function vk(){$f=!1,fi!==null&&Gu(fi)&&(fi=null),pi!==null&&Gu(pi)&&(pi=null),mi!==null&&Gu(mi)&&(mi=null),Za.forEach(_y),el.forEach(_y)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,vk)))}function tl(t){function e(i){return la(i,t)}if(0<Cu.length){la(Cu[0],t);for(var n=1;n<Cu.length;n++){var r=Cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&la(fi,t),pi!==null&&la(pi,t),mi!==null&&la(mi,t),Za.forEach(e),el.forEach(e),n=0;n<ni.length;n++)r=ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)_0(n),n.blockedOn===null&&ni.shift()}var io=Fr.ReactCurrentBatchConfig,_c=!0;function yk(t,e,n,r){var i=Ne,s=io.transition;io.transition=null;try{Ne=1,dm(t,e,n,r)}finally{Ne=i,io.transition=s}}function _k(t,e,n,r){var i=Ne,s=io.transition;io.transition=null;try{Ne=4,dm(t,e,n,r)}finally{Ne=i,io.transition=s}}function dm(t,e,n,r){if(_c){var i=Uf(t,e,n,r);if(i===null)Vh(t,e,r,wc,n),yy(t,r);else if(gk(i,t,e,n,r))r.stopPropagation();else if(yy(t,r),e&4&&-1<mk.indexOf(t)){for(;i!==null;){var s=Ol(i);if(s!==null&&m0(s),s=Uf(t,e,n,r),s===null&&Vh(t,e,r,wc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vh(t,e,r,null,n)}}var wc=null;function Uf(t,e,n,r){if(wc=null,t=am(r),t=Ki(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=a0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wc=t,null}function w0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ok()){case lm:return 1;case d0:return 4;case vc:case ak:return 16;case h0:return 536870912;default:return 16}default:return 16}}var li=null,hm=null,Ku=null;function E0(){if(Ku)return Ku;var t,e=hm,n=e.length,r,i="value"in li?li.value:li.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ku=i.slice(t,1<r?1-r:void 0)}function Yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function wy(){return!1}function vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Su:wy,this.isPropagationStopped=wy,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fm=vn(Oo),Dl=Ye({},Oo,{view:0,detail:0}),wk=vn(Dl),kh,bh,ua,ud=Ye({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(kh=t.screenX-ua.screenX,bh=t.screenY-ua.screenY):bh=kh=0,ua=t),kh)},movementY:function(t){return"movementY"in t?t.movementY:bh}}),Ey=vn(ud),Ek=Ye({},ud,{dataTransfer:0}),Tk=vn(Ek),Ik=Ye({},Dl,{relatedTarget:0}),Nh=vn(Ik),Ck=Ye({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=vn(Ck),xk=Ye({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ak=vn(xk),Rk=Ye({},Oo,{data:0}),Ty=vn(Rk),kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nk[t])?!!e[t]:!1}function pm(){return Pk}var Dk=Ye({},Dl,{key:function(t){if(t.key){var e=kk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(t){return t.type==="keypress"?Yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ok=vn(Dk),jk=Ye({},ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iy=vn(jk),Mk=Ye({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),Lk=vn(Mk),Vk=Ye({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fk=vn(Vk),$k=Ye({},ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uk=vn($k),Bk=[9,13,27,32],mm=kr&&"CompositionEvent"in window,Oa=null;kr&&"documentMode"in document&&(Oa=document.documentMode);var zk=kr&&"TextEvent"in window&&!Oa,T0=kr&&(!mm||Oa&&8<Oa&&11>=Oa),Cy=" ",Sy=!1;function I0(t,e){switch(t){case"keyup":return Bk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function Hk(t,e){switch(t){case"compositionend":return C0(e);case"keypress":return e.which!==32?null:(Sy=!0,Cy);case"textInput":return t=e.data,t===Cy&&Sy?null:t;default:return null}}function Wk(t,e){if(Bs)return t==="compositionend"||!mm&&I0(t,e)?(t=E0(),Ku=hm=li=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return T0&&e.locale!=="ko"?null:e.data;default:return null}}var qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qk[t.type]:e==="textarea"}function S0(t,e,n,r){n0(r),e=Ec(e,"onChange"),0<e.length&&(n=new fm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ja=null,nl=null;function Gk(t){M0(t,0)}function cd(t){var e=Ws(t);if(YE(e))return t}function Kk(t,e){if(t==="change")return e}var x0=!1;if(kr){var Ph;if(kr){var Dh="oninput"in document;if(!Dh){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),Dh=typeof Ay.oninput=="function"}Ph=Dh}else Ph=!1;x0=Ph&&(!document.documentMode||9<document.documentMode)}function Ry(){ja&&(ja.detachEvent("onpropertychange",A0),nl=ja=null)}function A0(t){if(t.propertyName==="value"&&cd(nl)){var e=[];S0(e,nl,t,am(t)),o0(Gk,e)}}function Yk(t,e,n){t==="focusin"?(Ry(),ja=e,nl=n,ja.attachEvent("onpropertychange",A0)):t==="focusout"&&Ry()}function Qk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cd(nl)}function Xk(t,e){if(t==="click")return cd(e)}function Jk(t,e){if(t==="input"||t==="change")return cd(e)}function Zk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:Zk;function rl(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!If.call(e,i)||!Fn(t[i],e[i]))return!1}return!0}function ky(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function by(t,e){var n=ky(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ky(n)}}function R0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k0(){for(var t=window,e=pc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pc(t.document)}return e}function gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eb(t){var e=k0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&R0(n.ownerDocument.documentElement,n)){if(r!==null&&gm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=by(n,s);var o=by(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tb=kr&&"documentMode"in document&&11>=document.documentMode,zs=null,Bf=null,Ma=null,zf=!1;function Ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zf||zs==null||zs!==pc(r)||(r=zs,"selectionStart"in r&&gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ma&&rl(Ma,r)||(Ma=r,r=Ec(Bf,"onSelect"),0<r.length&&(e=new fm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zs)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Oh={},b0={};kr&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function dd(t){if(Oh[t])return Oh[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in b0)return Oh[t]=e[n];return t}var N0=dd("animationend"),P0=dd("animationiteration"),D0=dd("animationstart"),O0=dd("transitionend"),j0=new Map,Py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){j0.set(t,e),ys(e,[t])}for(var jh=0;jh<Py.length;jh++){var Mh=Py[jh],nb=Mh.toLowerCase(),rb=Mh[0].toUpperCase()+Mh.slice(1);Pi(nb,"on"+rb)}Pi(N0,"onAnimationEnd");Pi(P0,"onAnimationIteration");Pi(D0,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(O0,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function Dy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nk(r,e,void 0,t),t.currentTarget=null}function M0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Dy(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Dy(i,a,c),s=l}}}if(gc)throw t=Vf,gc=!1,Vf=null,t}function $e(t,e){var n=e[Kf];n===void 0&&(n=e[Kf]=new Set);var r=t+"__bubble";n.has(r)||(L0(e,t,2,!1),n.add(r))}function Lh(t,e,n){var r=0;e&&(r|=4),L0(n,t,r,e)}var Au="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[Au]){t[Au]=!0,HE.forEach(function(n){n!=="selectionchange"&&(ib.has(n)||Lh(n,!1,t),Lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Au]||(e[Au]=!0,Lh("selectionchange",!1,e))}}function L0(t,e,n,r){switch(w0(e)){case 1:var i=yk;break;case 4:i=_k;break;default:i=dm}n=i.bind(null,e,n,t),i=void 0,!Lf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}o0(function(){var c=s,h=am(n),p=[];e:{var m=j0.get(t);if(m!==void 0){var T=fm,S=t;switch(t){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":T=Ok;break;case"focusin":S="focus",T=Nh;break;case"focusout":S="blur",T=Nh;break;case"beforeblur":case"afterblur":T=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Lk;break;case N0:case P0:case D0:T=Sk;break;case O0:T=Fk;break;case"scroll":T=wk;break;case"wheel":T=Uk;break;case"copy":case"cut":case"paste":T=Ak;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Iy}var w=(e&4)!==0,C=!w&&t==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var y=c,I;y!==null;){I=y;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,v!==null&&(O=Ja(y,v),O!=null&&w.push(sl(y,O,I)))),C)break;y=y.return}0<w.length&&(m=new T(m,S,null,n,h),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",m&&n!==jf&&(S=n.relatedTarget||n.fromElement)&&(Ki(S)||S[br]))break e;if((T||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,T?(S=n.relatedTarget||n.toElement,T=c,S=S?Ki(S):null,S!==null&&(C=_s(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=c),T!==S)){if(w=Ey,O="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Iy,O="onPointerLeave",v="onPointerEnter",y="pointer"),C=T==null?m:Ws(T),I=S==null?m:Ws(S),m=new w(O,y+"leave",T,n,h),m.target=C,m.relatedTarget=I,O=null,Ki(h)===c&&(w=new w(v,y+"enter",S,n,h),w.target=I,w.relatedTarget=C,O=w),C=O,T&&S)t:{for(w=T,v=S,y=0,I=w;I;I=Ds(I))y++;for(I=0,O=v;O;O=Ds(O))I++;for(;0<y-I;)w=Ds(w),y--;for(;0<I-y;)v=Ds(v),I--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ds(w),v=Ds(v)}w=null}else w=null;T!==null&&Oy(p,m,T,w,!1),S!==null&&C!==null&&Oy(p,C,S,w,!0)}}e:{if(m=c?Ws(c):window,T=m.nodeName&&m.nodeName.toLowerCase(),T==="select"||T==="input"&&m.type==="file")var P=Kk;else if(xy(m))if(x0)P=Jk;else{P=Qk;var L=Yk}else(T=m.nodeName)&&T.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=Xk);if(P&&(P=P(t,c))){S0(p,P,n,h);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&bf(m,"number",m.value)}switch(L=c?Ws(c):window,t){case"focusin":(xy(L)||L.contentEditable==="true")&&(zs=L,Bf=c,Ma=null);break;case"focusout":Ma=Bf=zs=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,Ny(p,n,h);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":Ny(p,n,h)}var x;if(mm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Bs?I0(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(T0&&n.locale!=="ko"&&(Bs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Bs&&(x=E0()):(li=h,hm="value"in li?li.value:li.textContent,Bs=!0)),L=Ec(c,E),0<L.length&&(E=new Ty(E,t,null,n,h),p.push({event:E,listeners:L}),x?E.data=x:(x=C0(n),x!==null&&(E.data=x)))),(x=zk?Hk(t,n):Wk(t,n))&&(c=Ec(c,"onBeforeInput"),0<c.length&&(h=new Ty("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=x))}M0(p,e)})}function sl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ec(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ja(t,n),s!=null&&r.unshift(sl(t,s,i)),s=Ja(t,e),s!=null&&r.push(sl(t,s,i))),t=t.return}return r}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Oy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ja(n,s),l!=null&&o.unshift(sl(n,l,a))):i||(l=Ja(n,s),l!=null&&o.push(sl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sb=/\r\n?/g,ob=/\u0000|\uFFFD/g;function jy(t){return(typeof t=="string"?t:""+t).replace(sb,`
`).replace(ob,"")}function Ru(t,e,n){if(e=jy(e),jy(t)!==e&&n)throw Error(J(425))}function Tc(){}var Hf=null,Wf=null;function qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(t){return My.resolve(null).then(t).catch(ub)}:Gf;function ub(t){setTimeout(function(){throw t})}function Fh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tl(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ly(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+jo,ol="__reactProps$"+jo,br="__reactContainer$"+jo,Kf="__reactEvents$"+jo,cb="__reactListeners$"+jo,db="__reactHandles$"+jo;function Ki(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ly(t);t!==null;){if(n=t[Kn])return n;t=Ly(t)}return e}t=n,n=t.parentNode}return null}function Ol(t){return t=t[Kn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function hd(t){return t[ol]||null}var Yf=[],qs=-1;function Di(t){return{current:t}}function Be(t){0>qs||(t.current=Yf[qs],Yf[qs]=null,qs--)}function Me(t,e){qs++,Yf[qs]=t.current,t.current=e}var Si={},jt=Di(Si),Xt=Di(!1),is=Si;function po(t,e){var n=t.type.contextTypes;if(!n)return Si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function Ic(){Be(Xt),Be(jt)}function Vy(t,e,n){if(jt.current!==Si)throw Error(J(168));Me(jt,e),Me(Xt,n)}function V0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,YR(t)||"Unknown",i));return Ye({},n,r)}function Cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,is=jt.current,Me(jt,t),Me(Xt,Xt.current),!0}function Fy(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=V0(t,e,is),r.__reactInternalMemoizedMergedChildContext=t,Be(Xt),Be(jt),Me(jt,t)):Be(Xt),Me(Xt,n)}var gr=null,fd=!1,$h=!1;function F0(t){gr===null?gr=[t]:gr.push(t)}function hb(t){fd=!0,F0(t)}function Oi(){if(!$h&&gr!==null){$h=!0;var t=0,e=Ne;try{var n=gr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gr=null,fd=!1}catch(i){throw gr!==null&&(gr=gr.slice(t+1)),c0(lm,Oi),i}finally{Ne=e,$h=!1}}return null}var Gs=[],Ks=0,Sc=null,xc=0,_n=[],wn=0,ss=null,_r=1,wr="";function Wi(t,e){Gs[Ks++]=xc,Gs[Ks++]=Sc,Sc=t,xc=e}function $0(t,e,n){_n[wn++]=_r,_n[wn++]=wr,_n[wn++]=ss,ss=t;var r=_r;t=wr;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_r=1<<32-Ln(e)+i|n<<i|r,wr=s+t}else _r=1<<s|n<<i|r,wr=t}function vm(t){t.return!==null&&(Wi(t,1),$0(t,1,0))}function ym(t){for(;t===Sc;)Sc=Gs[--Ks],Gs[Ks]=null,xc=Gs[--Ks],Gs[Ks]=null;for(;t===ss;)ss=_n[--wn],_n[wn]=null,wr=_n[--wn],_n[wn]=null,_r=_n[--wn],_n[wn]=null}var dn=null,un=null,We=!1,On=null;function U0(t,e){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $y(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,un=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ss!==null?{id:_r,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,un=null,!0):!1;default:return!1}}function Qf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xf(t){if(We){var e=un;if(e){var n=e;if(!$y(t,e)){if(Qf(t))throw Error(J(418));e=gi(n.nextSibling);var r=dn;e&&$y(t,e)?U0(r,n):(t.flags=t.flags&-4097|2,We=!1,dn=t)}}else{if(Qf(t))throw Error(J(418));t.flags=t.flags&-4097|2,We=!1,dn=t}}}function Uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function ku(t){if(t!==dn)return!1;if(!We)return Uy(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qf(t.type,t.memoizedProps)),e&&(e=un)){if(Qf(t))throw B0(),Error(J(418));for(;e;)U0(t,e),e=gi(e.nextSibling)}if(Uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=dn?gi(t.stateNode.nextSibling):null;return!0}function B0(){for(var t=un;t;)t=gi(t.nextSibling)}function mo(){un=dn=null,We=!1}function _m(t){On===null?On=[t]:On.push(t)}var fb=Fr.ReactCurrentBatchConfig;function Pn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ac=Di(null),Rc=null,Ys=null,wm=null;function Em(){wm=Ys=Rc=null}function Tm(t){var e=Ac.current;Be(Ac),t._currentValue=e}function Jf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){Rc=t,wm=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(wm!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(Rc===null)throw Error(J(308));Ys=t,Rc.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Yi=null;function Im(t){Yi===null?Yi=[t]:Yi.push(t)}function z0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Im(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ei=!1;function Cm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nr(t,n)}return i=r.interleaved,i===null?(e.next=e,Im(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nr(t,n)}function Qu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,um(t,n)}}function By(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kc(t,e,n,r){var i=t.updateQueue;ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,h=c=l=null,a=s;do{var m=a.lane,T=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:T,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,w=a;switch(m=e,T=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){p=S.call(T,p,m);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,m=typeof S=="function"?S.call(T,p,m):S,m==null)break e;p=Ye({},p,m);break e;case 2:ei=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else T={eventTime:T,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=T,l=p):h=h.next=T,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);as|=o,t.lanes=o,t.memoizedState=p}}function zy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var W0=new zE.Component().refs;function Zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pd={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=_i(t),s=Cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Vn(e,t,i,r),Qu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=_i(t),s=Cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,i),e!==null&&(Vn(e,t,i,r),Qu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=_i(t),i=Cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=vi(t,i,r),e!==null&&(Vn(e,t,r,n),Qu(e,t,r))}};function Hy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rl(n,r)||!rl(i,s):!0}function q0(t,e,n){var r=!1,i=Si,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Jt(e)?is:jt.current,r=e.contextTypes,s=(r=r!=null)?po(t,i):Si),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Wy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pd.enqueueReplaceState(e,e.state,null)}function ep(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=W0,Cm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Jt(e)?is:jt.current,i.context=po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pd.enqueueReplaceState(i,i.state,null),kc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===W0&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function bu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qy(t){var e=t._init;return e(t._payload)}function G0(t){function e(v,y){if(t){var I=v.deletions;I===null?(v.deletions=[y],v.flags|=16):I.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=wi(v,y),v.index=0,v.sibling=null,v}function s(v,y,I){return v.index=I,t?(I=v.alternate,I!==null?(I=I.index,I<y?(v.flags|=2,y):I):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,I,O){return y===null||y.tag!==6?(y=Gh(I,v.mode,O),y.return=v,y):(y=i(y,I),y.return=v,y)}function l(v,y,I,O){var P=I.type;return P===Us?h(v,y,I.props.children,O,I.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Zr&&qy(P)===y.type)?(O=i(y,I.props),O.ref=ca(v,y,I),O.return=v,O):(O=nc(I.type,I.key,I.props,null,v.mode,O),O.ref=ca(v,y,I),O.return=v,O)}function c(v,y,I,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=Kh(I,v.mode,O),y.return=v,y):(y=i(y,I.children||[]),y.return=v,y)}function h(v,y,I,O,P){return y===null||y.tag!==7?(y=es(I,v.mode,O,P),y.return=v,y):(y=i(y,I),y.return=v,y)}function p(v,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Gh(""+y,v.mode,I),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _u:return I=nc(y.type,y.key,y.props,null,v.mode,I),I.ref=ca(v,null,y),I.return=v,I;case $s:return y=Kh(y,v.mode,I),y.return=v,y;case Zr:var O=y._init;return p(v,O(y._payload),I)}if(Ea(y)||sa(y))return y=es(y,v.mode,I,null),y.return=v,y;bu(v,y)}return null}function m(v,y,I,O){var P=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:a(v,y,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _u:return I.key===P?l(v,y,I,O):null;case $s:return I.key===P?c(v,y,I,O):null;case Zr:return P=I._init,m(v,y,P(I._payload),O)}if(Ea(I)||sa(I))return P!==null?null:h(v,y,I,O,null);bu(v,I)}return null}function T(v,y,I,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return v=v.get(I)||null,a(y,v,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _u:return v=v.get(O.key===null?I:O.key)||null,l(y,v,O,P);case $s:return v=v.get(O.key===null?I:O.key)||null,c(y,v,O,P);case Zr:var L=O._init;return T(v,y,I,L(O._payload),P)}if(Ea(O)||sa(O))return v=v.get(I)||null,h(y,v,O,P,null);bu(y,O)}return null}function S(v,y,I,O){for(var P=null,L=null,x=y,E=y=0,R=null;x!==null&&E<I.length;E++){x.index>E?(R=x,x=null):R=x.sibling;var b=m(v,x,I[E],O);if(b===null){x===null&&(x=R);break}t&&x&&b.alternate===null&&e(v,x),y=s(b,y,E),L===null?P=b:L.sibling=b,L=b,x=R}if(E===I.length)return n(v,x),We&&Wi(v,E),P;if(x===null){for(;E<I.length;E++)x=p(v,I[E],O),x!==null&&(y=s(x,y,E),L===null?P=x:L.sibling=x,L=x);return We&&Wi(v,E),P}for(x=r(v,x);E<I.length;E++)R=T(x,v,E,I[E],O),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?E:R.key),y=s(R,y,E),L===null?P=R:L.sibling=R,L=R);return t&&x.forEach(function(N){return e(v,N)}),We&&Wi(v,E),P}function w(v,y,I,O){var P=sa(I);if(typeof P!="function")throw Error(J(150));if(I=P.call(I),I==null)throw Error(J(151));for(var L=P=null,x=y,E=y=0,R=null,b=I.next();x!==null&&!b.done;E++,b=I.next()){x.index>E?(R=x,x=null):R=x.sibling;var N=m(v,x,b.value,O);if(N===null){x===null&&(x=R);break}t&&x&&N.alternate===null&&e(v,x),y=s(N,y,E),L===null?P=N:L.sibling=N,L=N,x=R}if(b.done)return n(v,x),We&&Wi(v,E),P;if(x===null){for(;!b.done;E++,b=I.next())b=p(v,b.value,O),b!==null&&(y=s(b,y,E),L===null?P=b:L.sibling=b,L=b);return We&&Wi(v,E),P}for(x=r(v,x);!b.done;E++,b=I.next())b=T(x,v,E,b.value,O),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?E:b.key),y=s(b,y,E),L===null?P=b:L.sibling=b,L=b);return t&&x.forEach(function(D){return e(v,D)}),We&&Wi(v,E),P}function C(v,y,I,O){if(typeof I=="object"&&I!==null&&I.type===Us&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _u:e:{for(var P=I.key,L=y;L!==null;){if(L.key===P){if(P=I.type,P===Us){if(L.tag===7){n(v,L.sibling),y=i(L,I.props.children),y.return=v,v=y;break e}}else if(L.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Zr&&qy(P)===L.type){n(v,L.sibling),y=i(L,I.props),y.ref=ca(v,L,I),y.return=v,v=y;break e}n(v,L);break}else e(v,L);L=L.sibling}I.type===Us?(y=es(I.props.children,v.mode,O,I.key),y.return=v,v=y):(O=nc(I.type,I.key,I.props,null,v.mode,O),O.ref=ca(v,y,I),O.return=v,v=O)}return o(v);case $s:e:{for(L=I.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){n(v,y.sibling),y=i(y,I.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Kh(I,v.mode,O),y.return=v,v=y}return o(v);case Zr:return L=I._init,C(v,y,L(I._payload),O)}if(Ea(I))return S(v,y,I,O);if(sa(I))return w(v,y,I,O);bu(v,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,I),y.return=v,v=y):(n(v,y),y=Gh(I,v.mode,O),y.return=v,v=y),o(v)):n(v,y)}return C}var go=G0(!0),K0=G0(!1),jl={},Xn=Di(jl),al=Di(jl),ll=Di(jl);function Qi(t){if(t===jl)throw Error(J(174));return t}function Sm(t,e){switch(Me(ll,e),Me(al,t),Me(Xn,jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pf(e,t)}Be(Xn),Me(Xn,e)}function vo(){Be(Xn),Be(al),Be(ll)}function Y0(t){Qi(ll.current);var e=Qi(Xn.current),n=Pf(e,t.type);e!==n&&(Me(al,t),Me(Xn,n))}function xm(t){al.current===t&&(Be(Xn),Be(al))}var Ge=Di(0);function bc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uh=[];function Am(){for(var t=0;t<Uh.length;t++)Uh[t]._workInProgressVersionPrimary=null;Uh.length=0}var Xu=Fr.ReactCurrentDispatcher,Bh=Fr.ReactCurrentBatchConfig,os=0,Ke=null,ct=null,ft=null,Nc=!1,La=!1,ul=0,pb=0;function At(){throw Error(J(321))}function Rm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function km(t,e,n,r,i,s){if(os=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xu.current=t===null||t.memoizedState===null?yb:_b,t=n(r,i),La){s=0;do{if(La=!1,ul=0,25<=s)throw Error(J(301));s+=1,ft=ct=null,e.updateQueue=null,Xu.current=wb,t=n(r,i)}while(La)}if(Xu.current=Pc,e=ct!==null&&ct.next!==null,os=0,ft=ct=Ke=null,Nc=!1,e)throw Error(J(300));return t}function bm(){var t=ul!==0;return ul=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ke.memoizedState=ft=t:ft=ft.next=t,ft}function Cn(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=ft===null?Ke.memoizedState:ft.next;if(e!==null)ft=e,ct=t;else{if(t===null)throw Error(J(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?Ke.memoizedState=ft=t:ft=ft.next=t}return ft}function cl(t,e){return typeof e=="function"?e(t):e}function zh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((os&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ke.lanes|=h,as|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,as|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fn(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Q0(){}function X0(t,e){var n=Ke,r=Cn(),i=e(),s=!Fn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,Nm(eT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,dl(9,Z0.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(J(349));os&30||J0(n,e,i)}return i}function J0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z0(t,e,n,r){e.value=n,e.getSnapshot=r,tT(e)&&nT(t)}function eT(t,e,n){return n(function(){tT(e)&&nT(t)})}function tT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function nT(t){var e=Nr(t,1);e!==null&&Vn(e,t,1,-1)}function Gy(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},e.queue=t,t=t.dispatch=vb.bind(null,Ke,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rT(){return Cn().memoizedState}function Ju(t,e,n,r){var i=Gn();Ke.flags|=t,i.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function md(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(ct!==null){var o=ct.memoizedState;if(s=o.destroy,r!==null&&Rm(r,o.deps)){i.memoizedState=dl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=dl(1|e,n,s,r)}function Ky(t,e){return Ju(8390656,8,t,e)}function Nm(t,e){return md(2048,8,t,e)}function iT(t,e){return md(4,2,t,e)}function sT(t,e){return md(4,4,t,e)}function oT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aT(t,e,n){return n=n!=null?n.concat([t]):null,md(4,4,oT.bind(null,e,t),n)}function Pm(){}function lT(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uT(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cT(t,e,n){return os&21?(Fn(n,e)||(n=f0(),Ke.lanes|=n,as|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function mb(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Bh.transition;Bh.transition={};try{t(!1),e()}finally{Ne=n,Bh.transition=r}}function dT(){return Cn().memoizedState}function gb(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hT(t))fT(e,n);else if(n=z0(t,e,n,r),n!==null){var i=Ut();Vn(n,t,r,i),pT(n,e,r)}}function vb(t,e,n){var r=_i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hT(t))fT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Fn(a,o)){var l=e.interleaved;l===null?(i.next=i,Im(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=z0(t,e,i,r),n!==null&&(i=Ut(),Vn(n,t,r,i),pT(n,e,r))}}function hT(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function fT(t,e){La=Nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,um(t,n)}}var Pc={readContext:In,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},yb={readContext:In,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:Ky,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4194308,4,oT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ju(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gb.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:Gy,useDebugValue:Pm,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=Gy(!1),e=t[0];return t=mb.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=Gn();if(We){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),mt===null)throw Error(J(349));os&30||J0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ky(eT.bind(null,r,s,t),[t]),r.flags|=2048,dl(9,Z0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gn(),e=mt.identifierPrefix;if(We){var n=wr,r=_r;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_b={readContext:In,useCallback:lT,useContext:In,useEffect:Nm,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:zh,useRef:rT,useState:function(){return zh(cl)},useDebugValue:Pm,useDeferredValue:function(t){var e=Cn();return cT(e,ct.memoizedState,t)},useTransition:function(){var t=zh(cl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:X0,useId:dT,unstable_isNewReconciler:!1},wb={readContext:In,useCallback:lT,useContext:In,useEffect:Nm,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:Hh,useRef:rT,useState:function(){return Hh(cl)},useDebugValue:Pm,useDeferredValue:function(t){var e=Cn();return ct===null?e.memoizedState=t:cT(e,ct.memoizedState,t)},useTransition:function(){var t=Hh(cl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:Q0,useSyncExternalStore:X0,useId:dT,unstable_isNewReconciler:!1};function yo(t,e){try{var n="",r=e;do n+=KR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Wh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Eb=typeof WeakMap=="function"?WeakMap:Map;function mT(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Oc||(Oc=!0,dp=r),tp(t,e)},n}function gT(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){tp(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Eb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jb.bind(null,t,e,n),e.then(t,t))}function Qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var Tb=Fr.ReactCurrentOwner,Qt=!1;function Vt(t,e,n,r){e.child=t===null?K0(e,null,n,r):go(e,t.child,n,r)}function Jy(t,e,n,r,i){n=n.render;var s=e.ref;return so(e,i),r=km(t,e,n,r,s,i),n=bm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(We&&n&&vm(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Zy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$m(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vT(t,e,s,r,i)):(t=nc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rl,n(o,r)&&t.ref===e.ref)return Pr(t,e,i)}return e.flags|=1,t=wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function vT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rl(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Pr(t,e,i)}return np(t,e,n,r,i)}function yT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Xs,ln),ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Xs,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(Xs,ln),ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(Xs,ln),ln|=r;return Vt(t,e,i,n),e.child}function _T(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function np(t,e,n,r,i){var s=Jt(n)?is:jt.current;return s=po(e,s),so(e,i),n=km(t,e,n,r,s,i),r=bm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pr(t,e,i)):(We&&r&&vm(e),e.flags|=1,Vt(t,e,n,i),e.child)}function e_(t,e,n,r,i){if(Jt(n)){var s=!0;Cc(e)}else s=!1;if(so(e,i),e.stateNode===null)Zu(t,e),q0(e,n,r),ep(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=In(c):(c=Jt(n)?is:jt.current,c=po(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Wy(e,o,r,c),ei=!1;var m=e.memoizedState;o.state=m,kc(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Xt.current||ei?(typeof h=="function"&&(Zf(e,n,h,r),l=e.memoizedState),(a=ei||Hy(e,n,a,r,m,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,H0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pn(e.type,a),o.props=c,p=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Jt(n)?is:jt.current,l=po(e,l));var T=n.getDerivedStateFromProps;(h=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&Wy(e,o,r,l),ei=!1,m=e.memoizedState,o.state=m,kc(e,r,o,i);var S=e.memoizedState;a!==p||m!==S||Xt.current||ei?(typeof T=="function"&&(Zf(e,n,T,r),S=e.memoizedState),(c=ei||Hy(e,n,c,r,m,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return rp(t,e,n,r,s,i)}function rp(t,e,n,r,i,s){_T(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fy(e,n,!1),Pr(t,e,s);r=e.stateNode,Tb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&Fy(e,n,!0),e.child}function wT(t){var e=t.stateNode;e.pendingContext?Vy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vy(t,e.context,!1),Sm(t,e.containerInfo)}function t_(t,e,n,r,i){return mo(),_m(i),e.flags|=256,Vt(t,e,n,r),e.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function sp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ET(t,e,n){var r=e.pendingProps,i=Ge.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(Ge,i&1),t===null)return Xf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yd(o,r,0,null),t=es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sp(n),e.memoizedState=ip,t):Dm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ib(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wi(a,s):(s=es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ip,r}return s=t.child,t=s.sibling,r=wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dm(t,e){return e=yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nu(t,e,n,r){return r!==null&&_m(r),go(e,t.child,null,n),t=Dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ib(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Wh(Error(J(422))),Nu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yd({mode:"visible",children:r.children},i,0,null),s=es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=sp(o),e.memoizedState=ip,s);if(!(e.mode&1))return Nu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=Wh(s,r,void 0),Nu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nr(t,i),Vn(r,t,i,-1))}return Fm(),r=Wh(Error(J(421))),Nu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Mb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=gi(i.nextSibling),dn=e,We=!0,On=null,t!==null&&(_n[wn++]=_r,_n[wn++]=wr,_n[wn++]=ss,_r=t.id,wr=t.overflow,ss=e),e=Dm(e,r.children),e.flags|=4096,e)}function n_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jf(t.return,e,n)}function qh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,n,e);else if(t.tag===19)n_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qh(e,!0,n,null,s);break;case"together":qh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cb(t,e,n){switch(e.tag){case 3:wT(e),mo();break;case 5:Y0(e);break;case 1:Jt(e.type)&&Cc(e);break;case 4:Sm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(Ac,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?ET(t,e,n):(Me(Ge,Ge.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Me(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,yT(t,e,n)}return Pr(t,e,n)}var IT,op,CT,ST;IT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};CT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qi(Xn.current);var s=null;switch(n){case"input":i=Rf(t,i),r=Rf(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=Nf(t,i),r=Nf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tc)}Df(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};ST=function(t,e,n,r){n!==r&&(e.flags|=4)};function da(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sb(t,e,n){var r=e.pendingProps;switch(ym(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return Jt(e.type)&&Ic(),Rt(e),null;case 3:return r=e.stateNode,vo(),Be(Xt),Be(jt),Am(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(pp(On),On=null))),op(t,e),Rt(e),null;case 5:xm(e);var i=Qi(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)CT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Rt(e),null}if(t=Qi(Xn.current),ku(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kn]=e,r[ol]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<Ia.length;i++)$e(Ia[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":dy(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":fy(r,s),$e("invalid",r)}Df(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",""+a]):Qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":wu(r),hy(r,s,!0);break;case"textarea":wu(r),py(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kn]=e,t[ol]=r,IT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Of(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ia.length;i++)$e(Ia[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":dy(t,r),i=Rf(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),$e("invalid",t);break;case"textarea":fy(t,r),i=Nf(t,r),$e("invalid",t);break;default:i=r}Df(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?t0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xa(t,l):typeof l=="number"&&Xa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$e("scroll",t):l!=null&&rm(t,s,l,o))}switch(n){case"input":wu(t),hy(t,r,!1);break;case"textarea":wu(t),py(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?to(t,!!r.multiple,s,!1):r.defaultValue!=null&&to(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)ST(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Qi(ll.current),Qi(Xn.current),ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kn]=e,(s=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=e,e.stateNode=r}return Rt(e),null;case 13:if(Be(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&un!==null&&e.mode&1&&!(e.flags&128))B0(),mo(),e.flags|=98560,s=!1;else if(s=ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Kn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),s=!1}else On!==null&&(pp(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?dt===0&&(dt=3):Fm())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return vo(),op(t,e),t===null&&il(e.stateNode.containerInfo),Rt(e),null;case 10:return Tm(e.type._context),Rt(e),null;case 17:return Jt(e.type)&&Ic(),Rt(e),null;case 19:if(Be(Ge),s=e.memoizedState,s===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)da(s,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bc(t),o!==null){for(e.flags|=128,da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(Ge,Ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&rt()>_o&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304)}else{if(!r)if(t=bc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Rt(e),null}else 2*rt()-s.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rt(),e.sibling=null,n=Ge.current,Me(Ge,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return Vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function xb(t,e){switch(ym(e),e.tag){case 1:return Jt(e.type)&&Ic(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vo(),Be(Xt),Be(jt),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xm(e),null;case 13:if(Be(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Ge),null;case 4:return vo(),null;case 10:return Tm(e.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var Pu=!1,Pt=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function ap(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var r_=!1;function Rb(t,e){if(Hf=_c,t=k0(),gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,p=t,m=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)m=p,p=T;for(;;){if(p===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(l=o),(T=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=T}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:t,selectionRange:n},_c=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,C=S.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Pn(e.type,w),C);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(O){Ze(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return S=r_,r_=!1,S}function Va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ap(e,n,s)}i=i.next}while(i!==r)}}function gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xT(t){var e=t.alternate;e!==null&&(t.alternate=null,xT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[ol],delete e[Kf],delete e[cb],delete e[db])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AT(t){return t.tag===5||t.tag===3||t.tag===4}function i_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tc));else if(r!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}var vt=null,Dn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)RT(t,e,n),n=n.sibling}function RT(t,e,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(ld,n)}catch{}switch(n.tag){case 5:Pt||Qs(n,e);case 6:var r=vt,i=Dn;vt=null,Kr(t,e,n),vt=r,Dn=i,vt!==null&&(Dn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Dn?(t=vt,n=n.stateNode,t.nodeType===8?Fh(t.parentNode,n):t.nodeType===1&&Fh(t,n),tl(t)):Fh(vt,n.stateNode));break;case 4:r=vt,i=Dn,vt=n.stateNode.containerInfo,Dn=!0,Kr(t,e,n),vt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ap(n,e,o),i=i.next}while(i!==r)}Kr(t,e,n);break;case 1:if(!Pt&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Kr(t,e,n),Pt=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function s_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ab),e.forEach(function(r){var i=Lb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Dn=!1;break e;case 3:vt=a.stateNode.containerInfo,Dn=!0;break e;case 4:vt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(vt===null)throw Error(J(160));RT(s,o,i),vt=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kT(e,t),e=e.sibling}function kT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),qn(t),r&4){try{Va(3,t,t.return),gd(3,t)}catch(w){Ze(t,t.return,w)}try{Va(5,t,t.return)}catch(w){Ze(t,t.return,w)}}break;case 1:Nn(e,t),qn(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(Nn(e,t),qn(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{Xa(i,"")}catch(w){Ze(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QE(i,s),Of(a,o);var c=Of(a,s);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?t0(i,p):h==="dangerouslySetInnerHTML"?ZE(i,p):h==="children"?Xa(i,p):rm(i,h,p,c)}switch(a){case"input":kf(i,s);break;case"textarea":XE(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?to(i,!!s.multiple,T,!1):m!==!!s.multiple&&(s.defaultValue!=null?to(i,!!s.multiple,s.defaultValue,!0):to(i,!!s.multiple,s.multiple?[]:"",!1))}i[ol]=s}catch(w){Ze(t,t.return,w)}}break;case 6:if(Nn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ze(t,t.return,w)}}break;case 3:if(Nn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tl(e.containerInfo)}catch(w){Ze(t,t.return,w)}break;case 4:Nn(e,t),qn(t);break;case 13:Nn(e,t),qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mm=rt())),r&4&&s_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||h,Nn(e,t),Pt=c):Nn(e,t),qn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ie=t,h=t.child;h!==null;){for(p=ie=h;ie!==null;){switch(m=ie,T=m.child,m.tag){case 0:case 11:case 14:case 15:Va(4,m,m.return);break;case 1:Qs(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(w){Ze(r,n,w)}}break;case 5:Qs(m,m.return);break;case 22:if(m.memoizedState!==null){a_(p);continue}}T!==null?(T.return=m,ie=T):a_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=e0("display",o))}catch(w){Ze(t,t.return,w)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(w){Ze(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Nn(e,t),qn(t),r&4&&s_(t);break;case 21:break;default:Nn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AT(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xa(i,""),r.flags&=-33);var s=i_(t);cp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i_(t);up(t,a,o);break;default:throw Error(J(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kb(t,e,n){ie=t,bT(t)}function bT(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=Pu;var c=Pt;if(Pu=o,(Pt=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?l_(i):l!==null?(l.return=o,ie=l):l_(i);for(;s!==null;)ie=s,bT(s),s=s.sibling;ie=i,Pu=a,Pt=c}o_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):o_(t)}}function o_(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&tl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Pt||e.flags&512&&lp(e)}catch(m){Ze(e,e.return,m)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function a_(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function l_(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gd(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var s=e.return;try{lp(e)}catch(l){Ze(e,s,l)}break;case 5:var o=e.return;try{lp(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var bb=Math.ceil,Dc=Fr.ReactCurrentDispatcher,Om=Fr.ReactCurrentOwner,Tn=Fr.ReactCurrentBatchConfig,Re=0,mt=null,ot=null,Et=0,ln=0,Xs=Di(0),dt=0,hl=null,as=0,vd=0,jm=0,Fa=null,Kt=null,Mm=0,_o=1/0,pr=null,Oc=!1,dp=null,yi=null,Du=!1,ui=null,jc=0,$a=0,hp=null,ec=-1,tc=0;function Ut(){return Re&6?rt():ec!==-1?ec:ec=rt()}function _i(t){return t.mode&1?Re&2&&Et!==0?Et&-Et:fb.transition!==null?(tc===0&&(tc=f0()),tc):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:w0(t.type)),t):1}function Vn(t,e,n,r){if(50<$a)throw $a=0,hp=null,Error(J(185));Pl(t,n,r),(!(Re&2)||t!==mt)&&(t===mt&&(!(Re&2)&&(vd|=n),dt===4&&ri(t,Et)),Zt(t,r),n===1&&Re===0&&!(e.mode&1)&&(_o=rt()+500,fd&&Oi()))}function Zt(t,e){var n=t.callbackNode;fk(t,e);var r=yc(t,t===mt?Et:0);if(r===0)n!==null&&vy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vy(n),e===1)t.tag===0?hb(u_.bind(null,t)):F0(u_.bind(null,t)),lb(function(){!(Re&6)&&Oi()}),n=null;else{switch(p0(r)){case 1:n=lm;break;case 4:n=d0;break;case 16:n=vc;break;case 536870912:n=h0;break;default:n=vc}n=VT(n,NT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NT(t,e){if(ec=-1,tc=0,Re&6)throw Error(J(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=yc(t,t===mt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mc(t,r);else{e=r;var i=Re;Re|=2;var s=DT();(mt!==t||Et!==e)&&(pr=null,_o=rt()+500,Zi(t,e));do try{Db();break}catch(a){PT(t,a)}while(!0);Em(),Dc.current=s,Re=i,ot!==null?e=0:(mt=null,Et=0,e=dt)}if(e!==0){if(e===2&&(i=Ff(t),i!==0&&(r=i,e=fp(t,i))),e===1)throw n=hl,Zi(t,0),ri(t,r),Zt(t,rt()),n;if(e===6)ri(t,r);else{if(i=t.current.alternate,!(r&30)&&!Nb(i)&&(e=Mc(t,r),e===2&&(s=Ff(t),s!==0&&(r=s,e=fp(t,s))),e===1))throw n=hl,Zi(t,0),ri(t,r),Zt(t,rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:qi(t,Kt,pr);break;case 3:if(ri(t,r),(r&130023424)===r&&(e=Mm+500-rt(),10<e)){if(yc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gf(qi.bind(null,t,Kt,pr),e);break}qi(t,Kt,pr);break;case 4:if(ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bb(r/1960))-r,10<r){t.timeoutHandle=Gf(qi.bind(null,t,Kt,pr),r);break}qi(t,Kt,pr);break;case 5:qi(t,Kt,pr);break;default:throw Error(J(329))}}}return Zt(t,rt()),t.callbackNode===n?NT.bind(null,t):null}function fp(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=Mc(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&pp(e)),t}function pp(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function Nb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ri(t,e){for(e&=~jm,e&=~vd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function u_(t){if(Re&6)throw Error(J(327));oo();var e=yc(t,0);if(!(e&1))return Zt(t,rt()),null;var n=Mc(t,e);if(t.tag!==0&&n===2){var r=Ff(t);r!==0&&(e=r,n=fp(t,r))}if(n===1)throw n=hl,Zi(t,0),ri(t,e),Zt(t,rt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,Kt,pr),Zt(t,rt()),null}function Lm(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(_o=rt()+500,fd&&Oi())}}function ls(t){ui!==null&&ui.tag===0&&!(Re&6)&&oo();var e=Re;Re|=1;var n=Tn.transition,r=Ne;try{if(Tn.transition=null,Ne=1,t)return t()}finally{Ne=r,Tn.transition=n,Re=e,!(Re&6)&&Oi()}}function Vm(){ln=Xs.current,Be(Xs)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ab(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(ym(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ic();break;case 3:vo(),Be(Xt),Be(jt),Am();break;case 5:xm(r);break;case 4:vo();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:Tm(r.type._context);break;case 22:case 23:Vm()}n=n.return}if(mt=t,ot=t=wi(t.current,null),Et=ln=e,dt=0,hl=null,jm=vd=as=0,Kt=Fa=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Yi=null}return t}function PT(t,e){do{var n=ot;try{if(Em(),Xu.current=Pc,Nc){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nc=!1}if(os=0,ft=ct=Ke=null,La=!1,ul=0,Om.current=null,n===null||n.return===null){dt=1,hl=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var T=Qy(o);if(T!==null){T.flags&=-257,Xy(T,o,a,s,e),T.mode&1&&Yy(s,c,e),e=T,l=c;var S=e.updateQueue;if(S===null){var w=new Set;w.add(l),e.updateQueue=w}else S.add(l);break e}else{if(!(e&1)){Yy(s,c,e),Fm();break e}l=Error(J(426))}}else if(We&&a.mode&1){var C=Qy(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Xy(C,o,a,s,e),_m(yo(l,a));break e}}s=l=yo(l,a),dt!==4&&(dt=2),Fa===null?Fa=[s]:Fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=mT(s,l,e);By(s,v);break e;case 1:a=l;var y=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(yi===null||!yi.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=gT(s,a,e);By(s,O);break e}}s=s.return}while(s!==null)}jT(n)}catch(P){e=P,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function DT(){var t=Dc.current;return Dc.current=Pc,t===null?Pc:t}function Fm(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||!(as&268435455)&&!(vd&268435455)||ri(mt,Et)}function Mc(t,e){var n=Re;Re|=2;var r=DT();(mt!==t||Et!==e)&&(pr=null,Zi(t,e));do try{Pb();break}catch(i){PT(t,i)}while(!0);if(Em(),Re=n,Dc.current=r,ot!==null)throw Error(J(261));return mt=null,Et=0,dt}function Pb(){for(;ot!==null;)OT(ot)}function Db(){for(;ot!==null&&!ik();)OT(ot)}function OT(t){var e=LT(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?jT(t):ot=e,Om.current=null}function jT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xb(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(n=Sb(n,e,ln),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);dt===0&&(dt=5)}function qi(t,e,n){var r=Ne,i=Tn.transition;try{Tn.transition=null,Ne=1,Ob(t,e,n,r)}finally{Tn.transition=i,Ne=r}return null}function Ob(t,e,n,r){do oo();while(ui!==null);if(Re&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pk(t,s),t===mt&&(ot=mt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,VT(vc,function(){return oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var o=Ne;Ne=1;var a=Re;Re|=4,Om.current=null,Rb(t,n),kT(n,t),eb(Wf),_c=!!Hf,Wf=Hf=null,t.current=n,kb(n),sk(),Re=a,Ne=o,Tn.transition=s}else t.current=n;if(Du&&(Du=!1,ui=t,jc=i),s=t.pendingLanes,s===0&&(yi=null),lk(n.stateNode),Zt(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oc)throw Oc=!1,t=dp,dp=null,t;return jc&1&&t.tag!==0&&oo(),s=t.pendingLanes,s&1?t===hp?$a++:($a=0,hp=t):$a=0,Oi(),null}function oo(){if(ui!==null){var t=p0(jc),e=Tn.transition,n=Ne;try{if(Tn.transition=null,Ne=16>t?16:t,ui===null)var r=!1;else{if(t=ui,ui=null,jc=0,Re&6)throw Error(J(331));var i=Re;for(Re|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:Va(8,h,s)}var p=h.child;if(p!==null)p.return=h,ie=p;else for(;ie!==null;){h=ie;var m=h.sibling,T=h.return;if(xT(h),h===c){ie=null;break}if(m!==null){m.return=T,ie=m;break}ie=T}}}var S=s.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Va(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ie=v;break e}ie=s.return}}var y=t.current;for(ie=y;ie!==null;){o=ie;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,ie=I;else e:for(o=y;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gd(9,a)}}catch(P){Ze(a,a.return,P)}if(a===o){ie=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ie=O;break e}ie=a.return}}if(Re=i,Oi(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(ld,t)}catch{}r=!0}return r}finally{Ne=n,Tn.transition=e}}return!1}function c_(t,e,n){e=yo(n,e),e=mT(t,e,1),t=vi(t,e,1),e=Ut(),t!==null&&(Pl(t,1,e),Zt(t,e))}function Ze(t,e,n){if(t.tag===3)c_(t,t,n);else for(;e!==null;){if(e.tag===3){c_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=yo(n,t),t=gT(e,t,1),e=vi(e,t,1),t=Ut(),e!==null&&(Pl(e,1,t),Zt(e,t));break}}e=e.return}}function jb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(Et&n)===n&&(dt===4||dt===3&&(Et&130023424)===Et&&500>rt()-Mm?Zi(t,0):jm|=n),Zt(t,e)}function MT(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=Ut();t=Nr(t,e),t!==null&&(Pl(t,e,n),Zt(t,n))}function Mb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MT(t,n)}function Lb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),MT(t,n)}var LT;LT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,Cb(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,We&&e.flags&1048576&&$0(e,xc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zu(t,e),t=e.pendingProps;var i=po(e,jt.current);so(e,n),i=km(null,e,r,t,i,n);var s=bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,Cc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cm(e),i.updater=pd,e.stateNode=i,i._reactInternals=e,ep(e,r,t,n),e=rp(null,e,r,!0,s,n)):(e.tag=0,We&&s&&vm(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Fb(r),t=Pn(r,t),i){case 0:e=np(null,e,r,t,n);break e;case 1:e=e_(null,e,r,t,n);break e;case 11:e=Jy(null,e,r,t,n);break e;case 14:e=Zy(null,e,r,Pn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),np(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),e_(t,e,r,i,n);case 3:e:{if(wT(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,H0(t,e),kc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yo(Error(J(423)),e),e=t_(t,e,r,n,i);break e}else if(r!==i){i=yo(Error(J(424)),e),e=t_(t,e,r,n,i);break e}else for(un=gi(e.stateNode.containerInfo.firstChild),dn=e,We=!0,On=null,n=K0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=Pr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return Y0(e),t===null&&Xf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qf(r,i)?o=null:s!==null&&qf(r,s)&&(e.flags|=32),_T(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&Xf(e),null;case 13:return ET(t,e,n);case 4:return Sm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),Jy(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(Ac,r._currentValue),r._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===i.children&&!Xt.current){e=Pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Cr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,so(e,n),i=In(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Pn(r,e.pendingProps),i=Pn(r.type,i),Zy(t,e,r,i,n);case 15:return vT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pn(r,i),Zu(t,e),e.tag=1,Jt(r)?(t=!0,Cc(e)):t=!1,so(e,n),q0(e,r,i),ep(e,r,i,n),rp(null,e,r,!0,t,n);case 19:return TT(t,e,n);case 22:return yT(t,e,n)}throw Error(J(156,e.tag))};function VT(t,e){return c0(t,e)}function Vb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,r){return new Vb(t,e,n,r)}function $m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fb(t){if(typeof t=="function")return $m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sm)return 11;if(t===om)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$m(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Us:return es(n.children,i,s,e);case im:o=8,i|=8;break;case Cf:return t=En(12,n,e,i|2),t.elementType=Cf,t.lanes=s,t;case Sf:return t=En(13,n,e,i),t.elementType=Sf,t.lanes=s,t;case xf:return t=En(19,n,e,i),t.elementType=xf,t.lanes=s,t;case GE:return yd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WE:o=10;break e;case qE:o=9;break e;case sm:o=11;break e;case om:o=14;break e;case Zr:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=En(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function es(t,e,n,r){return t=En(7,t,r,e),t.lanes=n,t}function yd(t,e,n,r){return t=En(22,t,r,e),t.elementType=GE,t.lanes=n,t.stateNode={isHidden:!1},t}function Gh(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function Kh(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $b(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rh(0),this.expirationTimes=Rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Um(t,e,n,r,i,s,o,a,l){return t=new $b(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cm(s),t}function Ub(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FT(t){if(!t)return Si;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Jt(n))return V0(t,n,e)}return e}function $T(t,e,n,r,i,s,o,a,l){return t=Um(n,r,!0,t,i,s,o,a,l),t.context=FT(null),n=t.current,r=Ut(),i=_i(n),s=Cr(r,i),s.callback=e??null,vi(n,s,i),t.current.lanes=i,Pl(t,i,r),Zt(t,r),t}function _d(t,e,n,r){var i=e.current,s=Ut(),o=_i(i);return n=FT(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(i,e,o),t!==null&&(Vn(t,i,o,s),Qu(t,i,o)),o}function Lc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bm(t,e){d_(t,e),(t=t.alternate)&&d_(t,e)}function Bb(){return null}var UT=typeof reportError=="function"?reportError:function(t){console.error(t)};function zm(t){this._internalRoot=t}wd.prototype.render=zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));_d(t,e,null,null)};wd.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ls(function(){_d(null,t,null,null)}),e[br]=null}};function wd(t){this._internalRoot=t}wd.prototype.unstable_scheduleHydration=function(t){if(t){var e=v0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ni.length&&e!==0&&e<ni[n].priority;n++);ni.splice(n,0,t),n===0&&_0(t)}};function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h_(){}function zb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Lc(o);s.call(c)}}var o=$T(e,r,t,0,null,!1,!1,"",h_);return t._reactRootContainer=o,t[br]=o.current,il(t.nodeType===8?t.parentNode:t),ls(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Lc(l);a.call(c)}}var l=Um(t,0,!1,null,null,!1,!1,"",h_);return t._reactRootContainer=l,t[br]=l.current,il(t.nodeType===8?t.parentNode:t),ls(function(){_d(e,l,n,r)}),l}function Td(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lc(o);a.call(l)}}_d(e,o,t,i)}else o=zb(n,e,t,i,r);return Lc(o)}m0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ta(e.pendingLanes);n!==0&&(um(e,n|1),Zt(e,rt()),!(Re&6)&&(_o=rt()+500,Oi()))}break;case 13:ls(function(){var r=Nr(t,1);if(r!==null){var i=Ut();Vn(r,t,1,i)}}),Bm(t,1)}};cm=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=Ut();Vn(e,t,134217728,n)}Bm(t,134217728)}};g0=function(t){if(t.tag===13){var e=_i(t),n=Nr(t,e);if(n!==null){var r=Ut();Vn(n,t,e,r)}Bm(t,e)}};v0=function(){return Ne};y0=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Mf=function(t,e,n){switch(e){case"input":if(kf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hd(r);if(!i)throw Error(J(90));YE(r),kf(r,i)}}}break;case"textarea":XE(t,n);break;case"select":e=n.value,e!=null&&to(t,!!n.multiple,e,!1)}};i0=Lm;s0=ls;var Hb={usingClientEntryPoint:!1,Events:[Ol,Ws,hd,n0,r0,Lm]},ha={findFiberByHostInstance:Ki,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wb={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=l0(t),t===null?null:t.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||Bb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{ld=Ou.inject(Wb),Qn=Ou}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hb;gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hm(e))throw Error(J(200));return Ub(t,e,null,n)};gn.createRoot=function(t,e){if(!Hm(t))throw Error(J(299));var n=!1,r="",i=UT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Um(t,1,!1,null,null,n,!1,r,i),t[br]=e.current,il(t.nodeType===8?t.parentNode:t),new zm(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=l0(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return ls(t)};gn.hydrate=function(t,e,n){if(!Ed(e))throw Error(J(200));return Td(null,t,e,!0,n)};gn.hydrateRoot=function(t,e,n){if(!Hm(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=UT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$T(e,null,t,1,n??null,i,!1,s,o),t[br]=e.current,il(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wd(e)};gn.render=function(t,e,n){if(!Ed(e))throw Error(J(200));return Td(null,t,e,!1,n)};gn.unmountComponentAtNode=function(t){if(!Ed(t))throw Error(J(40));return t._reactRootContainer?(ls(function(){Td(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};gn.unstable_batchedUpdates=Lm;gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ed(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Td(t,e,n,!1,r)};gn.version="18.2.0-next-9e3b772b8-20220608";function BT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BT)}catch(t){console.error(t)}}BT(),$E.exports=gn;var zT=$E.exports;const Js=Rn(zT);var f_=zT;Tf.createRoot=f_.createRoot,Tf.hydrateRoot=f_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}var ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ci||(ci={}));const p_="popstate";function qb(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return mp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:WT(i)}return Kb(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gb(){return Math.random().toString(36).substr(2,8)}function m_(t,e){return{usr:t.state,key:t.key,idx:e}}function mp(t,e,n,r){return n===void 0&&(n=null),fl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:n,key:e&&e.key||r||Gb()})}function WT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Kb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ci.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(fl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=ci.Pop;let C=h(),v=C==null?null:C-c;c=C,l&&l({action:a,location:w.location,delta:v})}function m(C,v){a=ci.Push;let y=mp(w.location,C,v);c=h()+1;let I=m_(y,c),O=w.createHref(y);try{o.pushState(I,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(O)}s&&l&&l({action:a,location:w.location,delta:1})}function T(C,v){a=ci.Replace;let y=mp(w.location,C,v);c=h();let I=m_(y,c),O=w.createHref(y);o.replaceState(I,"",O),s&&l&&l({action:a,location:w.location,delta:0})}function S(C){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof C=="string"?C:WT(C);return y=y.replace(/ $/,"%20"),lt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(p_,p),l=C,()=>{i.removeEventListener(p_,p),l=null}},createHref(C){return e(i,C)},createURL:S,encodeLocation(C){let v=S(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:T,go(C){return o.go(C)}};return w}var g_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(g_||(g_={}));function Yb(t,e,n){return n===void 0&&(n="/"),Qb(t,e,n)}function Qb(t,e,n,r){let i=typeof e=="string"?Mo(e):e,s=KT(i.pathname||"/",n);if(s==null)return null;let o=qT(t);Xb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=u1(s);a=o1(o[l],c)}return a}function qT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ts([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(lt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qT(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:i1(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of GT(s.path))i(s,o,l)}),e}function GT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=GT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Xb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jb=/^:[\w-]+$/,Zb=3,e1=2,t1=1,n1=10,r1=-2,v_=t=>t==="*";function i1(t,e){let n=t.split("/"),r=n.length;return n.some(v_)&&(r+=r1),e&&(r+=e1),n.filter(i=>!v_(i)).reduce((i,s)=>i+(Jb.test(s)?Zb:s===""?t1:n1),r)}function s1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function o1(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=a1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ts([s,p.pathname]),pathnameBase:f1(ts([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=ts([s,p.pathnameBase]))}return o}function a1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=l1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:m,isOptional:T}=h;if(m==="*"){let w=a[p]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const S=a[p];return T&&!S?c[m]=void 0:c[m]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function l1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),HT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function u1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Mo(t):t;return{pathname:n?n.startsWith("/")?n:d1(n,e):e,search:p1(r),hash:m1(i)}}function d1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YT(t,e){let n=h1(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Mo(t):(i=fl({},t),lt(!i.pathname||!i.pathname.includes("?"),Yh("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),Yh("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),Yh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let l=c1(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),f1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XT=["post","put","patch","delete"];new Set(XT);const v1=["get",...XT];new Set(v1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(this,arguments)}const Wm=_.createContext(null),y1=_.createContext(null),Ml=_.createContext(null),Id=_.createContext(null),ws=_.createContext({outlet:null,matches:[],isDataRoute:!1}),JT=_.createContext(null);function Ll(){return _.useContext(Id)!=null}function Es(){return Ll()||lt(!1),_.useContext(Id).location}function ZT(t){_.useContext(Ml).static||_.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=_.useContext(ws);return t?N1():_1()}function _1(){Ll()||lt(!1);let t=_.useContext(Wm),{basename:e,future:n,navigator:r}=_.useContext(Ml),{matches:i}=_.useContext(ws),{pathname:s}=Es(),o=JSON.stringify(YT(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return ZT(()=>{a.current=!0}),_.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=QT(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ts([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,s,t])}function w1(t,e){return E1(t,e)}function E1(t,e,n,r){Ll()||lt(!1);let{navigator:i}=_.useContext(Ml),{matches:s}=_.useContext(ws),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Es(),h;if(e){var p;let C=typeof e=="string"?Mo(e):e;l==="/"||(p=C.pathname)!=null&&p.startsWith(l)||lt(!1),h=C}else h=c;let m=h.pathname||"/",T=m;if(l!=="/"){let C=l.replace(/^\//,"").split("/");T="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Yb(t,{pathname:T}),w=x1(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:ts([l,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:ts([l,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&w?_.createElement(Id.Provider,{value:{location:pl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ci.Pop}},w):w}function T1(){let t=b1(),e=g1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const I1=_.createElement(T1,null);class C1 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(ws.Provider,{value:this.props.routeContext},_.createElement(JT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S1(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(Wm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(ws.Provider,{value:e},r)}function x1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||lt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:T}=n,S=p.route.loader&&m[p.route.id]===void 0&&(!T||T[p.route.id]===void 0);if(p.route.lazy||S){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let T,S=!1,w=null,C=null;n&&(T=a&&p.route.id?a[p.route.id]:void 0,w=p.route.errorElement||I1,l&&(c<0&&m===0?(P1("route-fallback"),S=!0,C=null):c===m&&(S=!0,C=p.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),y=()=>{let I;return T?I=w:S?I=C:p.route.Component?I=_.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=h,_.createElement(S1,{match:p,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?_.createElement(C1,{location:n.location,revalidation:n.revalidation,component:w,error:T,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var eI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eI||{}),tI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tI||{});function A1(t){let e=_.useContext(Wm);return e||lt(!1),e}function R1(t){let e=_.useContext(y1);return e||lt(!1),e}function k1(t){let e=_.useContext(ws);return e||lt(!1),e}function nI(t){let e=k1(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function b1(){var t;let e=_.useContext(JT),n=R1(),r=nI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function N1(){let{router:t}=A1(eI.UseNavigateStable),e=nI(tI.UseNavigateStable),n=_.useRef(!1);return ZT(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pl({fromRouteId:e},s)))},[t,e])}const y_={};function P1(t,e,n){y_[t]||(y_[t]=!0)}function D1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function __(t){let{to:e,replace:n,state:r,relative:i}=t;Ll()||lt(!1);let{future:s,static:o}=_.useContext(Ml),{matches:a}=_.useContext(ws),{pathname:l}=Es(),c=ji(),h=QT(e,YT(a,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(h);return _.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:i}),[c,p,i,n,r]),null}function an(t){lt(!1)}function O1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ci.Pop,navigator:s,static:o=!1,future:a}=t;Ll()&&lt(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:s,static:o,future:pl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Mo(r));let{pathname:h="/",search:p="",hash:m="",state:T=null,key:S="default"}=r,w=_.useMemo(()=>{let C=KT(h,l);return C==null?null:{location:{pathname:C,search:p,hash:m,state:T,key:S},navigationType:i}},[l,h,p,m,T,S,i]);return w==null?null:_.createElement(Ml.Provider,{value:c},_.createElement(Id.Provider,{children:n,value:w}))}function j1(t){let{children:e,location:n}=t;return w1(gp(e),n)}new Promise(()=>{});function gp(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,gp(r.props.children,s));return}r.type!==an&&lt(!1),!r.props.index||!r.props.children||lt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const M1="6";try{window.__reactRouterVersion=M1}catch{}const L1="startTransition",w_=MR[L1];function V1(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=qb({window:i,v5Compat:!0}));let o=s.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=_.useCallback(p=>{c&&w_?w_(()=>l(p)):l(p)},[l,c]);return _.useLayoutEffect(()=>o.listen(h),[o,h]),_.useEffect(()=>D1(r),[r]),_.createElement(O1,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var E_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(E_||(E_={}));var T_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(T_||(T_={}));var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,T=c&63;l||(T=64,o||(m=64)),r.push(n[h],n[p],n[m],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new $1;const m=s<<2|a>>4;if(r.push(m),c!==64){const T=a<<4&240|c>>2;if(r.push(T),p!==64){const S=c<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U1=function(t){const e=rI(t);return iI.encodeByteArray(e,!0)},Vc=function(t){return U1(t).replace(/\./g,"")},sI=function(t){try{return iI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=()=>B1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof I_>"u")return;const t=I_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sI(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return z1()||H1()||W1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oI=t=>{var e,n;return(n=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aI=t=>{const e=oI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lI=()=>{var t;return(t=Cd())===null||t===void 0?void 0:t.config},uI=t=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function K1(){var t;const e=(t=Cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X1(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J1(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Z1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eN,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ts.prototype.create)}}class Ts{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new kn(i,a,r)}}function tN(t,e){return t.replace(nN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nN=/\{\$([^}]+)}/g;function rN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ml(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(C_(s)&&C_(o)){if(!ml(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iN(t,e){const n=new sN(t,e);return n.subscribe.bind(n)}class sN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qh),i.error===void 0&&(i.error=Qh),i.complete===void 0&&(i.complete=Qh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1e3,lN=2,uN=4*60*60*1e3,cN=.5;function S_(t,e=aN,n=lN){const r=e*Math.pow(n,t),i=Math.round(cN*r*(Math.random()-.5)*2);return Math.min(uN,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t){return t&&t._delegate?t._delegate:t}class Sn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fN(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hN(t){return t===Gi?void 0:t}function fN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const mN={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},gN=Se.INFO,vN={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},yN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sd{constructor(e){this.name=e,this._logLevel=gN,this._logHandler=yN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const _N=(t,e)=>e.some(n=>t instanceof n);let x_,A_;function wN(){return x_||(x_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EN(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pI=new WeakMap,vp=new WeakMap,mI=new WeakMap,Xh=new WeakMap,qm=new WeakMap;function TN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pI.set(n,t)}).catch(()=>{}),qm.set(e,t),e}function IN(t){if(vp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vp.set(t,e)}let yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CN(t){yp=t(yp)}function SN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jh(this),e,...n);return mI.set(r,e.sort?e.sort():[e]),Ei(r)}:EN().includes(t)?function(...e){return t.apply(Jh(this),e),Ei(pI.get(this))}:function(...e){return Ei(t.apply(Jh(this),e))}}function xN(t){return typeof t=="function"?SN(t):(t instanceof IDBTransaction&&IN(t),_N(t,wN())?new Proxy(t,yp):t)}function Ei(t){if(t instanceof IDBRequest)return TN(t);if(Xh.has(t))return Xh.get(t);const e=xN(t);return e!==t&&(Xh.set(t,e),qm.set(e,t)),e}const Jh=t=>qm.get(t);function gI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ei(o.result),l.oldVersion,l.newVersion,Ei(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const AN=["get","getKey","getAll","getAllKeys","count"],RN=["put","add","delete","clear"],Zh=new Map;function R_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zh.get(e))return Zh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Zh.set(e,s),s}CN(t=>({...t,get:(e,n,r)=>R_(e,n)||t.get(e,n,r),has:(e,n)=>!!R_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _p="@firebase/app",k_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Sd("@firebase/app"),NN="@firebase/app-compat",PN="@firebase/analytics-compat",DN="@firebase/analytics",ON="@firebase/app-check-compat",jN="@firebase/app-check",MN="@firebase/auth",LN="@firebase/auth-compat",VN="@firebase/database",FN="@firebase/data-connect",$N="@firebase/database-compat",UN="@firebase/functions",BN="@firebase/functions-compat",zN="@firebase/installations",HN="@firebase/installations-compat",WN="@firebase/messaging",qN="@firebase/messaging-compat",GN="@firebase/performance",KN="@firebase/performance-compat",YN="@firebase/remote-config",QN="@firebase/remote-config-compat",XN="@firebase/storage",JN="@firebase/storage-compat",ZN="@firebase/firestore",eP="@firebase/vertexai-preview",tP="@firebase/firestore-compat",nP="firebase",rP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="[DEFAULT]",iP={[_p]:"fire-core",[NN]:"fire-core-compat",[DN]:"fire-analytics",[PN]:"fire-analytics-compat",[jN]:"fire-app-check",[ON]:"fire-app-check-compat",[MN]:"fire-auth",[LN]:"fire-auth-compat",[VN]:"fire-rtdb",[FN]:"fire-data-connect",[$N]:"fire-rtdb-compat",[UN]:"fire-fn",[BN]:"fire-fn-compat",[zN]:"fire-iid",[HN]:"fire-iid-compat",[WN]:"fire-fcm",[qN]:"fire-fcm-compat",[GN]:"fire-perf",[KN]:"fire-perf-compat",[YN]:"fire-rc",[QN]:"fire-rc-compat",[XN]:"fire-gcs",[JN]:"fire-gcs-compat",[ZN]:"fire-fst",[tP]:"fire-fst-compat",[eP]:"fire-vertex","fire-js":"fire-js",[nP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,sP=new Map,Ep=new Map;function b_(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $n(t){const e=t.name;if(Ep.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,t);for(const n of Fc.values())b_(n,t);for(const n of sP.values())b_(n,t);return!0}function Mi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Ts("app","Firebase",oP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=rP;function vI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=lI()),!n)throw Ti.create("no-options");const s=Fc.get(i);if(s){if(ml(n,s.options)&&ml(r,s.config))return s;throw Ti.create("duplicate-app",{appName:i})}const o=new pN(i);for(const l of Ep.values())o.addComponent(l);const a=new aP(n,r,o);return Fc.set(i,a),a}function xd(t=wp){const e=Fc.get(t);if(!e&&t===wp&&lI())return vI();if(!e)throw Ti.create("no-app",{appName:t});return e}function en(t,e,n){var r;let i=(r=iP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}$n(new Sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="firebase-heartbeat-database",uP=1,gl="firebase-heartbeat-store";let ef=null;function yI(){return ef||(ef=gI(lP,uP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),ef}async function cP(t){try{const n=(await yI()).transaction(gl),r=await n.objectStore(gl).get(_I(t));return await n.done,r}catch(e){if(e instanceof kn)Dr.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function N_(t,e){try{const r=(await yI()).transaction(gl,"readwrite");await r.objectStore(gl).put(e,_I(t)),await r.done}catch(n){if(n instanceof kn)Dr.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function _I(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=1024,hP=30*24*60*60*1e3;class fP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=hP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:r,unsentEntries:i}=pP(this._heartbeatsCache.heartbeats),s=Vc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dr.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function pP(t,e=dP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),D_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return N_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D_(t){return Vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){$n(new Sn("platform-logger",e=>new kN(e),"PRIVATE")),$n(new Sn("heartbeat",e=>new fP(e),"PRIVATE")),en(_p,k_,t),en(_p,k_,"esm2017"),en("fire-js","")}gP("");function Gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vP=wI,EI=new Ts("auth","Firebase",wI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Sd("@firebase/auth");function yP(t,...e){$c.logLevel<=Se.WARN&&$c.warn(`Auth (${Is}): ${t}`,...e)}function rc(t,...e){$c.logLevel<=Se.ERROR&&$c.error(`Auth (${Is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Km(t,...e)}function Jn(t,...e){return Km(t,...e)}function TI(t,e,n){const r=Object.assign(Object.assign({},vP()),{[e]:n});return new Ts("auth","Firebase",r).create(e,{appName:t.name})}function Sr(t){return TI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EI.create(t,...e)}function me(t,e,...n){if(!t)throw Km(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function Or(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _P(){return O_()==="http:"||O_()==="https:"}function O_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_P()||dI()||"connection"in navigator)?navigator.onLine:!0}function EP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=G1()||Q1()}get(){return wP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new Fl(3e4,6e4);function $r(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ar(t,e,n,r,i={}){return CI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Y1()||(c.referrerPolicy="no-referrer"),II.fetch()(SI(t,t.config.apiHost,n,a),c)})}async function CI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TP),e);try{const i=new SP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ju(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TI(t,h,c);Un(t,h)}}catch(i){if(i instanceof kn)throw i;Un(t,"network-request-failed",{message:String(i)})}}async function $l(t,e,n,r,i={}){const s=await ar(t,e,n,r,i);return"mfaPendingCredential"in s&&Un(t,"multi-factor-auth-required",{_serverResponse:s}),s}function SI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ym(t.config,i):`${t.config.apiScheme}://${i}`}function CP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),IP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}function j_(t){return t!==void 0&&t.enterprise!==void 0}class xP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function AP(t,e){return ar(t,"GET","/v2/recaptchaConfig",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){return ar(t,"POST","/v1/accounts:delete",e)}async function xI(t,e){return ar(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kP(t,e=!1){const n=qe(t),r=await n.getIdToken(e),i=Qm(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ua(tf(i.auth_time)),issuedAtTime:Ua(tf(i.iat)),expirationTime:Ua(tf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tf(t){return Number(t)*1e3}function Qm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const i=sI(n);return i?JSON.parse(i):(rc("Failed to decode base64 JWT payload"),null)}catch(i){return rc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function M_(t){const e=Qm(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&bP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await wo(t,xI(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AI(s.providerUserInfo):[],a=DP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ip(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function PP(t){const e=qe(t);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AI(t){return t.map(e=>{var{providerId:n}=e,r=Gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t,e){const n=await CI(t,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=SI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",II.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jP(t,e){return ar(t,"POST","/v2/accounts:revokeToken",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=M_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ao;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ip(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await wo(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kP(this,e)}reload(){return PP(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Sr(this.auth));const e=await this.getIdToken();return await wo(this,RP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:O,isAnonymous:P,providerData:L,stsTokenManager:x}=n;me(I&&x,e,"internal-error");const E=ao.fromJSON(this.name,x);me(typeof I=="string",e,"internal-error"),Yr(p,e.name),Yr(m,e.name),me(typeof O=="boolean",e,"internal-error"),me(typeof P=="boolean",e,"internal-error"),Yr(T,e.name),Yr(S,e.name),Yr(w,e.name),Yr(C,e.name),Yr(v,e.name),Yr(y,e.name);const R=new Tr({uid:I,auth:e,email:m,emailVerified:O,displayName:p,isAnonymous:P,photoURL:S,phoneNumber:T,tenantId:w,stsTokenManager:E,createdAt:v,lastLoginAt:y});return L&&Array.isArray(L)&&(R.providerData=L.map(b=>Object.assign({},b))),C&&(R._redirectEventId=C),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ao;i.updateFromServerResponse(n);const s=new Tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?AI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ao;a.updateFromIdToken(r);const l=new Tr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ip(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function Ir(t){Or(t instanceof Function,"Expected a class definition");let e=L_.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RI.type="NONE";const V_=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,n){return`firebase:${t}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ic(this.userKey,i.apiKey,s),this.fullPersistenceKey=ic("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(Ir(V_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ir(V_);const o=ic(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const p=Tr._fromJSON(e,h);c!==s&&(a=p),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new lo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OI(e))return"Blackberry";if(jI(e))return"Webos";if(bI(e))return"Safari";if((e.includes("chrome/")||NI(e))&&!e.includes("edge/"))return"Chrome";if(DI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kI(t=Mt()){return/firefox\//i.test(t)}function bI(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NI(t=Mt()){return/crios\//i.test(t)}function PI(t=Mt()){return/iemobile/i.test(t)}function DI(t=Mt()){return/android/i.test(t)}function OI(t=Mt()){return/blackberry/i.test(t)}function jI(t=Mt()){return/webos/i.test(t)}function Xm(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MP(t=Mt()){var e;return Xm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LP(){return X1()&&document.documentMode===10}function MI(t=Mt()){return Xm(t)||DI(t)||jI(t)||OI(t)||/windows phone/i.test(t)||PI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e=[]){let n;switch(t){case"Browser":n=F_(Mt());break;case"Worker":n=`${F_(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Is}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e={}){return ar(t,"GET","/v2/passwordPolicy",$r(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=6;class UP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$P,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new VP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xI(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Sr(this));const n=e?qe(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FP(this),n=new UP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ts("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Li(t){return qe(t)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iN(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zP(t){Ad=t}function VI(t){return Ad.loadJS(t)}function HP(){return Ad.recaptchaEnterpriseScript}function WP(){return Ad.gapiScript}function qP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const GP="recaptcha-enterprise",KP="NO_RECAPTCHA";class YP{constructor(e){this.type=GP,this.auth=Li(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new xP(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;j_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(KP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&j_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HP();l.length!==0&&(l+=a),VI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function U_(t,e,n,r=!1){const i=new YP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bc(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await U_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await U_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e){const n=Mi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ml(s,e??{}))return i;Un(i,"already-initialized")}return n.initialize({options:e})}function XP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JP(t,e,n){const r=Li(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=FI(e),{host:o,port:a}=ZP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),eD()}function FI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZP(t){const e=FI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:B_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:B_(o)}}}function B_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function tD(t,e){return ar(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return $l(t,"POST","/v1/accounts:signInWithPassword",$r(t,e))}async function rD(t,e){return ar(t,"POST","/v1/accounts:sendOobCode",$r(t,e))}async function iD(t,e){return rD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e){return $l(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}async function oD(t,e){return $l(t,"POST","/v1/accounts:signInWithEmailLink",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Jm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bc(e,n,"signInWithPassword",nD);case"emailLink":return sD(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bc(e,r,"signUpPassword",tD);case"emailLink":return oD(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e){return $l(t,"POST","/v1/accounts:signInWithIdp",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="http://localhost";class us extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Gm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new us(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:aD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uD(t){const e=Ca(Sa(t)).link,n=e?Ca(Sa(e)).deep_link_id:null,r=Ca(Sa(t)).deep_link_id;return(r?Ca(Sa(r)).link:null)||r||n||e||t}class Zm{constructor(e){var n,r,i,s,o,a;const l=Ca(Sa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=lD((i=l.mode)!==null&&i!==void 0?i:null);me(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uD(e);try{return new Zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zm.parseLink(n);return me(r,"argument-error"),vl._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends $I{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ul{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ii.credential(e.oauthAccessToken)}catch{return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return us._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return si.credential(n,r)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ul{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Ul{constructor(){super("twitter.com")}static credential(e,n){return us._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ai.credential(n,r)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e){return $l(t,"POST","/v1/accounts:signUp",$r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tr._fromIdTokenResponse(e,r,i),o=z_(r);return new cs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=z_(r);return new cs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function z_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zc(e,n,r,i)}}function UI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(t,s,e,r):s})}async function dD(t,e,n=!1){const r=await wo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e,n=!1){const{auth:r}=t;if(Yn(r.app))return Promise.reject(Sr(r));const i="reauthenticate";try{const s=await wo(t,UI(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Qm(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),cs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(t,e,n=!1){if(Yn(t.app))return Promise.reject(Sr(t));const r="signIn",i=await UI(t,r,e),s=await cs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function fD(t,e){return BI(Li(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t){const e=Li(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pD(t,e,n){const r=Li(t);await Bc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",iD)}async function mD(t,e,n){if(Yn(t.app))return Promise.reject(Sr(t));const r=Li(t),o=await Bc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zI(t),l}),a=await cs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function gD(t,e,n){return Yn(t.app)?Promise.reject(Sr(t)):fD(qe(t),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){return ar(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=qe(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await wo(r,vD(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function _D(t,e,n,r){return qe(t).onIdTokenChanged(e,n,r)}function wD(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}function ED(t,e,n,r){return qe(t).onAuthStateChanged(e,n,r)}function TD(t){return qe(t).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1e3,CD=10;class WI extends HI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);LP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WI.type="LOCAL";const SD=WI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends HI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qI.type="SESSION";const GI=qI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await xD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=eg("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function RD(t){Zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function kD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ND(){return KI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebaseLocalStorageDb",PD=1,Wc="firebaseLocalStorage",QI="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kd(t,e){return t.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function DD(){const t=indexedDB.deleteDatabase(YI);return new Bl(t).toPromise()}function Cp(){const t=indexedDB.open(YI,PD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wc,{keyPath:QI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wc)?e(r):(r.close(),await DD(),e(await Cp()))})})}async function H_(t,e,n){const r=kd(t,!0).put({[QI]:e,value:n});return new Bl(r).toPromise()}async function OD(t,e){const n=kd(t,!1).get(e),r=await new Bl(n).toPromise();return r===void 0?null:r.value}function W_(t,e){const n=kd(t,!0).delete(e);return new Bl(n).toPromise()}const jD=800,MD=3;class XI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(ND()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cp();return await H_(e,Hc,"1"),await W_(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kd(i,!1).getAll();return new Bl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XI.type="LOCAL";const LD=XI;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){return e?Ir(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FD(t){return BI(t.auth,new tg(t),t.bypassAuthState)}function $D(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),hD(n,new tg(t),t.bypassAuthState)}async function UD(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),dD(n,new tg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FD;case"linkViaPopup":case"linkViaRedirect":return UD;case"reauthViaPopup":case"reauthViaRedirect":return $D;default:Un(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Fl(2e3,1e4);class Zs extends JI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BD.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="pendingRedirect",sc=new Map;class HD extends JI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sc.get(this.auth._key());if(!e){try{const r=await WD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sc.set(this.auth._key(),e)}return this.bypassAuthState||sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WD(t,e){const n=KD(e),r=GD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qD(t,e){sc.set(t._key(),e)}function GD(t){return Ir(t._redirectPersistence)}function KD(t){return ic(zD,t.config.apiKey,t.name)}async function YD(t,e,n=!1){if(Yn(t.app))return Promise.reject(Sr(t));const r=Li(t),i=VD(r,e),o=await new HD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=10*60*1e3;class XD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QD&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e={}){return ar(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tO=/^https?/;async function nO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZD(t);for(const n of e)try{if(rO(n))return}catch{}Un(t,"unauthorized-domain")}function rO(t){const e=Tp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tO.test(n))return!1;if(eO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new Fl(3e4,6e4);function G_(){const t=Zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sO(t){return new Promise((e,n)=>{var r,i,s;function o(){G_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G_(),n(Jn(t,"network-request-failed"))},timeout:iO.get()})}if(!((i=(r=Zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zn().gapi)===null||s===void 0)&&s.load)o();else{const a=qP("iframefcb");return Zn()[a]=()=>{gapi.load?o():n(Jn(t,"network-request-failed"))},VI(`${WP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw oc=null,e})}let oc=null;function oO(t){return oc=oc||sO(t),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=new Fl(5e3,15e3),lO="__/auth/iframe",uO="emulator/auth/iframe",cO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hO(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ym(e,uO):`https://${t.config.authDomain}/${lO}`,r={apiKey:e.apiKey,appName:t.name,v:Is},i=dO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vl(r).slice(1)}`}async function fO(t){const e=await oO(t),n=Zn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:hO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),a=Zn().setTimeout(()=>{s(o)},aO.get());function l(){Zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mO=500,gO=600,vO="_blank",yO="http://localhost";class K_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _O(t,e,n,r=mO,i=gO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pO),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Mt().toLowerCase();n&&(a=NI(c)?vO:n),kI(c)&&(e=e||yO,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[T,S])=>`${m}${T}=${S},`,"");if(MP(c)&&a!=="_self")return wO(e||"",a),new K_(null);const p=window.open(e||"",a,h);me(p,t,"popup-blocked");try{p.focus()}catch{}return new K_(p)}function wO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="__/auth/handler",TO="emulator/auth/handler",IO=encodeURIComponent("fac");async function Y_(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Is,eventId:i};if(e instanceof $I){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Ul){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${IO}=${encodeURIComponent(l)}`:"";return`${CO(t)}?${Vl(a).slice(1)}${c}`}function CO({config:t}){return t.emulator?Ym(t,TO):`https://${t.authDomain}/${EO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="webStorageSupport";class SO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GI,this._completeRedirectFn=YD,this._overrideRedirectResult=qD}async _openPopup(e,n,r,i){var s;Or((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Y_(e,n,r,Tp(),i);return _O(e,o,eg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Y_(e,n,r,Tp(),i);return RD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Or(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fO(e),r=new XD(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nf,{type:nf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nf];o!==void 0&&n(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MI()||bI()||Xm()}}const xO=SO;var Q_="@firebase/auth",X_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kO(t){$n(new Sn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LI(t)},c=new BP(r,i,s,l);return XP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$n(new Sn("auth-internal",e=>{const n=Li(e.getProvider("auth").getImmediate());return(r=>new AO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),en(Q_,X_,RO(t)),en(Q_,X_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=5*60,NO=uI("authIdTokenMaxAge")||bO;let J_=null;const PO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NO)return;const i=n==null?void 0:n.token;J_!==i&&(J_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DO(t=xd()){const e=Mi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QP(t,{popupRedirectResolver:xO,persistence:[LD,SD,GI]}),r=uI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=PO(s.toString());wD(n,o,()=>o(n.currentUser)),_D(n,a=>o(a))}}const i=oI("auth");return i&&JP(n,`http://${i}`),n}function OO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kO("Browser");var jO="firebase",MO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en(jO,MO,"app");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,eC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,E){function R(){}R.prototype=E.prototype,x.D=E.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(b,N,D){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return E.prototype[N].apply(b,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,E,R){R||(R=0);var b=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)b[N]=E.charCodeAt(R++)|E.charCodeAt(R++)<<8|E.charCodeAt(R++)<<16|E.charCodeAt(R++)<<24;else for(N=0;16>N;++N)b[N]=E[R++]|E[R++]<<8|E[R++]<<16|E[R++]<<24;E=x.g[0],R=x.g[1],N=x.g[2];var D=x.g[3],A=E+(D^R&(N^D))+b[0]+3614090360&4294967295;E=R+(A<<7&4294967295|A>>>25),A=D+(N^E&(R^N))+b[1]+3905402710&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(R^D&(E^R))+b[2]+606105819&4294967295,N=D+(A<<17&4294967295|A>>>15),A=R+(E^N&(D^E))+b[3]+3250441966&4294967295,R=N+(A<<22&4294967295|A>>>10),A=E+(D^R&(N^D))+b[4]+4118548399&4294967295,E=R+(A<<7&4294967295|A>>>25),A=D+(N^E&(R^N))+b[5]+1200080426&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(R^D&(E^R))+b[6]+2821735955&4294967295,N=D+(A<<17&4294967295|A>>>15),A=R+(E^N&(D^E))+b[7]+4249261313&4294967295,R=N+(A<<22&4294967295|A>>>10),A=E+(D^R&(N^D))+b[8]+1770035416&4294967295,E=R+(A<<7&4294967295|A>>>25),A=D+(N^E&(R^N))+b[9]+2336552879&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(R^D&(E^R))+b[10]+4294925233&4294967295,N=D+(A<<17&4294967295|A>>>15),A=R+(E^N&(D^E))+b[11]+2304563134&4294967295,R=N+(A<<22&4294967295|A>>>10),A=E+(D^R&(N^D))+b[12]+1804603682&4294967295,E=R+(A<<7&4294967295|A>>>25),A=D+(N^E&(R^N))+b[13]+4254626195&4294967295,D=E+(A<<12&4294967295|A>>>20),A=N+(R^D&(E^R))+b[14]+2792965006&4294967295,N=D+(A<<17&4294967295|A>>>15),A=R+(E^N&(D^E))+b[15]+1236535329&4294967295,R=N+(A<<22&4294967295|A>>>10),A=E+(N^D&(R^N))+b[1]+4129170786&4294967295,E=R+(A<<5&4294967295|A>>>27),A=D+(R^N&(E^R))+b[6]+3225465664&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^R&(D^E))+b[11]+643717713&4294967295,N=D+(A<<14&4294967295|A>>>18),A=R+(D^E&(N^D))+b[0]+3921069994&4294967295,R=N+(A<<20&4294967295|A>>>12),A=E+(N^D&(R^N))+b[5]+3593408605&4294967295,E=R+(A<<5&4294967295|A>>>27),A=D+(R^N&(E^R))+b[10]+38016083&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^R&(D^E))+b[15]+3634488961&4294967295,N=D+(A<<14&4294967295|A>>>18),A=R+(D^E&(N^D))+b[4]+3889429448&4294967295,R=N+(A<<20&4294967295|A>>>12),A=E+(N^D&(R^N))+b[9]+568446438&4294967295,E=R+(A<<5&4294967295|A>>>27),A=D+(R^N&(E^R))+b[14]+3275163606&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^R&(D^E))+b[3]+4107603335&4294967295,N=D+(A<<14&4294967295|A>>>18),A=R+(D^E&(N^D))+b[8]+1163531501&4294967295,R=N+(A<<20&4294967295|A>>>12),A=E+(N^D&(R^N))+b[13]+2850285829&4294967295,E=R+(A<<5&4294967295|A>>>27),A=D+(R^N&(E^R))+b[2]+4243563512&4294967295,D=E+(A<<9&4294967295|A>>>23),A=N+(E^R&(D^E))+b[7]+1735328473&4294967295,N=D+(A<<14&4294967295|A>>>18),A=R+(D^E&(N^D))+b[12]+2368359562&4294967295,R=N+(A<<20&4294967295|A>>>12),A=E+(R^N^D)+b[5]+4294588738&4294967295,E=R+(A<<4&4294967295|A>>>28),A=D+(E^R^N)+b[8]+2272392833&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^R)+b[11]+1839030562&4294967295,N=D+(A<<16&4294967295|A>>>16),A=R+(N^D^E)+b[14]+4259657740&4294967295,R=N+(A<<23&4294967295|A>>>9),A=E+(R^N^D)+b[1]+2763975236&4294967295,E=R+(A<<4&4294967295|A>>>28),A=D+(E^R^N)+b[4]+1272893353&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^R)+b[7]+4139469664&4294967295,N=D+(A<<16&4294967295|A>>>16),A=R+(N^D^E)+b[10]+3200236656&4294967295,R=N+(A<<23&4294967295|A>>>9),A=E+(R^N^D)+b[13]+681279174&4294967295,E=R+(A<<4&4294967295|A>>>28),A=D+(E^R^N)+b[0]+3936430074&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^R)+b[3]+3572445317&4294967295,N=D+(A<<16&4294967295|A>>>16),A=R+(N^D^E)+b[6]+76029189&4294967295,R=N+(A<<23&4294967295|A>>>9),A=E+(R^N^D)+b[9]+3654602809&4294967295,E=R+(A<<4&4294967295|A>>>28),A=D+(E^R^N)+b[12]+3873151461&4294967295,D=E+(A<<11&4294967295|A>>>21),A=N+(D^E^R)+b[15]+530742520&4294967295,N=D+(A<<16&4294967295|A>>>16),A=R+(N^D^E)+b[2]+3299628645&4294967295,R=N+(A<<23&4294967295|A>>>9),A=E+(N^(R|~D))+b[0]+4096336452&4294967295,E=R+(A<<6&4294967295|A>>>26),A=D+(R^(E|~N))+b[7]+1126891415&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~R))+b[14]+2878612391&4294967295,N=D+(A<<15&4294967295|A>>>17),A=R+(D^(N|~E))+b[5]+4237533241&4294967295,R=N+(A<<21&4294967295|A>>>11),A=E+(N^(R|~D))+b[12]+1700485571&4294967295,E=R+(A<<6&4294967295|A>>>26),A=D+(R^(E|~N))+b[3]+2399980690&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~R))+b[10]+4293915773&4294967295,N=D+(A<<15&4294967295|A>>>17),A=R+(D^(N|~E))+b[1]+2240044497&4294967295,R=N+(A<<21&4294967295|A>>>11),A=E+(N^(R|~D))+b[8]+1873313359&4294967295,E=R+(A<<6&4294967295|A>>>26),A=D+(R^(E|~N))+b[15]+4264355552&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~R))+b[6]+2734768916&4294967295,N=D+(A<<15&4294967295|A>>>17),A=R+(D^(N|~E))+b[13]+1309151649&4294967295,R=N+(A<<21&4294967295|A>>>11),A=E+(N^(R|~D))+b[4]+4149444226&4294967295,E=R+(A<<6&4294967295|A>>>26),A=D+(R^(E|~N))+b[11]+3174756917&4294967295,D=E+(A<<10&4294967295|A>>>22),A=N+(E^(D|~R))+b[2]+718787259&4294967295,N=D+(A<<15&4294967295|A>>>17),A=R+(D^(N|~E))+b[9]+3951481745&4294967295,x.g[0]=x.g[0]+E&4294967295,x.g[1]=x.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.u=function(x,E){E===void 0&&(E=x.length);for(var R=E-this.blockSize,b=this.B,N=this.h,D=0;D<E;){if(N==0)for(;D<=R;)i(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<E;)if(b[N++]=x.charCodeAt(D++),N==this.blockSize){i(this,b),N=0;break}}else for(;D<E;)if(b[N++]=x[D++],N==this.blockSize){i(this,b),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var E=1;E<x.length-8;++E)x[E]=0;var R=8*this.o;for(E=x.length-8;E<x.length;++E)x[E]=R&255,R/=256;for(this.u(x),x=Array(16),E=R=0;4>E;++E)for(var b=0;32>b;b+=8)x[R++]=this.g[E]>>>b&255;return x};function s(x,E){var R=a;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=E(x)}function o(x,E){this.h=E;for(var R=[],b=!0,N=x.length-1;0<=N;N--){var D=x[N]|0;b&&D==E||(R[N]=D,b=!1)}this.g=R}var a={};function l(x){return-128<=x&&128>x?s(x,function(E){return new o([E|0],0>E?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return C(c(-x));for(var E=[],R=1,b=0;x>=R;b++)E[b]=x/R|0,R*=4294967296;return new o(E,0)}function h(x,E){if(x.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return C(h(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(E,8)),b=p,N=0;N<x.length;N+=8){var D=Math.min(8,x.length-N),A=parseInt(x.substring(N,N+D),E);8>D?(D=c(Math.pow(E,D)),b=b.j(D).add(c(A))):(b=b.j(R),b=b.add(c(A)))}return b}var p=l(0),m=l(1),T=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-C(this).m();for(var x=0,E=1,R=0;R<this.g.length;R++){var b=this.i(R);x+=(0<=b?b:4294967296+b)*E,E*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(w(this))return"-"+C(this).toString(x);for(var E=c(Math.pow(x,6)),R=this,b="";;){var N=O(R,E).g;R=v(R,N.j(E));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=N,S(R))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var E=0;E<x.g.length;E++)if(x.g[E]!=0)return!1;return!0}function w(x){return x.h==-1}t.l=function(x){return x=v(this,x),w(x)?-1:S(x)?0:1};function C(x){for(var E=x.g.length,R=[],b=0;b<E;b++)R[b]=~x.g[b];return new o(R,~x.h).add(m)}t.abs=function(){return w(this)?C(this):this},t.add=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],b=0,N=0;N<=E;N++){var D=b+(this.i(N)&65535)+(x.i(N)&65535),A=(D>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);b=A>>>16,D&=65535,A&=65535,R[N]=A<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function v(x,E){return x.add(C(E))}t.j=function(x){if(S(this)||S(x))return p;if(w(this))return w(x)?C(this).j(C(x)):C(C(this).j(x));if(w(x))return C(this.j(C(x)));if(0>this.l(T)&&0>x.l(T))return c(this.m()*x.m());for(var E=this.g.length+x.g.length,R=[],b=0;b<2*E;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<x.g.length;N++){var D=this.i(b)>>>16,A=this.i(b)&65535,W=x.i(N)>>>16,U=x.i(N)&65535;R[2*b+2*N]+=A*U,y(R,2*b+2*N),R[2*b+2*N+1]+=D*U,y(R,2*b+2*N+1),R[2*b+2*N+1]+=A*W,y(R,2*b+2*N+1),R[2*b+2*N+2]+=D*W,y(R,2*b+2*N+2)}for(b=0;b<E;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=E;b<2*E;b++)R[b]=0;return new o(R,0)};function y(x,E){for(;(x[E]&65535)!=x[E];)x[E+1]+=x[E]>>>16,x[E]&=65535,E++}function I(x,E){this.g=x,this.h=E}function O(x,E){if(S(E))throw Error("division by zero");if(S(x))return new I(p,p);if(w(x))return E=O(C(x),E),new I(C(E.g),C(E.h));if(w(E))return E=O(x,C(E)),new I(C(E.g),E.h);if(30<x.g.length){if(w(x)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var R=m,b=E;0>=b.l(x);)R=P(R),b=P(b);var N=L(R,1),D=L(b,1);for(b=L(b,2),R=L(R,2);!S(b);){var A=D.add(b);0>=A.l(x)&&(N=N.add(R),D=A),b=L(b,1),R=L(R,1)}return E=v(x,N.j(E)),new I(N,E)}for(N=p;0<=x.l(E);){for(R=Math.max(1,Math.floor(x.m()/E.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=c(R),A=D.j(E);w(A)||0<A.l(x);)R-=b,D=c(R),A=D.j(E);S(D)&&(D=m),N=N.add(D),x=v(x,A)}return new I(N,x)}t.A=function(x){return O(this,x).h},t.and=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],b=0;b<E;b++)R[b]=this.i(b)&x.i(b);return new o(R,this.h&x.h)},t.or=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],b=0;b<E;b++)R[b]=this.i(b)|x.i(b);return new o(R,this.h|x.h)},t.xor=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],b=0;b<E;b++)R[b]=this.i(b)^x.i(b);return new o(R,this.h^x.h)};function P(x){for(var E=x.g.length+1,R=[],b=0;b<E;b++)R[b]=x.i(b)<<1|x.i(b-1)>>>31;return new o(R,x.h)}function L(x,E){var R=E>>5;E%=32;for(var b=x.g.length-R,N=[],D=0;D<b;D++)N[D]=0<E?x.i(D+R)>>>E|x.i(D+R+1)<<32-E:x.i(D+R);return new o(N,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ns=o}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tC,xa,nC,ac,Sp,rC,iC,sC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var F=u[k];if(!(F in g))break e;g=g[F]}u=u[u.length-1],k=g[u],f=f(k),f!=k&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,k=!1,F={next:function(){if(!k&&g<u.length){var z=g++;return{value:f(z,u[z]),done:!1}}return k=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,g){return u.call.apply(u.bind,arguments)}function p(u,f,g){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,k),u.apply(f,F)}}return function(){return u.apply(f,arguments)}}function m(u,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function T(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var k=g.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function S(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(k,F,z){for(var ee=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ee[Oe-2]=arguments[Oe];return f.prototype[F].apply(k,ee)}}function w(u){const f=u.length;if(0<f){const g=Array(f);for(let k=0;k<f;k++)g[k]=u[k];return g}return[]}function C(u,f){for(let g=1;g<arguments.length;g++){const k=arguments[g];if(l(k)){const F=u.length||0,z=k.length||0;u.length=F+z;for(let ee=0;ee<z;ee++)u[F+ee]=k[ee]}else u.push(k)}}class v{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function O(u){return O[" "](u),u}O[" "]=function(){};var P=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function L(u,f,g){for(const k in u)f.call(g,u[k],k,u)}function x(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function E(u){const f={};for(const g in u)f[g]=u[g];return f}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,f){let g,k;for(let F=1;F<arguments.length;F++){k=arguments[F];for(g in k)u[g]=k[g];for(let z=0;z<R.length;z++)g=R[z],Object.prototype.hasOwnProperty.call(k,g)&&(u[g]=k[g])}}function N(u){var f=1;u=u.split(":");const g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function D(u){a.setTimeout(()=>{throw u},0)}function A(){var u=$;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class W{constructor(){this.h=this.g=null}add(f,g){const k=U.get();k.set(f,g),this.h?this.h.next=k:this.g=k,this.h=k}}var U=new v(()=>new M,u=>u.reset());class M{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let B,j=!1,$=new W,V=()=>{const u=a.Promise.resolve(void 0);B=()=>{u.then(Q)}};var Q=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){D(g)}var f=U;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}j=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function Y(u,f){if(te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(P){e:{try{O(f.nodeName);var F=!0;break e}catch{}F=!1}F||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Y.aa.h.call(this)}}S(Y,te);var ce={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Le(u,f,g,k,F){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!k,this.ha=F,this.key=++ze,this.da=this.fa=!1}function q(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,f,g,k,F){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ee=He(u,f,k,F);return-1<ee?(f=u[ee],g||(f.fa=!1)):(f=new Le(f,this.src,z,!!k,F),f.fa=g,u.push(f)),f};function Ae(u,f){var g=f.type;if(g in u.g){var k=u.g[g],F=Array.prototype.indexOf.call(k,f,void 0),z;(z=0<=F)&&Array.prototype.splice.call(k,F,1),z&&(q(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function He(u,f,g,k){for(var F=0;F<u.length;++F){var z=u[F];if(!z.da&&z.listener==f&&z.capture==!!g&&z.ha==k)return F}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),we={};function Wt(u,f,g,k,F){if(Array.isArray(f)){for(var z=0;z<f.length;z++)Wt(u,f[z],g,k,F);return null}return g=$i(g),u&&u[Ee]?u.K(f,g,c(k)?!!k.capture:!1,F):qt(u,f,g,!1,k,F)}function qt(u,f,g,k,F,z){if(!f)throw Error("Invalid event type");var ee=c(F)?!!F.capture:!!F,Oe=Hr(u);if(Oe||(u[tt]=Oe=new le(u)),g=Oe.add(f,g,k,ee,z),g.proxy)return g;if(k=ur(),g.proxy=k,k.src=u,k.listener=g,u.addEventListener)G||(F=ee),F===void 0&&(F=!1),u.addEventListener(f.toString(),k,F);else if(u.attachEvent)u.attachEvent(cr(f.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ur(){function u(g){return f.call(u.src,u.listener,g)}const f=Rs;return u}function zn(u,f,g,k,F){if(Array.isArray(f))for(var z=0;z<f.length;z++)zn(u,f[z],g,k,F);else k=c(k)?!!k.capture:!!k,g=$i(g),u&&u[Ee]?(u=u.i,f=String(f).toString(),f in u.g&&(z=u.g[f],g=He(z,g,k,F),-1<g&&(q(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete u.g[f],u.h--)))):u&&(u=Hr(u))&&(f=u.g[f.toString()],u=-1,f&&(u=He(f,g,k,F)),(g=-1<u?f[u]:null)&&Gt(g))}function Gt(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Ee])Ae(f.i,u);else{var g=u.type,k=u.proxy;f.removeEventListener?f.removeEventListener(g,k,u.capture):f.detachEvent?f.detachEvent(cr(g),k):f.addListener&&f.removeListener&&f.removeListener(k),(g=Hr(f))?(Ae(g,u),g.h==0&&(g.src=null,f[tt]=null)):q(u)}}}function cr(u){return u in we?we[u]:we[u]="on"+u}function Rs(u,f){if(u.da)u=!0;else{f=new Y(f,this);var g=u.listener,k=u.ha||u.src;u.fa&&Gt(u),u=g.call(k,f)}return u}function Hr(u){return u=u[tt],u instanceof le?u:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $i(u){return typeof u=="function"?u:(u[Hn]||(u[Hn]=function(f){return u.handleEvent(f)}),u[Hn])}function pe(){Z.call(this),this.i=new le(this),this.M=this,this.F=null}S(pe,Z),pe.prototype[Ee]=!0,pe.prototype.removeEventListener=function(u,f,g,k){zn(this,u,f,g,k)};function Ve(u,f){var g,k=u.F;if(k)for(g=[];k;k=k.F)g.push(k);if(u=u.M,k=f.type||f,typeof f=="string")f=new te(f,u);else if(f instanceof te)f.target=f.target||u;else{var F=f;f=new te(k,u),b(f,F)}if(F=!0,g)for(var z=g.length-1;0<=z;z--){var ee=f.g=g[z];F=Wn(ee,k,!0,f)&&F}if(ee=f.g=u,F=Wn(ee,k,!0,f)&&F,F=Wn(ee,k,!1,f)&&F,g)for(z=0;z<g.length;z++)ee=f.g=g[z],F=Wn(ee,k,!1,f)&&F}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],k=0;k<g.length;k++)q(g[k]);delete u.g[f],u.h--}}this.F=null},pe.prototype.K=function(u,f,g,k){return this.i.add(String(u),f,!1,g,k)},pe.prototype.L=function(u,f,g,k){return this.i.add(String(u),f,!0,g,k)};function Wn(u,f,g,k){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var F=!0,z=0;z<f.length;++z){var ee=f[z];if(ee&&!ee.da&&ee.capture==g){var Oe=ee.listener,gt=ee.ha||ee.src;ee.fa&&Ae(u.i,ee),F=Oe.call(gt,k)!==!1&&F}}return F&&!k.defaultPrevented}function cv(u,f,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function dv(u){u.g=cv(()=>{u.g=null,u.i&&(u.i=!1,dv(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class KA extends Z{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:dv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qo(u){Z.call(this),this.h=u,this.g={}}S(qo,Z);var hv=[];function fv(u){L(u.g,function(f,g){this.g.hasOwnProperty(g)&&Gt(f)},u),u.g={}}qo.prototype.N=function(){qo.aa.N.call(this),fv(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ah=a.JSON.stringify,YA=a.JSON.parse,QA=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function lh(){}lh.prototype.h=null;function pv(u){return u.h||(u.h=u.i())}function mv(){}var Go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uh(){te.call(this,"d")}S(uh,te);function ch(){te.call(this,"c")}S(ch,te);var Ui={},gv=null;function ru(){return gv=gv||new pe}Ui.La="serverreachability";function vv(u){te.call(this,Ui.La,u)}S(vv,te);function Ko(u){const f=ru();Ve(f,new vv(f))}Ui.STAT_EVENT="statevent";function yv(u,f){te.call(this,Ui.STAT_EVENT,u),this.stat=f}S(yv,te);function Lt(u){const f=ru();Ve(f,new yv(f,u))}Ui.Ma="timingevent";function _v(u,f){te.call(this,Ui.Ma,u),this.size=f}S(_v,te);function Yo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Qo(){this.g=!0}Qo.prototype.xa=function(){this.g=!1};function XA(u,f,g,k,F,z){u.info(function(){if(u.g)if(z)for(var ee="",Oe=z.split("&"),gt=0;gt<Oe.length;gt++){var ke=Oe[gt].split("=");if(1<ke.length){var St=ke[0];ke=ke[1];var xt=St.split("_");ee=2<=xt.length&&xt[1]=="type"?ee+(St+"="+ke+"&"):ee+(St+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+k+") [attempt "+F+"]: "+f+`
`+g+`
`+ee})}function JA(u,f,g,k,F,z,ee){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+F+"]: "+f+`
`+g+`
`+z+" "+ee})}function ks(u,f,g,k){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+eR(u,g)+(k?" "+k:"")})}function ZA(u,f){u.info(function(){return"TIMEOUT: "+f})}Qo.prototype.info=function(){};function eR(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var k=g[u];if(!(2>k.length)){var F=k[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return ah(g)}catch{return f}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dh;function su(){}S(su,lh),su.prototype.g=function(){return new XMLHttpRequest},su.prototype.i=function(){return{}},dh=new su;function Wr(u,f,g,k){this.j=u,this.i=f,this.l=g,this.R=k||1,this.U=new qo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ev}function Ev(){this.i=null,this.g="",this.h=!1}var Tv={},hh={};function fh(u,f,g){u.L=1,u.v=uu(dr(f)),u.m=g,u.P=!0,Iv(u,null)}function Iv(u,f){u.F=Date.now(),ou(u),u.A=dr(u.v);var g=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),Lv(g.i,"t",k),u.C=0,g=u.j.J,u.h=new Ev,u.g=ty(u.j,g?f:null,!u.m),0<u.O&&(u.M=new KA(m(u.Y,u,u.g),u.O)),f=u.U,g=u.g,k=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(hv[0]=F.toString()),F=hv);for(var z=0;z<F.length;z++){var ee=Wt(g,F[z],k||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Ko(),XA(u.i,u.u,u.A,u.l,u.R,u.m)}Wr.prototype.ca=function(u){u=u.target;const f=this.M;f&&hr(u)==3?f.j():this.Y(u)},Wr.prototype.Y=function(u){try{if(u==this.g)e:{const xt=hr(this.g);var f=this.g.Ba();const Ps=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Hv(this.g)))){this.J||xt!=4||f==7||(f==8||0>=Ps?Ko(3):Ko(2)),ph(this);var g=this.g.Z();this.X=g;t:if(Cv(this)){var k=Hv(this.g);u="";var F=k.length,z=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),Xo(this);var ee="";break t}this.h.i=new a.TextDecoder}for(f=0;f<F;f++)this.h.h=!0,u+=this.h.i.decode(k[f],{stream:!(z&&f==F-1)});k.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=g==200,JA(this.i,this.u,this.A,this.l,this.R,xt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,gt=this.g;if((Oe=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Oe)){var ke=Oe;break t}}ke=null}if(g=ke)ks(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mh(this,g);else{this.o=!1,this.s=3,Lt(12),Bi(this),Xo(this);break e}}if(this.P){g=!0;let bn;for(;!this.J&&this.C<ee.length;)if(bn=tR(this,ee),bn==hh){xt==4&&(this.s=4,Lt(14),g=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Tv){this.s=4,Lt(15),ks(this.i,this.l,ee,"[Invalid Chunk]"),g=!1;break}else ks(this.i,this.l,bn,null),mh(this,bn);if(Cv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ee.length!=0||this.h.h||(this.s=1,Lt(16),g=!1),this.o=this.o&&g,!g)ks(this.i,this.l,ee,"[Invalid Chunked Response]"),Bi(this),Xo(this);else if(0<ee.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Eh(St),St.M=!0,Lt(11))}}else ks(this.i,this.l,ee,null),mh(this,ee);xt==4&&Bi(this),this.o&&!this.J&&(xt==4?Xv(this.j,this):(this.o=!1,ou(this)))}else yR(this.g),g==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Bi(this),Xo(this)}}}catch{}finally{}};function Cv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tR(u,f){var g=u.C,k=f.indexOf(`
`,g);return k==-1?hh:(g=Number(f.substring(g,k)),isNaN(g)?Tv:(k+=1,k+g>f.length?hh:(f=f.slice(k,k+g),u.C=k+g,f)))}Wr.prototype.cancel=function(){this.J=!0,Bi(this)};function ou(u){u.S=Date.now()+u.I,Sv(u,u.I)}function Sv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yo(m(u.ba,u),f)}function ph(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Wr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ZA(this.i,this.A),this.L!=2&&(Ko(),Lt(17)),Bi(this),this.s=2,Xo(this)):Sv(this,this.S-u)};function Xo(u){u.j.G==0||u.J||Xv(u.j,u)}function Bi(u){ph(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,fv(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function mh(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||gh(g.h,u))){if(!u.K&&gh(g.h,u)&&g.G==3){try{var k=g.Da.g.parse(f)}catch{k=null}if(Array.isArray(k)&&k.length==3){var F=k;if(F[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)mu(g),fu(g);else break e;wh(g),Lt(18)}}else g.za=F[1],0<g.za-g.T&&37500>F[2]&&g.F&&g.v==0&&!g.C&&(g.C=Yo(m(g.Za,g),6e3));if(1>=Rv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Hi(g,11)}else if((u.K||g.g==u)&&mu(g),!y(f))for(F=g.Da.g.parse(f),f=0;f<F.length;f++){let ke=F[f];if(g.T=ke[0],ke=ke[1],g.G==2)if(ke[0]=="c"){g.K=ke[1],g.ia=ke[2];const St=ke[3];St!=null&&(g.la=St,g.j.info("VER="+g.la));const xt=ke[4];xt!=null&&(g.Aa=xt,g.j.info("SVER="+g.Aa));const Ps=ke[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(k=1.5*Ps,g.L=k,g.j.info("backChannelRequestTimeoutMs_="+k)),k=g;const bn=u.g;if(bn){const vu=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var z=k.h;z.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(vh(z,z.h),z.h=null))}if(k.D){const Th=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&(k.ya=Th,Fe(k.I,k.D,Th))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),k=g;var ee=u;if(k.qa=ey(k,k.J?k.ia:null,k.W),ee.K){kv(k.h,ee);var Oe=ee,gt=k.L;gt&&(Oe.I=gt),Oe.B&&(ph(Oe),ou(Oe)),k.g=ee}else Yv(k);0<g.i.length&&pu(g)}else ke[0]!="stop"&&ke[0]!="close"||Hi(g,7);else g.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Hi(g,7):_h(g):ke[0]!="noop"&&g.l&&g.l.ta(ke),g.v=0)}}Ko(4)}catch{}}var nR=class{constructor(u,f){this.g=u,this.map=f}};function xv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Av(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rv(u){return u.h?1:u.g?u.g.size:0}function gh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function vh(u,f){u.g?u.g.add(f):u.h=f}function kv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}xv.prototype.cancel=function(){if(this.i=bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.D);return f}return w(u.i)}function rR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],g=u.length,k=0;k<g;k++)f.push(u[k]);return f}f=[],g=0;for(k in u)f[g++]=u[k];return f}function iR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(const k in u)f[g++]=k;return f}}}function Nv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=iR(u),k=rR(u),F=k.length,z=0;z<F;z++)f.call(void 0,k[z],g&&g[z],u)}var Pv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sR(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var k=u[g].indexOf("="),F=null;if(0<=k){var z=u[g].substring(0,k);F=u[g].substring(k+1)}else z=u[g];f(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function zi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof zi){this.h=u.h,au(this,u.j),this.o=u.o,this.g=u.g,lu(this,u.s),this.l=u.l;var f=u.i,g=new ea;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Dv(this,g),this.m=u.m}else u&&(f=String(u).match(Pv))?(this.h=!1,au(this,f[1]||"",!0),this.o=Jo(f[2]||""),this.g=Jo(f[3]||"",!0),lu(this,f[4]),this.l=Jo(f[5]||"",!0),Dv(this,f[6]||"",!0),this.m=Jo(f[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}zi.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Zo(f,Ov,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Zo(f,Ov,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Zo(g,g.charAt(0)=="/"?lR:aR,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Zo(g,cR)),u.join("")};function dr(u){return new zi(u)}function au(u,f,g){u.j=g?Jo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function lu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Dv(u,f,g){f instanceof ea?(u.i=f,dR(u.i,u.h)):(g||(f=Zo(f,uR)),u.i=new ea(f,u.h))}function Fe(u,f,g){u.i.set(f,g)}function uu(u){return Fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Jo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zo(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,oR),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ov=/[#\/\?@]/g,aR=/[#\?:]/g,lR=/[#\?]/g,uR=/[#\?@]/g,cR=/#/g;function ea(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function qr(u){u.g||(u.g=new Map,u.h=0,u.i&&sR(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=ea.prototype,t.add=function(u,f){qr(this),this.i=null,u=bs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function jv(u,f){qr(u),f=bs(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Mv(u,f){return qr(u),f=bs(u,f),u.g.has(f)}t.forEach=function(u,f){qr(this),this.g.forEach(function(g,k){g.forEach(function(F){u.call(f,F,k,this)},this)},this)},t.na=function(){qr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let k=0;k<f.length;k++){const F=u[k];for(let z=0;z<F.length;z++)g.push(f[k])}return g},t.V=function(u){qr(this);let f=[];if(typeof u=="string")Mv(this,u)&&(f=f.concat(this.g.get(bs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return qr(this),this.i=null,u=bs(this,u),Mv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Lv(u,f,g){jv(u,f),0<g.length&&(u.i=null,u.g.set(bs(u,f),w(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var k=f[g];const z=encodeURIComponent(String(k)),ee=this.V(k);for(k=0;k<ee.length;k++){var F=z;ee[k]!==""&&(F+="="+encodeURIComponent(String(ee[k]))),u.push(F)}}return this.i=u.join("&")};function bs(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function dR(u,f){f&&!u.j&&(qr(u),u.i=null,u.g.forEach(function(g,k){var F=k.toLowerCase();k!=F&&(jv(this,k),Lv(this,F,g))},u)),u.j=f}function hR(u,f){const g=new Qo;if(a.Image){const k=new Image;k.onload=T(Gr,g,"TestLoadImage: loaded",!0,f,k),k.onerror=T(Gr,g,"TestLoadImage: error",!1,f,k),k.onabort=T(Gr,g,"TestLoadImage: abort",!1,f,k),k.ontimeout=T(Gr,g,"TestLoadImage: timeout",!1,f,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else f(!1)}function fR(u,f){const g=new Qo,k=new AbortController,F=setTimeout(()=>{k.abort(),Gr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:k.signal}).then(z=>{clearTimeout(F),z.ok?Gr(g,"TestPingServer: ok",!0,f):Gr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),Gr(g,"TestPingServer: error",!1,f)})}function Gr(u,f,g,k,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),k(g)}catch{}}function pR(){this.g=new QA}function mR(u,f,g){const k=g||"";try{Nv(u,function(F,z){let ee=F;c(F)&&(ee=ah(F)),f.push(k+z+"="+encodeURIComponent(ee))})}catch(F){throw f.push(k+"type="+encodeURIComponent("_badmap")),F}}function cu(u){this.l=u.Ub||null,this.j=u.eb||!1}S(cu,lh),cu.prototype.g=function(){return new du(this.l,this.j)},cu.prototype.i=function(u){return function(){return u}}({});function du(u,f){pe.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(du,pe),t=du.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,na(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?ta(this):na(this),this.readyState==3&&Vv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ta(this))},t.Qa=function(u){this.g&&(this.response=u,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(u){u.readyState=4,u.l=null,u.j=null,u.v=null,na(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function na(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fv(u){let f="";return L(u,function(g,k){f+=k,f+=":",f+=g,f+=`\r
`}),f}function yh(u,f,g){e:{for(k in g){var k=!1;break e}k=!0}k||(g=Fv(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Fe(u,f,g))}function Xe(u){pe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,pe);var gR=/^https?$/i,vR=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dh.g(),this.v=this.o?pv(this.o):pv(dh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(z){$v(this,z);return}if(u=g||"",g=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var F in k)g.set(F,k[F]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const z of k.keys())g.set(z,k.get(z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vR,f,void 0))||k||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of g)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zv(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){$v(this,z)}};function $v(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Uv(u),hu(u)}function Uv(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ve(this,"complete"),Ve(this,"abort"),hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hu(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bv(this):this.bb())},t.bb=function(){Bv(this)};function Bv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||hr(u)!=4||u.Z()!=2)){if(u.u&&hr(u)==4)cv(u.Ea,0,u);else if(Ve(u,"readystatechange"),hr(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var k;if(k=ee===0){var F=String(u.D).match(Pv)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),k=!gR.test(F?F.toLowerCase():"")}g=k}if(g)Ve(u,"complete"),Ve(u,"success");else{u.m=6;try{var z=2<hr(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Uv(u)}}finally{hu(u)}}}}function hu(u,f){if(u.g){zv(u);const g=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Ve(u,"ready");try{g.onreadystatechange=k}catch{}}}function zv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function hr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),YA(f)}};function Hv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yR(u){const f={};u=(u.g&&2<=hr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(y(u[k]))continue;var g=N(u[k]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=f[F]||[];f[F]=z,z.push(g)}x(f,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function Wv(u){this.Aa=0,this.i=[],this.j=new Qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,u),this.cb=ra("retryDelaySeedMs",1e4,u),this.Wa=ra("forwardChannelMaxRetries",2,u),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xv(u&&u.concurrentRequestLimit),this.Da=new pR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wv.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,k){Lt(0),this.W=u,this.H=f||{},g&&k!==void 0&&(this.H.OSID=g,this.H.OAID=k),this.F=this.X,this.I=ey(this,null,this.W),pu(this)};function _h(u){if(qv(u),u.G==3){var f=u.U++,g=dr(u.I);if(Fe(g,"SID",u.K),Fe(g,"RID",f),Fe(g,"TYPE","terminate"),ia(u,g),f=new Wr(u,u.j,f),f.L=2,f.v=uu(dr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=ty(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ou(f)}Zv(u)}function fu(u){u.g&&(Eh(u),u.g.cancel(),u.g=null)}function qv(u){fu(u),u.u&&(a.clearTimeout(u.u),u.u=null),mu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function pu(u){if(!Av(u.h)&&!u.s){u.s=!0;var f=u.Ga;B||V(),j||(B(),j=!0),$.add(f,u),u.B=0}}function _R(u,f){return Rv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yo(m(u.Ga,u,f),Jv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Wr(this,this.j,u);let z=this.o;if(this.S&&(z?(z=E(z),b(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var k=this.i[g];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(f+=k,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Kv(this,F,f),g=dr(this.I),Fe(g,"RID",u),Fe(g,"CVER",22),this.D&&Fe(g,"X-HTTP-Session-Id",this.D),ia(this,g),z&&(this.O?f="headers="+encodeURIComponent(String(Fv(z)))+"&"+f:this.m&&yh(g,this.m,z)),vh(this.h,F),this.Ua&&Fe(g,"TYPE","init"),this.P?(Fe(g,"$req",f),Fe(g,"SID","null"),F.T=!0,fh(F,g,null)):fh(F,g,f),this.G=2}}else this.G==3&&(u?Gv(this,u):this.i.length==0||Av(this.h)||Gv(this))};function Gv(u,f){var g;f?g=f.l:g=u.U++;const k=dr(u.I);Fe(k,"SID",u.K),Fe(k,"RID",g),Fe(k,"AID",u.T),ia(u,k),u.m&&u.o&&yh(k,u.m,u.o),g=new Wr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Kv(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),vh(u.h,g),fh(g,k,f)}function ia(u,f){u.H&&L(u.H,function(g,k){Fe(f,k,g)}),u.l&&Nv({},function(g,k){Fe(f,k,g)})}function Kv(u,f,g){g=Math.min(u.i.length,g);var k=u.l?m(u.l.Na,u.l,u):null;e:{var F=u.i;let z=-1;for(;;){const ee=["count="+g];z==-1?0<g?(z=F[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let Oe=!0;for(let gt=0;gt<g;gt++){let ke=F[gt].g;const St=F[gt].map;if(ke-=z,0>ke)z=Math.max(0,F[gt].g-100),Oe=!1;else try{mR(St,ee,"req"+ke+"_")}catch{k&&k(St)}}if(Oe){k=ee.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,k}function Yv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;B||V(),j||(B(),j=!0),$.add(f,u),u.v=0}}function wh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yo(m(u.Fa,u),Jv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Qv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yo(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),fu(this),Qv(this))};function Eh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Qv(u){u.g=new Wr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=dr(u.qa);Fe(f,"RID","rpc"),Fe(f,"SID",u.K),Fe(f,"AID",u.T),Fe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Fe(f,"TO",u.ja),Fe(f,"TYPE","xmlhttp"),ia(u,f),u.m&&u.o&&yh(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=uu(dr(f)),g.m=null,g.P=!0,Iv(g,u)}t.Za=function(){this.C!=null&&(this.C=null,fu(this),wh(this),Lt(19))};function mu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Xv(u,f){var g=null;if(u.g==f){mu(u),Eh(u),u.g=null;var k=2}else if(gh(u.h,f))g=f.D,kv(u.h,f),k=1;else return;if(u.G!=0){if(f.o)if(k==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var F=u.B;k=ru(),Ve(k,new _v(k,g)),pu(u)}else Yv(u);else if(F=f.s,F==3||F==0&&0<f.X||!(k==1&&_R(u,f)||k==2&&wh(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),F){case 1:Hi(u,5);break;case 4:Hi(u,10);break;case 3:Hi(u,6);break;default:Hi(u,2)}}}function Jv(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function Hi(u,f){if(u.j.info("Error code "+f),f==2){var g=m(u.fb,u),k=u.Xa;const F=!k;k=new zi(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||au(k,"https"),uu(k),F?hR(k.toString(),g):fR(k.toString(),g)}else Lt(2);u.G=0,u.l&&u.l.sa(f),Zv(u),qv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Zv(u){if(u.G=0,u.ka=[],u.l){const f=bv(u.h);(f.length!=0||u.i.length!=0)&&(C(u.ka,f),C(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function ey(u,f,g){var k=g instanceof zi?dr(g):new zi(g);if(k.g!="")f&&(k.g=f+"."+k.g),lu(k,k.s);else{var F=a.location;k=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;var z=new zi(null);k&&au(z,k),f&&(z.g=f),F&&lu(z,F),g&&(z.l=g),k=z}return g=u.D,f=u.ya,g&&f&&Fe(k,g,f),Fe(k,"VER",u.la),ia(u,k),k}function ty(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Xe(new cu({eb:g})):new Xe(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ny(){}t=ny.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gu(){}gu.prototype.g=function(u,f){return new sn(u,f)};function sn(u,f){pe.call(this),this.g=new Wv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!y(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ns(this)}S(sn,pe),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){_h(this.g)},sn.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=ah(u),u=g);f.i.push(new nR(f.Ya++,u)),f.G==3&&pu(f)},sn.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,sn.aa.N.call(this)};function ry(u){uh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}S(ry,uh);function iy(){ch.call(this),this.status=1}S(iy,ch);function Ns(u){this.g=u}S(Ns,ny),Ns.prototype.ua=function(){Ve(this.g,"a")},Ns.prototype.ta=function(u){Ve(this.g,new ry(u))},Ns.prototype.sa=function(u){Ve(this.g,new iy)},Ns.prototype.ra=function(){Ve(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,sC=function(){return new gu},iC=function(){return ru()},rC=Ui,Sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,ac=iu,wv.COMPLETE="complete",nC=wv,mv.EventType=Go,Go.OPEN="a",Go.CLOSE="b",Go.ERROR="c",Go.MESSAGE="d",pe.prototype.listen=pe.prototype.K,xa=mv,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,tC=Xe}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Sd("@firebase/firestore");function fa(){return ds.logLevel}function ae(t,...e){if(ds.logLevel<=Se.DEBUG){const n=e.map(ng);ds.debug(`Firestore (${Vo}): ${t}`,...n)}}function jr(t,...e){if(ds.logLevel<=Se.ERROR){const n=e.map(ng);ds.error(`Firestore (${Vo}): ${t}`,...n)}}function Eo(t,...e){if(ds.logLevel<=Se.WARN){const n=e.map(ng);ds.warn(`Firestore (${Vo}): ${t}`,...n)}}function ng(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Pe(t,e){t||ge()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class VO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FO{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new oC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Nt(e)}}class $O{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $O(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pe(this.o===void 0);const r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new BO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=HO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function To(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new et(0,0))}static max(){return new ve(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends yl{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const WO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends yl{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return WO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ne(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ne(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ne(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Ue.fromString(e))}static fromName(e){return new de(Ue.fromString(e).popFirst(5))}static empty(){return new de(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Ue(e.slice()))}}function qO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new xi(i,de.empty(),e)}function GO(t){return new xi(t.readTime,t.key,-1)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(ve.min(),de.empty(),-1)}static max(){return new xi(ve.max(),de.empty(),-1)}}function KO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==YO)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new X((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function XO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rg.oe=-1;function bd(t){return t==null}function qc(t){return t===0&&1/t==-1/0}function JO(t){return typeof t=="number"&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nw(this.data.getIterator())}getIteratorFrom(e){return new nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new cn([])}unionWith(e){let n=new Tt(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uC("Invalid base64 string: "+s):s}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const ZO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=ZO.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sg(t){const e=t.mapValue.fields.__previous_value__;return ig(e)?sg(e):e}function _l(t){const e=Ai(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu={mapValue:{}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ig(t)?4:nj(t)?9007199254740991:tj(t)?10:11:ge()}function ir(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _l(t).isEqual(_l(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ai(i.timestampValue),a=Ai(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hs(i.bytesValue).isEqual(hs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return nt(i.geoPointValue.latitude)===nt(s.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nt(i.integerValue)===nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nt(i.doubleValue),a=nt(s.doubleValue);return o===a?qc(o)===qc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return To(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tw(o)!==tw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ir(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function El(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=nt(s.integerValue||s.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rw(t.timestampValue,e.timestampValue);case 4:return rw(_l(t),_l(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const a=hs(s),l=hs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=be(a[c],l[c]);if(h!==0)return h}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=be(nt(s.latitude),nt(o.latitude));return a!==0?a:be(nt(s.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const p=s.fields||{},m=o.fields||{},T=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(l=m.value)===null||l===void 0?void 0:l.arrayValue,w=be(((c=T==null?void 0:T.values)===null||c===void 0?void 0:c.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:iw(T,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Vu.mapValue&&o===Vu.mapValue)return 0;if(s===Vu.mapValue)return 1;if(o===Vu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const m=be(l[p],h[p]);if(m!==0)return m;const T=Io(a[l[p]],c[h[p]]);if(T!==0)return T}return be(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ge()}}function rw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Ai(t),r=Ai(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function iw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Io(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function Co(t){return xp(t)}function xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ai(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=xp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${xp(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function sw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ap(t){return!!t&&"integerValue"in t}function og(t){return!!t&&"arrayValue"in t}function ow(t){return!!t&&"nullValue"in t}function aw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lc(t){return!!t&&"mapValue"in t}function tj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ba(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ba(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(Ba(this.value))}}function cC(t){const e=[];return Cs(t.fields,(n,r)=>{const i=new wt([n]);if(lc(r)){const s=cC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,ve.min(),ve.min(),ve.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,ve.min(),ve.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ve.min(),ve.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function lw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function rj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{}class at extends dC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sj(e,n,r):n==="array-contains"?new lj(e,r):n==="in"?new uj(e,r):n==="not-in"?new cj(e,r):n==="array-contains-any"?new dj(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oj(e,r):new aj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Io(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends dC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bn(e,n)}matches(e){return hC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hC(t){return t.op==="and"}function fC(t){return ij(t)&&hC(t)}function ij(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function Rp(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+Co(t.value);if(fC(t))return t.filters.map(e=>Rp(e)).join(",");{const e=t.filters.map(n=>Rp(n)).join(",");return`${t.op}(${e})`}}function pC(t,e){return t instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(t,e):t instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&pC(o,i.filters[a]),!0):!1}(t,e):void ge()}function mC(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(mC).join(" ,")+"}"}(t):"Filter"}class sj extends at{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class oj extends at{constructor(e,n){super(e,"in",n),this.keys=gC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aj extends at{constructor(e,n){super(e,"not-in",n),this.keys=gC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class lj extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&El(n.arrayValue,this.value)}}class uj extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class cj extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!El(this.value.arrayValue,n)}}class dj extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>El(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function cw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new hj(t,e,n,r,i,s,o)}function ag(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Co(r)).join(",")),e.ue=n}return e.ue}function lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uw(t.startAt,e.startAt)&&uw(t.endAt,e.endAt)}function kp(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fj(t,e,n,r,i,s,o,a){return new Fo(t,e,n,r,i,s,o,a)}function ug(t){return new Fo(t)}function dw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vC(t){return t.collectionGroup!==null}function za(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Tl(s,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new Tl(wt.keyField(),r))}return e.ce}function er(t){const e=ye(t);return e.le||(e.le=pj(e,za(t))),e.le}function pj(t,e){if(t.limitType==="F")return cw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tl(i.field,s)});const n=t.endAt?new Gc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gc(t.startAt.position,t.startAt.inclusive):null;return cw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bp(t,e){const n=t.filters.concat([e]);return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Np(t,e,n){return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return lg(er(t),er(e))&&t.limitType===e.limitType}function yC(t){return`${ag(er(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mC(i)).join(", ")}]`),bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Co(i)).join(",")),`Target(${r})`}(er(t))}; limitType=${t.limitType})`}function Pd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of za(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=lw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,za(r),i)||r.endAt&&!function(o,a,l){const c=lw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,za(r),i))}(t,e)}function mj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _C(t){return(e,n)=>{let r=!1;for(const i of za(t)){const s=gj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gj(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Io(l,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Qe(de.comparator);function Mr(){return vj}const wC=new Qe(de.comparator);function Aa(...t){let e=wC;for(const n of t)e=e.insert(n.key,n);return e}function EC(t){let e=wC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return Ha()}function TC(){return Ha()}function Ha(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const yj=new Qe(de.comparator),_j=new Tt(de.comparator);function Te(...t){let e=_j;for(const n of t)e=e.add(n);return e}const wj=new Tt(be);function Ej(){return wj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function IC(t){return{integerValue:""+t}}function Tj(t,e){return JO(e)?IC(e):cg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function Ij(t,e,n){return t instanceof Il?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ig(s)&&(s=sg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Cl?SC(t,e):t instanceof Sl?xC(t,e):function(i,s){const o=CC(i,s),a=hw(o)+hw(i.Pe);return Ap(o)&&Ap(i.Pe)?IC(a):cg(i.serializer,a)}(t,e)}function Cj(t,e,n){return t instanceof Cl?SC(t,e):t instanceof Sl?xC(t,e):n}function CC(t,e){return t instanceof Kc?function(r){return Ap(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Il extends Dd{}class Cl extends Dd{constructor(e){super(),this.elements=e}}function SC(t,e){const n=AC(e);for(const r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sl extends Dd{constructor(e){super(),this.elements=e}}function xC(t,e){let n=AC(e);for(const r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class Kc extends Dd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hw(t){return nt(t.integerValue||t.doubleValue)}function AC(t){return og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n){this.field=e,this.transform=n}}function xj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cl&&i instanceof Cl||r instanceof Sl&&i instanceof Sl?To(r.elements,i.elements,ir):r instanceof Kc&&i instanceof Kc?ir(r.Pe,i.Pe):r instanceof Il&&i instanceof Il}(t.transform,e.transform)}class Aj{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function RC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dg(t.key,hn.none()):new Wl(t.key,t.data,hn.none());{const n=t.data,r=Yt.empty();let i=new Tt(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new cn(i.toArray()),hn.none())}}function Rj(t,e,n){t instanceof Wl?function(i,s,o){const a=i.value.clone(),l=pw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(i,s,o){if(!uc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(kC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wa(t,e,n,r){return t instanceof Wl?function(s,o,a,l){if(!uc(s.precondition,o))return a;const c=s.value.clone(),h=mw(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(s,o,a,l){if(!uc(s.precondition,o))return a;const c=mw(s.fieldTransforms,l,o),h=o.data;return h.setAll(kC(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return uc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function kj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=CC(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function fw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&To(r,i,(s,o)=>xj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wl extends Od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends Od{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pw(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Cj(o,a,n[i]))}return r}function mw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Ij(s,o,e))}return r}class dg extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bj extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Rj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=RC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,r)=>fw(n,r))&&To(this.baseMutations,e.baseMutations,(n,r)=>fw(n,r))}}class hg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=function(){return yj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,xe;function Oj(t){switch(t){default:return ge();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function bC(t){if(t===void 0)return jr("GRPC error has no .code"),K.UNKNOWN;switch(t){case it.OK:return K.OK;case it.CANCELLED:return K.CANCELLED;case it.UNKNOWN:return K.UNKNOWN;case it.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case it.INTERNAL:return K.INTERNAL;case it.UNAVAILABLE:return K.UNAVAILABLE;case it.UNAUTHENTICATED:return K.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case it.NOT_FOUND:return K.NOT_FOUND;case it.ALREADY_EXISTS:return K.ALREADY_EXISTS;case it.PERMISSION_DENIED:return K.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case it.ABORTED:return K.ABORTED;case it.OUT_OF_RANGE:return K.OUT_OF_RANGE;case it.UNIMPLEMENTED:return K.UNIMPLEMENTED;case it.DATA_LOSS:return K.DATA_LOSS;default:return ge()}}(xe=it||(it={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new ns([4294967295,4294967295],0);function gw(t){const e=jj().encode(t),n=new eC;return n.update(e),new Uint8Array(n.digest())}function vw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ns([n,r],0),new ns([i,s],0)]}class fg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(r<0)throw new Ra(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ns.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ns.fromNumber(r)));return i.compare(Mj)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gw(e),[r,i]=vw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new fg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=gw(e),[r,i]=vw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jd(ve.min(),i,new Qe(be),Mr(),Te())}}class ql{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ql(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class NC{constructor(e,n){this.targetId=e,this.me=n}}class PC{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yw{constructor(){this.fe=0,this.ge=ww(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),n=Te(),r=Te();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new ql(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ww()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Lj{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=_w(),this.Qe=new Qe(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(kp(s))if(r===0){const o=new de(s.path);this.Ue(n,o,Dt.newNoDocument(o,ve.min()))}else Pe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=hs(r).toUint8Array()}catch(l){if(l instanceof uC)return Eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fg(o,i,s)}catch(l){return Eo(l instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&kp(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Dt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Te();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new jd(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=_w(),this.Qe=new Qe(be),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tt(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _w(){return new Qe(de.comparator)}function ww(){return new Qe(de.comparator)}const Vj={asc:"ASCENDING",desc:"DESCENDING"},Fj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$j={and:"AND",or:"OR"};class Uj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pp(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bj(t,e){return Yc(t,e.toTimestamp())}function tr(t){return Pe(!!t),ve.fromTimestamp(function(n){const r=Ai(n);return new et(r.seconds,r.nanos)}(t))}function pg(t,e){return Dp(t,e).canonicalString()}function Dp(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OC(t){const e=Ue.fromString(t);return Pe(FC(e)),e}function Op(t,e){return pg(t.databaseId,e.path)}function rf(t,e){const n=OC(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(MC(n))}function jC(t,e){return pg(t.databaseId,e)}function zj(t){const e=OC(t);return e.length===4?Ue.emptyPath():MC(e)}function jp(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MC(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ew(t,e,n){return{name:Op(t,e),fields:n.value.mapValue.fields}}function Hj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Pe(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?K.UNKNOWN:bC(c.code);return new ne(h,c.message||"")}(o);n=new PC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rf(t,r.document.name),s=tr(r.document.updateTime),o=r.document.createTime?tr(r.document.createTime):ve.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new cc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rf(t,r.document),s=r.readTime?tr(r.readTime):ve.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new cc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rf(t,r.document),s=r.removedTargetIds||[];n=new cc([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Dj(i,s),a=r.targetId;n=new NC(a,o)}}return n}function Wj(t,e){let n;if(e instanceof Wl)n={update:Ew(t,e.key,e.value)};else if(e instanceof dg)n={delete:Op(t,e.key)};else if(e instanceof Vi)n={update:Ew(t,e.key,e.data),updateMask:eM(e.fieldMask)};else{if(!(e instanceof bj))return ge();n={verify:Op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Il)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Bj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function qj(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tr(i.updateTime):tr(s);return o.isEqual(ve.min())&&(o=tr(s)),new Aj(o,i.transformResults||[])}(n,e))):[]}function Gj(t,e){return{documents:[jC(t,e.path)]}}function Kj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jC(t,i);const s=function(c){if(c.length!==0)return VC(Bn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Vs(m.field),direction:Xj(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Yj(t){let e=zj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const m=LC(p);return m instanceof Bn&&fC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new Tl(Fs(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,bd(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(p){const m=!!p.before,T=p.values||[];return new Gc(T,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,T=p.values||[];return new Gc(T,m)}(n.endAt)),fj(e,i,o,s,a,"F",l,c)}function Qj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fs(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fs(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fs(n.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fs(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return at.create(Fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>LC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function Xj(t){return Vj[t]}function Jj(t){return Fj[t]}function Zj(t){return $j[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function Fs(t){return wt.fromServerFormat(t.fieldPath)}function VC(t){return t instanceof at?function(n){if(n.op==="=="){if(aw(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(ow(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aw(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(ow(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:Jj(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(i=>VC(i));return r.length===1?r[0]:{compositeFilter:{op:Zj(n.op),filters:r}}}(t):ge()}function eM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,i,s=ve.min(),o=ve.min(),a=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.ct=e}}function nM(t){const e=Yj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.un=new iM}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(xi.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class iM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new So(0)}static kn(){return new So(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.changes=new $o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wa(r.mutation,i,cn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const i=Xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Aa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Mr();const o=Ha(),a=function(){return Ha()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Vi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Wa(h.mutation,c,h.mutation.getFieldMask(),et.now())):o.set(c.key,cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new oM(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ha();let i=new Qe((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||cn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const p=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=TC();h.forEach(m=>{if(!s.has(m)){const T=RC(n.get(m),r.get(m));T!==null&&p.set(m,T),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(Xi());let a=-1,l=s;return o.next(c=>X.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?X.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Te())).next(h=>({batchId:a,changes:EC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Aa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Aa();return this.indexManager.getCollectionParents(e,s).next(a=>X.forEach(a,l=>{const c=function(p,m){return new Fo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Dt.newInvalidDocument(h)))});let a=Aa();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Wa(h.mutation,c,cn.empty(),et.now()),Pd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:nM(i.bundledQuery),readTime:tr(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.overlays=new Qe(de.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return X.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Xi(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Xi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Xi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return X.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pj(n,r));let s=this.Ir.get(n);s===void 0&&(s=Te(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Tr=new Tt(ht.Er),this.dr=new Tt(ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new Ue([])),r=new ht(n,e),i=new ht(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new Ue([])),r=new ht(n,e),i=new ht(n,e+1);let s=Te();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tt(ht.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(be);return n.forEach(i=>{const s=new ht(i,0),o=new ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new ht(new de(s),0);let a=new Tt(be);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),X.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{const s=new ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ht(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.Mr=e,this.docs=function(){return new Qe(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||KO(GO(h),r)<=0||(i.has(h.key)||Pd(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fM(this)}getSize(e){return X.resolve(this.size)}}class fM extends sM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.persistence=e,this.Nr=new $o(n=>ag(n),lg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mg,this.targetCount=0,this.kr=So.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new rg(0),this.Kr=!1,this.Kr=!0,this.$r=new cM,this.referenceDelegate=e(this),this.Ur=new pM(this),this.indexManager=new rM,this.remoteDocumentCache=function(i){return new hM(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new tM(n),this.Gr=new lM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new dM(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new gM(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class gM extends QO{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Jr=new mg,this.Yr=null}static Zr(e){return new gg(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Te(),i=Te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return J1()?8:XO(Mt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vM;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(fa()<=Se.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(fa()<=Se.DEBUG&&ae("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fa()<=Se.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):X.resolve())}Yi(e,n){if(dw(n))return X.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Np(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Te(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Np(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return dw(n)||i.isEqual(ve.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?X.resolve(null):(fa()<=Se.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.rs(e,o,n,qO(i,-1)).next(a=>a))})}ts(e,n){let r=new Tt(_C(e));return n.forEach((i,s)=>{Pd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return fa()<=Se.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Qe(be),this._s=new $o(s=>ag(s),lg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wM(t,e,n,r){return new _M(t,e,n,r)}async function $C(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Te();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function EM(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,m=p.keys();let T=X.resolve();return m.forEach(S=>{T=T.next(()=>h.getEntry(l,S)).next(w=>{const C=c.docVersions.get(S);Pe(C!==null),w.version.compareTo(C)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),T.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function UC(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TM(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let T=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(Ct.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(p,T),function(w,C,v){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,T,h)&&a.push(n.Ur.updateTargetData(s,T))});let l=Mr(),c=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(IM(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(ve.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return X.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function IM(t,e,n){let r=Te(),i=Te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function CM(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SM(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Mp(t,e,n){const r=ye(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hl(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Tw(t,e,n){const r=ye(t);let i=ve.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const p=ye(l),m=p._s.get(h);return m!==void 0?X.resolve(p.os.get(m)):p.Ur.getTargetData(c,h)}(r,o,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:Te())).next(a=>(xM(r,mj(e),a),{documents:a,Ts:s})))}function xM(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Iw{constructor(){this.activeTargetIds=Ej()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AM{constructor(){this.so=new Iw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Iw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function sf(){return Fu===null?Fu=function(){return 268435456+Math.round(2147483648*Math.random())}():Fu++,"0x"+Fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class NM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=sf(),l=this.xo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Eo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=kM[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=sf();return new Promise((o,a)=>{const l=new tC;l.setWithCredentials(!0),l.listenOnce(nC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ac.NO_ERROR:const h=l.getResponseJson();ae(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ac.TIMEOUT:ae(kt,`RPC '${e}' ${s} timed out`),a(new ne(K.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:const p=l.getStatus();if(ae(kt,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const S=function(C){const v=C.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(v)>=0?v:K.UNKNOWN}(T.status);a(new ne(S,T.message))}else a(new ne(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ne(K.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(kt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ae(kt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=sf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sC(),a=iC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ae(kt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const p=o.createWebChannel(h,l);let m=!1,T=!1;const S=new bM({Io:C=>{T?ae(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(m||(ae(kt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),ae(kt,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},To:()=>p.close()}),w=(C,v,y)=>{C.listen(v,I=>{try{y(I)}catch(O){setTimeout(()=>{throw O},0)}})};return w(p,xa.EventType.OPEN,()=>{T||(ae(kt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),w(p,xa.EventType.CLOSE,()=>{T||(T=!0,ae(kt,`RPC '${e}' stream ${i} transport closed`),S.So())}),w(p,xa.EventType.ERROR,C=>{T||(T=!0,Eo(kt,`RPC '${e}' stream ${i} transport errored:`,C),S.So(new ne(K.UNAVAILABLE,"The operation could not be completed")))}),w(p,xa.EventType.MESSAGE,C=>{var v;if(!T){const y=C.data[0];Pe(!!y);const I=y,O=I.error||((v=I[0])===null||v===void 0?void 0:v.error);if(O){ae(kt,`RPC '${e}' stream ${i} received error:`,O);const P=O.status;let L=function(R){const b=it[R];if(b!==void 0)return bC(b)}(P),x=O.message;L===void 0&&(L=K.INTERNAL,x="Unknown error status: "+P+" with message "+O.message),T=!0,S.So(new ne(L,x)),p.close()}else ae(kt,`RPC '${e}' stream ${i} received:`,y),S.bo(y)}}),w(a,rC.STAT_EVENT,C=>{C.stat===Sp.PROXY?ae(kt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Sp.NOPROXY&&ae(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){return new Uj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new BC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ne(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PM extends zC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Hj(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?tr(o.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=jp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=kp(l)?{documents:Gj(s,l)}:{query:Kj(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DC(s,o.resumeToken);const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=Yc(s,o.snapshotVersion.toTimestamp());const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Qj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=jp(this.serializer),n.removeTarget=e,this.a_(n)}}class DM extends zC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=qj(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=jp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wj(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Dp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(K.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Dp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class jM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jr(n),this.D_=!1):ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ss(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.L_.add(4),await Gl(c),c.q_.set("Unknown"),c.L_.delete(4),await Ld(c)}(this))})}),this.q_=new jM(r,i)}}async function Ld(t){if(Ss(t))for(const e of t.B_)await e(!0)}async function Gl(t){for(const e of t.B_)await e(!1)}function HC(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Eg(n)?wg(n):Uo(n).r_()&&_g(n,e))}function yg(t,e){const n=ye(t),r=Uo(n);n.N_.delete(e),r.r_()&&WC(n,e),n.N_.size===0&&(r.r_()?r.o_():Ss(n)&&n.q_.set("Unknown"))}function _g(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(t).A_(e)}function WC(t,e){t.Q_.xe(e),Uo(t).R_(e)}function wg(t){t.Q_=new Lj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Uo(t).start(),t.q_.v_()}function Eg(t){return Ss(t)&&!Uo(t).n_()&&t.N_.size>0}function Ss(t){return ye(t).L_.size===0}function qC(t){t.Q_=void 0}async function LM(t){t.q_.set("Online")}async function VM(t){t.N_.forEach((e,n)=>{_g(t,e)})}async function FM(t,e){qC(t),Eg(t)?(t.q_.M_(e),wg(t)):t.q_.set("Unknown")}async function $M(t,e,n){if(t.q_.set("Online"),e instanceof PC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qc(t,r)}else if(e instanceof cc?t.Q_.Ke(e):e instanceof NC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await UC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),WC(s,l);const p=new di(h.target,l,c,h.sequenceNumber);_g(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Qc(t,r)}}async function Qc(t,e,n){if(!Hl(e))throw e;t.L_.add(1),await Gl(t),t.q_.set("Offline"),n||(n=()=>UC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ld(t)})}function GC(t,e){return e().catch(n=>Qc(t,n,e))}async function Vd(t){const e=ye(t),n=Ri(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;UM(e);)try{const i=await CM(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,BM(e,i)}catch(i){await Qc(e,i)}KC(e)&&YC(e)}function UM(t){return Ss(t)&&t.O_.length<10}function BM(t,e){t.O_.push(e);const n=Ri(t);n.r_()&&n.V_&&n.m_(e.mutations)}function KC(t){return Ss(t)&&!Ri(t).n_()&&t.O_.length>0}function YC(t){Ri(t).start()}async function zM(t){Ri(t).p_()}async function HM(t){const e=Ri(t);for(const n of t.O_)e.m_(n.mutations)}async function WM(t,e,n){const r=t.O_.shift(),i=hg.from(r,e,n);await GC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vd(t)}async function qM(t,e){e&&Ri(t).V_&&await async function(r,i){if(function(o){return Oj(o)&&o!==K.ABORTED}(i.code)){const s=r.O_.shift();Ri(r).s_(),await GC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vd(r)}}(t,e),KC(t)&&YC(t)}async function Sw(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.L_.add(3),await Gl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ld(n)}async function GM(t,e){const n=ye(t);e?(n.L_.delete(2),await Ld(n)):e||(n.L_.add(2),await Gl(n),n.q_.set("Unknown"))}function Uo(t){return t.K_||(t.K_=function(n,r,i){const s=ye(n);return s.w_(),new PM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:LM.bind(null,t),Ro:VM.bind(null,t),mo:FM.bind(null,t),d_:$M.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Eg(t)?wg(t):t.q_.set("Unknown")):(await t.K_.stop(),qC(t))})),t.K_}function Ri(t){return t.U_||(t.U_=function(n,r,i){const s=ye(n);return s.w_(),new DM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zM.bind(null,t),mo:qM.bind(null,t),f_:HM.bind(null,t),g_:WM.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vd(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Tg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(t,e){if(jr("AsyncQueue",`${e}: ${t}`),Hl(t))return new ne(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.W_=new Qe(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xo(e,n,co.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class YM{constructor(){this.queries=Aw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=Aw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ne(K.ABORTED,"Firestore shutting down"))}}function Aw(){return new $o(t=>yC(t),Nd)}async function QC(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new KM,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ig(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Cg(n)}async function XC(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QM(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Cg(n)}function XM(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Cg(t){t.Y_.forEach(e=>{e.next()})}var Lp,Rw;(Rw=Lp||(Lp={})).ea="default",Rw.Cache="cache";class JC{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.key=e}}class eS{constructor(e){this.key=e}}class JM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=_C(e),this.Ra=new co(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new xw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const m=i.get(h),T=Pd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),w=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;m&&T?m.data.isEqual(T.data)?S!==w&&(r.track({type:3,doc:T}),C=!0):this.ga(m,T)||(r.track({type:2,doc:T}),C=!0,(l&&this.Aa(T,l)>0||c&&this.Aa(T,c)<0)&&(a=!0)):!m&&T?(r.track({type:0,doc:T}),C=!0):m&&!T&&(r.track({type:1,doc:m}),C=!0,(l||c)&&(a=!0)),C&&(T?(o=o.add(T),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(T,S){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return w(T)-w(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new xo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new eS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ZC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ZM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eL{constructor(e){this.key=e,this.va=!1}}class tL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $o(a=>yC(a),Nd),this.Ma=new Map,this.xa=new Set,this.Oa=new Qe(de.comparator),this.Na=new Map,this.La=new mg,this.Ba={},this.ka=new Map,this.qa=So.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nL(t,e,n=!0){const r=oS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await tS(r,e,n,!0),i}async function rL(t,e){const n=oS(t);await tS(n,e,!0,!1)}async function tS(t,e,n,r){const i=await SM(t.localStore,er(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await iL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&HC(t.remoteStore,i),a}async function iL(t,e,n,r,i){t.Ka=(p,m,T)=>async function(w,C,v,y){let I=C.view.ma(v);I.ns&&(I=await Tw(w.localStore,C.query,!1).then(({documents:x})=>C.view.ma(x,I)));const O=y&&y.targetChanges.get(C.targetId),P=y&&y.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(I,w.isPrimaryClient,O,P);return bw(w,C.targetId,L.wa),L.snapshot}(t,p,m,T);const s=await Tw(t.localStore,e,!0),o=new JM(e,s.Ts),a=o.ma(s.documents),l=ql.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);bw(t,n,c.wa);const h=new ZM(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function sL(t,e,n){const r=ye(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Nd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Mp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yg(r.remoteStore,i.targetId),Vp(r,i.targetId)}).catch(zl)):(Vp(r,i.targetId),await Mp(r.localStore,i.targetId,!0))}async function oL(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function aL(t,e,n){const r=pL(t);try{const i=await function(o,a){const l=ye(o),c=et.now(),h=a.reduce((T,S)=>T.add(S.key),Te());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Mr(),w=Te();return l.cs.getEntries(T,h).next(C=>{S=C,S.forEach((v,y)=>{y.isValidDocument()||(w=w.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(T,S)).next(C=>{p=C;const v=[];for(const y of a){const I=kj(y,p.get(y.key).overlayedDocument);I!=null&&v.push(new Vi(y.key,I,cC(I.value.mapValue),hn.exists(!0)))}return l.mutationQueue.addMutationBatch(T,c,v,a)}).next(C=>{m=C;const v=C.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(T,C.batchId,v)})}).then(()=>({batchId:m.batchId,changes:EC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Qe(be)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Kl(r,i.changes),await Vd(r.remoteStore)}catch(i){const s=Ig(i,"Failed to persist write");n.reject(s)}}async function nS(t,e){const n=ye(t);try{const r=await TM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Pe(o.va):i.removedDocuments.size>0&&(Pe(o.va),o.va=!1))}),await Kl(n,r,e)}catch(r){await zl(r)}}function kw(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const m of p.j_)m.Z_(a)&&(c=!0)}),c&&Cg(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lL(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Qe(de.comparator);o=o.insert(s,Dt.newNoDocument(s,ve.min()));const a=Te().add(s),l=new jd(ve.min(),new Map,new Qe(be),o,a);await nS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Sg(r)}else await Mp(r.localStore,e,!1).then(()=>Vp(r,e,n)).catch(zl)}async function uL(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await EM(n.localStore,e);iS(n,r,null),rS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(n,i)}catch(i){await zl(i)}}async function cL(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Pe(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);iS(r,e,n),rS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kl(r,i)}catch(i){await zl(i)}}function rS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function iS(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||sS(t,r)})}function sS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(yg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Sg(t))}function bw(t,e,n){for(const r of n)r instanceof ZC?(t.La.addReference(r.key,e),dL(t,r)):r instanceof eS?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||sS(t,r.key)):ge()}function dL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),Sg(t))}function Sg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(Ue.fromString(e)),r=t.qa.next();t.Na.set(r,new eL(n)),t.Oa=t.Oa.insert(n,r),HC(t.remoteStore,new di(er(ug(n.path)),r,"TargetPurposeLimboResolution",rg.oe))}}async function Kl(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){i.push(c);const p=vg.Wi(l.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=ye(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>X.forEach(c,m=>X.forEach(m.$i,T=>h.persistence.referenceDelegate.addReference(p,m.targetId,T)).next(()=>X.forEach(m.Ui,T=>h.persistence.referenceDelegate.removeReference(p,m.targetId,T)))))}catch(p){if(!Hl(p))throw p;ae("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const T=h.os.get(m),S=T.snapshotVersion,w=T.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,w)}}}(r.localStore,s))}async function hL(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await $C(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ne(K.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(n,r.hs)}}function fL(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function oS(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lL.bind(null,e),e.Ca.d_=QM.bind(null,e.eventManager),e.Ca.$a=XM.bind(null,e.eventManager),e}function pL(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cL.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return wM(this.persistence,new yM,e.initialUser,this.serializer)}Ga(e){return new mM(gg.Zr,this.serializer)}Wa(e){return new AM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class Fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hL.bind(null,this.syncEngine),await GM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YM}()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),r=function(s){return new NM(s)}(e.databaseInfo);return function(s,o,a,l){return new OM(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new MM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kw(this.syncEngine,n,0),function(){return Cw.D()?new Cw:new RM}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const p=new tL(i,s,o,a,l,c);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);ae("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Gl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=aC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ig(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function af(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $C(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gL(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Sw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Sw(e.remoteStore,i)),t._onlineComponents=e}async function gL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await af(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await af(t,new Xc)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await af(t,new Xc);return t._offlineComponents}async function lS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Nw(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Nw(t,new Fp))),t._onlineComponents}function vL(t){return lS(t).then(e=>e.syncEngine)}async function uS(t){const e=await lS(t),n=e.eventManager;return n.onListen=nL.bind(null,e.syncEngine),n.onUnlisten=sL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oL.bind(null,e.syncEngine),n}function yL(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new aS({next:m=>{h.Za(),o.enqueueAndForget(()=>XC(s,p));const T=m.docs.has(a);!T&&m.fromCache?c.reject(new ne(K.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&m.fromCache&&l&&l.source==="server"?c.reject(new ne(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new JC(ug(a.path),h,{includeMetadataChanges:!0,_a:!0});return QC(s,p)}(await uS(t),t.asyncQueue,e,n,r)),r.promise}function _L(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new aS({next:m=>{h.Za(),o.enqueueAndForget(()=>XC(s,p)),m.fromCache&&l.source==="server"?c.reject(new ne(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new JC(a,h,{includeMetadataChanges:!0,_a:!0});return QC(s,p)}(await uS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e,n){if(!n)throw new ne(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wL(t,e,n,r){if(e===!0&&r===!0)throw new ne(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dw(t){if(!de.isDocumentKey(t))throw new ne(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ow(t){if(de.isDocumentKey(t))throw new ne(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fd(t);throw new ne(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LO;switch(r.type){case"firstParty":return new UO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Pw.get(n);r&&(ae("ComponentProvider","Removing Datastore"),Pw.delete(n),r.terminate())}(this),Promise.resolve()}}function EL(t,e,n,r={}){var i;const s=(t=sr(t,$d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Nt.MOCK_USER;else{a=cI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ne(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Nt(c)}t._authCredentials=new VO(new oC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Ii extends xs{constructor(e,n,r){super(e,n,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new de(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=qe(t),dS("collection","path",e),t instanceof $d){const r=Ue.fromString(e,...n);return Ow(r),new Ii(t,null,r)}{if(!(t instanceof Bt||t instanceof Ii))throw new ne(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Ow(r),new Ii(t.firestore,null,r)}}function bt(t,e,...n){if(t=qe(t),arguments.length===1&&(e=aC.newId()),dS("doc","path",e),t instanceof $d){const r=Ue.fromString(e,...n);return Dw(r),new Bt(t,null,new de(r))}{if(!(t instanceof Bt||t instanceof Ii))throw new ne(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Dw(r),new Bt(t.firestore,t instanceof Ii?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new BC(this,"async_queue_retry"),this.Vu=()=>{const r=of();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hl(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Tg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Bo extends $d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Mw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mw(e),this._firestoreClient=void 0,await e}}}function TL(t,e){const n=typeof t=="object"?t:xd(),r=typeof t=="string"?t:"(default)",i=Mi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aI("firestore");s&&EL(i,...s)}return i}function Ud(t){if(t._terminated)throw new ne(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IL(t),t._firestoreClient}function IL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new ej(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(Ct.fromBase64String(e))}catch(n){throw new ne(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=/^__.*__$/;class SL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class hS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class Rg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fS(this.Cu)&&CL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class xL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Md(e)}Qu(e,n,r,i=!1){return new Rg({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(t){const e=t._freezeSettings(),n=Md(t._databaseId);return new xL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pS(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);bg("Data must be an object, but it was:",o,r);const a=vS(r,o);let l,c;if(s.merge)l=new cn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const m=$p(e,p,n);if(!o.contains(m))throw new ne(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);_S(h,m)||h.push(m)}l=new cn(h),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new SL(new Yt(a),l,c)}class Hd extends Bd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hd}}class kg extends Bd{_toFieldTransform(e){return new Sj(e.path,new Il)}isEqual(e){return e instanceof kg}}function mS(t,e,n,r){const i=t.Qu(1,e,n);bg("Data must be an object, but it was:",i,r);const s=[],o=Yt.empty();Cs(r,(l,c)=>{const h=Ng(e,l,n);c=qe(c);const p=i.Nu(h);if(c instanceof Hd)s.push(h);else{const m=Ql(c,p);m!=null&&(s.push(h),o.set(h,m))}});const a=new cn(s);return new hS(o,a,i.fieldTransforms)}function gS(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[$p(e,r,n)],l=[i];if(s.length%2!=0)throw new ne(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push($p(e,s[m])),l.push(s[m+1]);const c=[],h=Yt.empty();for(let m=a.length-1;m>=0;--m)if(!_S(c,a[m])){const T=a[m];let S=l[m];S=qe(S);const w=o.Nu(T);if(S instanceof Hd)c.push(T);else{const C=Ql(S,w);C!=null&&(c.push(T),h.set(T,C))}}const p=new cn(c);return new hS(h,p,o.fieldTransforms)}function AL(t,e,n,r=!1){return Ql(n,t.Qu(r?4:3,e))}function Ql(t,e){if(yS(t=qe(t)))return bg("Unsupported field value:",e,t),vS(t,e);if(t instanceof Bd)return function(r,i){if(!fS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ql(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=et.fromDate(r);return{timestampValue:Yc(i.serializer,s)}}if(r instanceof et){const s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,s)}}if(r instanceof xg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ao)return{bytesValue:DC(i.serializer,r._byteString)};if(r instanceof Bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ag)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return cg(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Fd(r)}`)}(t,e)}function vS(t,e){const n={};return lC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{const s=Ql(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof xg||t instanceof Ao||t instanceof Bt||t instanceof Bd||t instanceof Ag)}function bg(t,e,n){if(!yS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function $p(t,e,n){if((e=qe(e))instanceof Yl)return e._internalPath;if(typeof e=="string")return Ng(t,e);throw Jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const RL=new RegExp("[~\\*/\\[\\]]");function Ng(t,e,n){if(e.search(RL)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yl(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ne(K.INVALID_ARGUMENT,a+t+l)}function _S(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kL extends wS{data(){return super.data()}}function Wd(t,e){return typeof e=="string"?Ng(t,e):e instanceof Yl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class ES extends Pg{}function pa(t,e,...n){let r=[];e instanceof Pg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Dg).length,a=s.filter(l=>l instanceof qd).length;if(o>1||o>0&&a>0)throw new ne(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qd extends ES{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qd(e,n,r)}_apply(e){const n=this._parse(e);return TS(e._query,n),new xs(e.firestore,e.converter,bp(e._query,n))}_parse(e){const n=zd(e.firestore);return function(s,o,a,l,c,h,p){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ne(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Vw(p,h);const T=[];for(const S of p)T.push(Lw(l,s,S));m={arrayValue:{values:T}}}else m=Lw(l,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Vw(p,h),m=AL(a,o,p,h==="in"||h==="not-in");return at.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ma(t,e,n){const r=e,i=Wd("where",t);return qd._create(i,r,n)}class Dg extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)TS(o,l),o=bp(o,l)}(e._query,n),new xs(e.firestore,e.converter,bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends ES{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Og(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ne(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(s,o)}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Fo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Qr(t,e="asc"){const n=e,r=Wd("orderBy",t);return Og._create(r,n)}function Lw(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new ne(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vC(e)&&n.indexOf("/")!==-1)throw new ne(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!de.isDocumentKey(r))throw new ne(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sw(t,new de(r))}if(n instanceof Bt)return sw(t,n._key);throw new ne(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(n)}.`)}function Vw(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NL{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>nt(o.doubleValue));return new Ag(s)}convertGeoPoint(e){return new xg(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=Ai(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Pe(FC(r));const i=new wl(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CS extends wS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dc extends CS{data(e={}){return super.data(e)}}class PL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dc(this._firestore,this._userDataWriter,r.key,r,new ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ka(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:DL(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){t=sr(t,Bt);const e=sr(t.firestore,Bo);return yL(Ud(e),t._key).then(n=>OL(e,t,n))}class SS extends NL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function $u(t){t=sr(t,xs);const e=sr(t.firestore,Bo),n=Ud(e),r=new SS(e);return bL(t._query),_L(n,t._query).then(i=>new PL(e,r,t,i))}function hc(t,e,n){t=sr(t,Bt);const r=sr(t.firestore,Bo),i=IS(t.converter,e,n);return jg(r,[pS(zd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hn.none())])}function ho(t,e,n,...r){t=sr(t,Bt);const i=sr(t.firestore,Bo),s=zd(i);let o;return o=typeof(e=qe(e))=="string"||e instanceof Yl?gS(s,"updateDoc",t._key,e,n,r):mS(s,"updateDoc",t._key,e),jg(i,[o.toMutation(t._key,hn.exists(!0))])}function jg(t,e){return function(r,i){const s=new xr;return r.asyncQueue.enqueueAndForget(async()=>aL(await vL(r),i,s)),s.promise}(Ud(t),e)}function OL(t,e,n){const r=n.docs.get(e._key),i=new SS(t);return new CS(t,i,e._key,r,new ka(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zd(e)}set(e,n,r){this._verifyNotCommitted();const i=lf(e,this._firestore),s=IS(i.converter,n,r),o=pS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,hn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=lf(e,this._firestore);let o;return o=typeof(n=qe(n))=="string"||n instanceof Yl?gS(this._dataReader,"WriteBatch.update",s._key,n,r,i):mS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=lf(e,this._firestore);return this._mutations=this._mutations.concat(new dg(n._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ne(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lf(t,e){if((t=qe(t)).firestore!==e)throw new ne(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function st(){return new kg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){return Ud(t=sr(t,Bo)),new jL(t,e=>jg(t,e))}(function(e,n=!0){(function(i){Vo=i})(Is),$n(new Sn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bo(new FO(r.getProvider("auth-internal")),new zO(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),en(ew,"4.7.3",e),en(ew,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebasestorage.googleapis.com",LL="storageBucket",VL=2*60*1e3,FL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends kn{constructor(e,n,r=0){super(uf(e),`Firebase Storage: ${n} (${uf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var or;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(or||(or={}));function uf(t){return"storage/"+t}function $L(){const t="An unknown error occurred, please check the error payload for server response.";return new lr(or.UNKNOWN,t)}function UL(){return new lr(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BL(){return new lr(or.CANCELED,"User canceled the upload/download.")}function zL(t){return new lr(or.INVALID_URL,"Invalid URL '"+t+"'.")}function HL(t){return new lr(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Fw(t){return new lr(or.INVALID_ARGUMENT,t)}function AS(){return new lr(or.APP_DELETED,"The Firebase app was deleted.")}function WL(t){return new lr(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(r.path==="")return r;throw HL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",T=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),S={bucket:1,path:3},w=n===xS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",v=new RegExp(`^https?://${w}/${i}/${C}`,"i"),I=[{regex:a,indices:l,postModify:s},{regex:T,indices:S,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<I.length;O++){const P=I[O],L=P.regex.exec(e);if(L){const x=L[P.indices.bucket];let E=L[P.indices.path];E||(E=""),r=new Mn(x,E),P.postModify(r);break}}if(r==null)throw zL(e);return r}}class qL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...C){c||(c=!0,e.apply(null,C))}function p(C){i=setTimeout(()=>{i=null,t(T,l())},C)}function m(){s&&clearTimeout(s)}function T(C,...v){if(c){m();return}if(C){m(),h.call(null,C,...v);return}if(l()||o){m(),h.call(null,C,...v);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,p(I)}let S=!1;function w(C){S||(S=!0,m(),!c&&(i!==null?(C||(a=2),clearTimeout(i),p(0)):C||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function KL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){return t!==void 0}function $w(t,e,n,r){if(r<e)throw Fw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fw(`Invalid value for '${t}'. Expected ${n} or less.`)}function QL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zc||(Zc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r,i,s,o,a,l,c,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Uu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Zc.NO_ERROR,l=s.getStatus();if(!a||XL(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Zc.ABORT;r(!1,new Uu(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Uu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());YL(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=$L();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?AS():BL();o(l)}else{const l=UL();o(l)}};this.canceled_?n(!1,new Uu(!1,null,!0)):this.backoffId_=GL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ZL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function e2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function n2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function r2(t,e,n,r,i,s,o=!0){const a=QL(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return t2(c,e),ZL(c,n),e2(c,s),n2(c,r),new JL(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function s2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ed(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s2(this._location.path)}get storage(){return this._service}get parent(){const e=i2(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new ed(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WL(e)}}function Uw(t,e){const n=e==null?void 0:e[LL];return n==null?null:Mn.makeFromBucketSpec(n,t)}function o2(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:cI(i,t.app.options.projectId))}class a2{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=xS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VL,this._maxUploadRetryTime=FL,this._requests=new Set,i!=null?this._bucket=Mn.makeFromBucketSpec(i,this._host):this._bucket=Uw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=Uw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$w("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$w("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ed(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new qL(AS());{const o=r2(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Bw="@firebase/storage",zw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="storage";function l2(t=xd(),e){t=qe(t);const r=Mi(t,RS).getImmediate({identifier:e}),i=aI("storage");return i&&u2(r,...i),r}function u2(t,e,n,r={}){o2(t,e,n,r)}function c2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new a2(n,r,i,e,Is)}function d2(){$n(new Sn(RS,c2,"PUBLIC").setMultipleInstances(!0)),en(Bw,zw,""),en(Bw,zw,"esm2017")}d2();const kS="@firebase/installations",Mg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=1e4,NS=`w:${Mg}`,PS="FIS_v2",h2="https://firebaseinstallations.googleapis.com/v1",f2=60*60*1e3,p2="installations",m2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ps=new Ts(p2,m2,g2);function DS(t){return t instanceof kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS({projectId:t}){return`${h2}/projects/${t}/installations`}function jS(t){return{token:t.token,requestStatus:2,expiresIn:y2(t.expiresIn),creationTime:Date.now()}}async function MS(t,e){const r=(await e.json()).error;return ps.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function LS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function v2(t,{refreshToken:e}){const n=LS(t);return n.append("Authorization",_2(e)),n}async function VS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function y2(t){return Number(t.replace("s","000"))}function _2(t){return`${PS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=OS(t),i=LS(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:PS,appId:t.appId,sdkVersion:NS},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await VS(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:jS(c.authToken)}}else throw await MS("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/^[cdef][\w-]{21}$/,Bp="";function I2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=C2(t);return T2.test(n)?n:Bp}catch{return Bp}}function C2(t){return E2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;function US(t,e){const n=Gd(t);BS(n,e),S2(n,e)}function BS(t,e){const n=$S.get(t);if(n)for(const r of n)r(e)}function S2(t,e){const n=x2();n&&n.postMessage({key:t,fid:e}),A2()}let Ji=null;function x2(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=t=>{BS(t.data.key,t.data.fid)}),Ji}function A2(){$S.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebase-installations-database",k2=1,ms="firebase-installations-store";let cf=null;function Lg(){return cf||(cf=gI(R2,k2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ms)}}})),cf}async function td(t,e){const n=Gd(t),i=(await Lg()).transaction(ms,"readwrite"),s=i.objectStore(ms),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&US(t,e.fid),e}async function zS(t){const e=Gd(t),r=(await Lg()).transaction(ms,"readwrite");await r.objectStore(ms).delete(e),await r.done}async function Kd(t,e){const n=Gd(t),i=(await Lg()).transaction(ms,"readwrite"),s=i.objectStore(ms),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&US(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(t){let e;const n=await Kd(t.appConfig,r=>{const i=b2(r),s=N2(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Bp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function b2(t){const e=t||{fid:I2(),registrationStatus:0};return HS(e)}function N2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ps.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=P2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:D2(t)}:{installationEntry:e}}async function P2(t,e){try{const n=await w2(t,e);return td(t.appConfig,n)}catch(n){throw DS(n)&&n.customData.serverCode===409?await zS(t.appConfig):await td(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function D2(t){let e=await Hw(t.appConfig);for(;e.registrationStatus===1;)await FS(100),e=await Hw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Vg(t);return r||n}return e}function Hw(t){return Kd(t,e=>{if(!e)throw ps.create("installation-not-found");return HS(e)})}function HS(t){return O2(t)?{fid:t.fid,registrationStatus:0}:t}function O2(t){return t.registrationStatus===1&&t.registrationTime+bS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2({appConfig:t,heartbeatServiceProvider:e},n){const r=M2(t,n),i=v2(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:NS,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await VS(()=>fetch(r,a));if(l.ok){const c=await l.json();return jS(c)}else throw await MS("Generate Auth Token",l)}function M2(t,{fid:e}){return`${OS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t,e=!1){let n;const r=await Kd(t.appConfig,s=>{if(!WS(s))throw ps.create("not-registered");const o=s.authToken;if(!e&&F2(o))return s;if(o.requestStatus===1)return n=L2(t,e),s;{if(!navigator.onLine)throw ps.create("app-offline");const a=U2(s);return n=V2(t,a),a}});return n?await n:r.authToken}async function L2(t,e){let n=await Ww(t.appConfig);for(;n.authToken.requestStatus===1;)await FS(100),n=await Ww(t.appConfig);const r=n.authToken;return r.requestStatus===0?Fg(t,e):r}function Ww(t){return Kd(t,e=>{if(!WS(e))throw ps.create("not-registered");const n=e.authToken;return B2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function V2(t,e){try{const n=await j2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await td(t.appConfig,r),n}catch(n){if(DS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await zS(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await td(t.appConfig,r)}throw n}}function WS(t){return t!==void 0&&t.registrationStatus===2}function F2(t){return t.requestStatus===2&&!$2(t)}function $2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+f2}function U2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function B2(t){return t.requestStatus===1&&t.requestTime+bS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t){const e=t,{installationEntry:n,registrationPromise:r}=await Vg(e);return r?r.catch(console.error):Fg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(t,e=!1){const n=t;return await W2(n),(await Fg(n,e)).token}async function W2(t){const{registrationPromise:e}=await Vg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t){if(!t||!t.options)throw df("App Configuration");if(!t.name)throw df("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw df(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function df(t){return ps.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="installations",G2="installations-internal",K2=t=>{const e=t.getProvider("app").getImmediate(),n=q2(e),r=Mi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Y2=t=>{const e=t.getProvider("app").getImmediate(),n=Mi(e,qS).getImmediate();return{getId:()=>z2(n),getToken:i=>H2(n,i)}};function Q2(){$n(new Sn(qS,K2,"PUBLIC")),$n(new Sn(G2,Y2,"PRIVATE"))}Q2();en(kS,Mg);en(kS,Mg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="analytics",X2="firebase_id",J2="origin",Z2=60*1e3,eV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$g="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new Sd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new Ts("analytics","Analytics",tV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(!t.startsWith($g)){const e=fn.create("invalid-gtag-resource",{gtagURL:t});return tn.warn(e.message),""}return t}function GS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function iV(t,e){const n=rV("firebase-js-sdk-policy",{createScriptURL:nV}),r=document.createElement("script"),i=`${$g}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function sV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function oV(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await GS(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){tn.error(a)}t("config",i,s)}async function aV(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await GS(n);for(const l of o){const c=a.find(p=>p.measurementId===l),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){tn.error(s)}}function lV(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await aV(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await oV(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){tn.error(a)}}return i}function uV(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=lV(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function cV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($g)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=30,hV=1e3;class fV{constructor(e={},n=hV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const KS=new fV;function pV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function mV(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:pV(r)},s=eV.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function gV(t,e=KS,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw fn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw fn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _V;return setTimeout(async()=>{a.abort()},Z2),YS({appId:r,apiKey:i,measurementId:s},o,a,e)}async function YS(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=KS){var s;const{appId:o,measurementId:a}=t;try{await vV(r,e)}catch(l){if(a)return tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await mV(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!yV(c)){if(i.deleteThrottleMetadata(o),a)return tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const h=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?S_(n,i.intervalMillis,dV):S_(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,p),tn.debug(`Calling attemptFetch again in ${h} millis`),YS(t,p,r,i)}}function vV(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yV(t){if(!(t instanceof kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _V{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wV(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(){if(hI())try{await fI()}catch(t){return tn.warn(fn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return tn.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TV(t,e,n,r,i,s,o){var a;const l=gV(t);l.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>tn.error(T)),e.push(l);const c=EV().then(T=>{if(T)return r.getId()}),[h,p]=await Promise.all([l,c]);cV(s)||iV(s,h.measurementId),i("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[J2]="firebase",m.update=!0,p!=null&&(m[X2]=p),i("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.app=e}_delete(){return delete qa[this.app.options.appId],Promise.resolve()}}let qa={},qw=[];const Gw={};let hf="dataLayer",CV="gtag",Kw,QS,Yw=!1;function SV(){const t=[];if(dI()&&t.push("This is a browser extension environment."),Z1()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=fn.create("invalid-analytics-context",{errorInfo:e});tn.warn(n.message)}}function xV(t,e,n){SV();const r=t.options.appId;if(!r)throw fn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if(qa[r]!=null)throw fn.create("already-exists",{id:r});if(!Yw){sV(hf);const{wrappedGtag:s,gtagCore:o}=uV(qa,qw,Gw,hf,CV);QS=s,Kw=o,Yw=!0}return qa[r]=TV(t,qw,Gw,e,Kw,hf,n),new IV(t)}function AV(t=xd()){t=qe(t);const e=Mi(t,nd);return e.isInitialized()?e.getImmediate():RV(t)}function RV(t,e={}){const n=Mi(t,nd);if(n.isInitialized()){const i=n.getImmediate();if(ml(e,n.getOptions()))return i;throw fn.create("already-initialized")}return n.initialize({options:e})}function kV(t,e,n,r){t=qe(t),wV(QS,qa[t.app.options.appId],e,n,r).catch(i=>tn.error(i))}const Qw="@firebase/analytics",Xw="0.10.8";function bV(){$n(new Sn(nd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return xV(r,i,n)},"PUBLIC")),$n(new Sn("analytics-internal",t,"PRIVATE")),en(Qw,Xw),en(Qw,Xw,"esm2017");function t(e){try{const n=e.getProvider(nd).getImmediate();return{logEvent:(r,i,s)=>kV(n,r,i,s)}}catch(n){throw fn.create("interop-component-reg-failed",{reason:n})}}}bV();const NV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDzB54YUmMCG_oPHJxdiG7zgGg9lfdwAqc",VITE_FIREBASE_APP_ID:"1:568063885102:web:6de10f68f97fa3014744bf",VITE_FIREBASE_AUTH_DOMAIN:"barberconnect-b676b.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-NLPK2BVTK1",VITE_FIREBASE_MESSAGING_SENDER_ID:"568063885102",VITE_FIREBASE_PROJECT_ID:"barberconnect-b676b",VITE_FIREBASE_STORAGE_BUCKET:"barberconnect-b676b.appspot.com"},PV={apiKey:"AIzaSyDzB54YUmMCG_oPHJxdiG7zgGg9lfdwAqc",authDomain:"barberconnect-b676b.firebaseapp.com",projectId:"barberconnect-b676b",storageBucket:"barberconnect-b676b.appspot.com",messagingSenderId:"568063885102",appId:"1:568063885102:web:6de10f68f97fa3014744bf",measurementId:"G-NLPK2BVTK1"},DV=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"];for(const t of DV)if(!NV[t])throw new Error(`Varivel de ambiente ${t} no est definida`);const Yd=vI(PV),ba=DO(Yd),Je=TL(Yd);l2(Yd);AV(Yd);class mr{static async signIn(e,n){try{const r=await gD(ba,e,n);return await this.updateLastAccess(r.user.uid),r.user}catch(r){throw this.handleAuthError(r)}}static async signUp(e,n,r,i="admin"){try{const o=(await mD(ba,e,n)).user;await yD(o,{displayName:r});const a={email:e,nome:r,role:i,contribuintes:[],ativo:!0,criadoEm:new Date,atualizadoEm:new Date};return await hc(bt(Je,"usuarios",o.uid),{...a,criadoEm:st(),atualizadoEm:st()}),o}catch(s){throw this.handleAuthError(s)}}static async signOut(){try{await TD(ba)}catch(e){throw this.handleAuthError(e)}}static async resetPassword(e){try{await pD(ba,e)}catch(n){throw this.handleAuthError(n)}}static async getUserData(e){try{const n=await Up(bt(Je,"usuarios",e));return n.exists()?{id:n.id,...n.data()}:null}catch(n){return console.error("Erro ao buscar dados do usurio:",n),null}}static async updateUserData(e,n){try{await ho(bt(Je,"usuarios",e),{...n,atualizadoEm:st()})}catch(r){throw console.error("Erro ao atualizar dados do usurio:",r),r}}static async updateLastAccess(e){try{await ho(bt(Je,"usuarios",e),{ultimoAcesso:st()})}catch(n){console.error("Erro ao atualizar ltimo acesso:",n)}}static async checkUserAccess(e,n){try{const r=await this.getUserData(e);return r?r.contribuintes.includes(n):!1}catch(r){return console.error("Erro ao verificar acesso do usurio:",r),!1}}static async addContribuinteToUser(e,n){try{const r=await this.getUserData(e);if(r&&!r.contribuintes.includes(n)){const i=[...r.contribuintes,n];await ho(bt(Je,"usuarios",e),{contribuintes:i,atualizadoEm:st()})}}catch(r){throw console.error("Erro ao adicionar contribuinte ao usurio:",r),r}}static handleAuthError(e){const r={"auth/user-not-found":"Usurio no encontrado","auth/wrong-password":"Senha incorreta","auth/email-already-in-use":"Este email j est sendo usado","auth/weak-password":"A senha deve ter pelo menos 6 caracteres","auth/invalid-email":"Email invlido","auth/user-disabled":"Conta desabilitada","auth/too-many-requests":"Muitas tentativas. Tente novamente mais tarde","auth/network-request-failed":"Erro de conexo. Verifique sua internet","auth/invalid-credential":"Credenciais invlidas"}[e.code]||e.message||"Erro de autenticao";return new Error(r)}}const XS=_.createContext(void 0),OV=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(null),[s,o]=_.useState(!0),[a,l]=_.useState(null);_.useEffect(()=>{const w=ED(ba,async C=>{if(n(C),C)try{const v=await mr.getUserData(C.uid);i(v)}catch(v){console.error("Erro ao carregar dados do usurio:",v),l("Erro ao carregar dados do usurio")}else i(null);o(!1)});return()=>w()},[]);const S={user:e,userData:r,loading:s,error:a,signIn:async(w,C)=>{o(!0),l(null);try{const v=await mr.signIn(w,C),y=await mr.getUserData(v.uid);n(v),i(y)}catch(v){const y=v instanceof Error?v.message:"Erro ao fazer login";throw l(y),v}finally{o(!1)}},signUp:async(w,C,v)=>{o(!0),l(null);try{const y=await mr.signUp(w,C,v),I=await mr.getUserData(y.uid);n(y),i(I)}catch(y){const I=y instanceof Error?y.message:"Erro ao criar conta";throw l(I),y}finally{o(!1)}},signOut:async()=>{o(!0),l(null);try{await mr.signOut(),n(null),i(null)}catch(w){const C=w instanceof Error?w.message:"Erro ao fazer logout";throw l(C),w}finally{o(!1)}},resetPassword:async w=>{l(null);try{await mr.resetPassword(w)}catch(C){const v=C instanceof Error?C.message:"Erro ao enviar email de recuperao";throw l(v),C}},clearError:()=>{l(null)}};return d.jsx(XS.Provider,{value:S,children:t})},Ur=()=>{const t=_.useContext(XS);if(!t)throw new Error("useAuth deve ser usado dentro de um UserProvider");return t};class Ft{static async verificarContribuinte(e){console.log(" BarbeariaService.verificarContribuinte chamado com:",e);try{if(!Je)throw console.error(" Firebase no est configurado!"),new Error("Firebase no configurado");console.log(" Fazendo consulta no Firestore...");const n=bt(Je,"barbearias",e),r=await Up(n),i=r.exists();return console.log(" Resultado da consulta:",{docRef:n.path,exists:i,data:i?r.data():null}),i}catch(n){return console.error(" Erro na verificao do Firestore:",n),!1}}static async criarBarbearia(e,n){try{if(await this.verificarContribuinte(e.contribuinte))throw new Error("Contribuinte j cadastrado");const i={...e,criadoPor:n,id:e.contribuinte,criadoEm:st(),atualizadoEm:st(),ativo:!0},s=ML(Je),o=bt(Je,"barbearias",e.contribuinte);s.set(o,i);const a=bt(fr(Je,"barbearias",e.contribuinte,"funcionarios"));s.set(a,{id:a.id,nome:"Todos os Funcionrios",especialidades:[],horarioTrabalho:{},ativo:!0,criadoEm:st(),atualizadoEm:st()}),[{nome:"Corte Masculino",descricao:"Corte de cabelo masculino tradicional",duracao:30,preco:25,categoria:"Corte"},{nome:"Barba",descricao:"Aparar e modelar barba",duracao:20,preco:15,categoria:"Barba"},{nome:"Corte + Barba",descricao:"Pacote completo corte e barba",duracao:45,preco:35,categoria:"Pacote"}].forEach(c=>{const h=bt(fr(Je,"barbearias",e.contribuinte,"servicos"));s.set(h,{...c,id:h.id,ativo:!0,criadoEm:st(),atualizadoEm:st()})}),await s.commit()}catch(r){throw console.error("Erro ao criar barbearia:",r),r}}static async adicionarFuncionario(e,n){try{const r=bt(fr(Je,"barbearias",e,"funcionarios")),i={...n,id:r.id,ativo:!0,criadoEm:st(),atualizadoEm:st()};return await hc(r,i),r.id}catch(r){throw console.error("Erro ao adicionar funcionrio:",r),r}}static async atualizarFuncionario(e,n,r){try{const i=bt(Je,"barbearias",e,"funcionarios",n);await ho(i,{...r,atualizadoEm:st()})}catch(i){throw console.error("Erro ao atualizar funcionrio:",i),i}}static async removerFuncionario(e,n){try{const r=bt(Je,"barbearias",e,"funcionarios",n);await ho(r,{ativo:!1,atualizadoEm:st()})}catch(r){throw console.error("Erro ao remover funcionrio:",r),r}}static async buscarBarbearia(e){var n,r;try{const i=bt(Je,"barbearias",e),s=await Up(i);if(s.exists()){const o=s.data();return{...o,id:s.id,criadoEm:((n=o.criadoEm)==null?void 0:n.toDate())||new Date,atualizadoEm:((r=o.atualizadoEm)==null?void 0:r.toDate())||new Date}}return null}catch(i){throw console.error("Erro ao buscar barbearia:",i),new Error("Erro ao buscar dados da barbearia")}}static async atualizarBarbearia(e,n){try{const r=bt(Je,"barbearias",e);await ho(r,{...n,atualizadoEm:st()})}catch(r){throw console.error("Erro ao atualizar barbearia:",r),r}}static async buscarFuncionarios(e){try{const n=fr(Je,"barbearias",e,"funcionarios"),r=pa(n,ma("ativo","==",!0),Qr("nome"));return(await $u(r)).docs.map(s=>{var a,l;const o=s.data();return{...o,id:s.id,criadoEm:((a=o.criadoEm)==null?void 0:a.toDate())||new Date,atualizadoEm:((l=o.atualizadoEm)==null?void 0:l.toDate())||new Date}})}catch(n){throw console.error("Erro ao buscar funcionrios:",n),n}}static async buscarClientes(e){try{const n=fr(Je,"barbearias",e,"clientes"),r=pa(n,ma("ativo","==",!0),Qr("nome"));return(await $u(r)).docs.map(s=>{var a,l,c,h;const o=s.data();return{...o,id:s.id,criadoEm:((a=o.criadoEm)==null?void 0:a.toDate())||new Date,atualizadoEm:((l=o.atualizadoEm)==null?void 0:l.toDate())||new Date,ultimaVisita:((c=o.ultimaVisita)==null?void 0:c.toDate())||null,dataNascimento:((h=o.dataNascimento)==null?void 0:h.toDate())||null}})}catch(n){throw console.error("Erro ao buscar clientes:",n),n}}static async adicionarCliente(e,n){try{const r=bt(fr(Je,"barbearias",e,"clientes")),i={...n,id:r.id,totalVisitas:0,ativo:!0,criadoEm:st(),atualizadoEm:st()};return await hc(r,i),r.id}catch(r){throw console.error("Erro ao adicionar cliente:",r),r}}static async buscarServicos(e){try{const n=fr(Je,"barbearias",e,"servicos"),r=pa(n,ma("ativo","==",!0),Qr("categoria"),Qr("nome"));return(await $u(r)).docs.map(s=>{var a,l;const o=s.data();return{...o,id:s.id,criadoEm:((a=o.criadoEm)==null?void 0:a.toDate())||new Date,atualizadoEm:((l=o.atualizadoEm)==null?void 0:l.toDate())||new Date}})}catch(n){throw console.error("Erro ao buscar servios:",n),n}}static async buscarAgendamentos(e,n,r){try{const i=fr(Je,"barbearias",e,"agendamentos");let s=pa(i,Qr("data"),Qr("horarioInicio"));return n&&r&&(s=pa(i,ma("data",">=",et.fromDate(n)),ma("data","<=",et.fromDate(r)),Qr("data"),Qr("horarioInicio"))),(await $u(s)).docs.map(a=>{var c,h,p;const l=a.data();return{...l,id:a.id,data:((c=l.data)==null?void 0:c.toDate())||new Date,criadoEm:((h=l.criadoEm)==null?void 0:h.toDate())||new Date,atualizadoEm:((p=l.atualizadoEm)==null?void 0:p.toDate())||new Date}})}catch(i){throw console.error("Erro ao buscar agendamentos:",i),i}}static async criarAgendamento(e,n){try{const r=bt(fr(Je,"barbearias",e,"agendamentos")),i={...n,id:r.id,data:et.fromDate(n.data),ativo:!0,criadoEm:st(),atualizadoEm:st()};return await hc(r,i),r.id}catch(r){throw console.error("Erro ao criar agendamento:",r),r}}}const ff=t=>/^\d{1,9}$/.test(t),JS=_.createContext(void 0),jV=({children:t})=>{const e="Barber Connect",{user:n}=Ur(),[r,i]=_.useState(null),[s,o]=_.useState(null),[a,l]=_.useState(!1),[c,h]=_.useState(null);_.useEffect(()=>{const y=localStorage.getItem("barber_contribuinte");y&&n&&p(y)},[n]);const p=_.useCallback(async y=>{if(n){l(!0),h(null);try{const I=await Ft.buscarBarbearia(y);if(I)i(y),o(I),localStorage.setItem("barber_contribuinte",y),await mr.addContribuinteToUser(n.uid,y);else throw new Error("Barbearia no encontrada")}catch(I){const O=I instanceof Error?I.message:"Erro ao carregar barbearia";h(O),console.error("Erro ao carregar barbearia:",I)}finally{l(!1)}}},[n]),m=_.useCallback(async y=>{if(!ff(y))throw new Error("Contribuinte deve conter apenas nmeros e ter no mximo 9 dgitos");if(!n)throw new Error("Usurio no autenticado");await p(y)},[n,p]),T=_.useCallback(async y=>{if(!n)throw new Error("Usurio no autenticado");if(!ff(y.contribuinte))throw new Error("Contribuinte deve conter apenas nmeros e ter no mximo 9 dgitos");l(!0),h(null);try{await Ft.criarBarbearia(y,n.uid),await mr.addContribuinteToUser(n.uid,y.contribuinte),await p(y.contribuinte)}catch(I){const O=I instanceof Error?I.message:"Erro ao criar barbearia";throw h(O),I}finally{l(!1)}},[n,p]),S=_.useCallback(async y=>{if(!r||!n)throw new Error("Contribuinte ou usurio no definido");l(!0),h(null);try{if(await Ft.atualizarBarbearia(r,y),s){const I={...s,...y};o(I)}}catch(I){const O=I instanceof Error?I.message:"Erro ao atualizar barbearia";throw h(O),I}finally{l(!1)}},[r,n,s]),w=_.useCallback(()=>{i(null),o(null),h(null),localStorage.removeItem("barber_contribuinte")},[]),C=!!(r&&s&&s.nomeEstabelecimento&&s.endereco),v={appName:e,contribuinte:r,barbearia:s,isConfigured:C,loading:a,error:c,setContribuinte:m,createBarbearia:T,updateBarbearia:S,clearConfiguration:w,validateContribuinte:ff};return d.jsx(JS.Provider,{value:v,children:t})},Br=()=>{const t=_.useContext(JS);if(!t)throw new Error("useConfig deve ser usado dentro de um ConfigProvider");return t},ZS=_.createContext(void 0),MV=({children:t})=>{const{user:e}=Ur(),{contribuinte:n,isConfigured:r}=Br(),[i,s]=_.useState([]),[o,a]=_.useState([]),[l,c]=_.useState([]),[h,p]=_.useState([]),[m,T]=_.useState(null),[S,w]=_.useState(!1),[C,v]=_.useState(null);_.useEffect(()=>{n&&e&&r&&y()},[n,e,r]),_.useEffect(()=>{if(i.length>0&&!m){const G=i.find(Y=>Y.nome.includes("Todos"));T(G||i[0])}},[i,m]);const y=_.useCallback(async()=>{if(!(!n||!e)){w(!0),v(null);try{const[G,Y,ce,Ee]=await Promise.all([Ft.buscarFuncionarios(n),Ft.buscarClientes(n),Ft.buscarServicos(n),Ft.buscarAgendamentos(n)]);s(G),a(Y),c(ce),p(Ee)}catch(G){const Y=G instanceof Error?G.message:"Erro ao carregar dados";v(Y),console.error("Erro ao carregar dados:",G)}finally{w(!1)}}},[n,e]),I=_.useCallback(()=>{v(null)},[]),O=_.useCallback(async G=>{if(!n)throw new Error("Contribuinte no definido");try{const Y=await Ft.adicionarFuncionario(n,G);return await y(),Y}catch(Y){const ce=Y instanceof Error?Y.message:"Erro ao adicionar funcionrio";throw v(ce),Y}},[n,y]),P=_.useCallback(async(G,Y)=>{if(!n)throw new Error("Contribuinte no definido");try{await Ft.atualizarFuncionario(n,G,Y),await y()}catch(ce){const Ee=ce instanceof Error?ce.message:"Erro ao atualizar funcionrio";throw v(Ee),ce}},[n,y]),L=_.useCallback(async G=>{if(!n)throw new Error("Contribuinte no definido");try{await Ft.removerFuncionario(n,G),await y()}catch(Y){const ce=Y instanceof Error?Y.message:"Erro ao remover funcionrio";throw v(ce),Y}},[n,y]),x=_.useCallback(()=>i.filter(G=>G.ativo),[i]),E=_.useCallback(async G=>{if(!n)throw new Error("Contribuinte no definido");try{const Y=await Ft.adicionarCliente(n,G);return await y(),Y}catch(Y){const ce=Y instanceof Error?Y.message:"Erro ao adicionar cliente";throw v(ce),Y}},[n,y]),R=_.useCallback(async()=>{if(!n)throw new Error("Contribuinte no definido");try{await y()}catch(G){const Y=G instanceof Error?G.message:"Erro ao atualizar cliente";throw v(Y),G}},[n,y]),b=_.useCallback(async()=>{if(!n)throw new Error("Contribuinte no definido");try{await y()}catch(G){const Y=G instanceof Error?G.message:"Erro ao remover cliente";throw v(Y),G}},[n,y]),N=_.useCallback(G=>{const Y=G.toLowerCase();return o.filter(ce=>ce.nome.toLowerCase().includes(Y)||ce.email.toLowerCase().includes(Y)||ce.telefone.includes(Y))},[o]),D=_.useCallback(async()=>{if(!n)throw new Error("Contribuinte no definido");try{return await y(),"temp-id"}catch(G){const Y=G instanceof Error?G.message:"Erro ao adicionar servio";throw v(Y),G}},[n,y]),A=_.useCallback(async()=>{if(!n)throw new Error("Contribuinte no definido");try{await y()}catch(G){const Y=G instanceof Error?G.message:"Erro ao atualizar servio";throw v(Y),G}},[n,y]),W=_.useCallback(async()=>{if(!n)throw new Error("Contribuinte no definido");try{await y()}catch(G){const Y=G instanceof Error?G.message:"Erro ao remover servio";throw v(Y),G}},[n,y]),U=_.useCallback(()=>l.filter(G=>G.ativo),[l]),M=_.useCallback(G=>l.filter(Y=>G.includes(Y.id)).reduce((Y,ce)=>Y+ce.preco,0),[l]),B=_.useCallback(async G=>{if(!n)throw new Error("Contribuinte no definido");try{const Y=await Ft.criarAgendamento(n,G);return await y(),Y}catch(Y){const ce=Y instanceof Error?Y.message:"Erro ao criar agendamento";throw v(ce),Y}},[n,y]),j=_.useCallback(async()=>{if(!n)throw new Error("Contribuinte no definido");try{await y()}catch(G){const Y=G instanceof Error?G.message:"Erro ao atualizar agendamento";throw v(Y),G}},[n,y]),$=_.useCallback(async()=>{if(!n)throw new Error("Contribuinte no definido");try{await y()}catch(G){const Y=G instanceof Error?G.message:"Erro ao cancelar agendamento";throw v(Y),G}},[n,y]),V=_.useCallback(G=>h.filter(Y=>new Date(Y.data).toDateString()===G.toDateString()),[h]),Q=_.useCallback(G=>h.filter(Y=>Y.funcionarioId===G),[h]),Z=_.useCallback(G=>h.filter(Y=>Y.clienteId===G),[h]),te={funcionarios:i,clientes:o,servicos:l,agendamentos:h,selectedFuncionario:m,loading:S,error:C,setSelectedFuncionario:T,addFuncionario:O,updateFuncionario:P,removeFuncionario:L,getFuncionariosAtivos:x,addCliente:E,updateCliente:R,removeCliente:b,searchClientes:N,addServico:D,updateServico:A,removeServico:W,getServicosAtivos:U,calculateTotalPrice:M,createAgendamento:B,updateAgendamento:j,cancelAgendamento:$,getAgendamentosByDate:V,getAgendamentosByFuncionario:Q,getAgendamentosByCliente:Z,refreshData:y,clearError:I};return d.jsx(ZS.Provider,{value:te,children:t})},Ug=()=>{const t=_.useContext(ZS);if(!t)throw new Error("useStore deve ser usado dentro de um StoreProvider");return t};var pf={exports:{}},Jw;function ex(){return Jw||(Jw=1,function(t,e){(function(n,r){t.exports=r()})(Ni,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",h="week",p="month",m="quarter",T="year",S="date",w="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var U=["th","st","nd","rd"],M=W%100;return"["+W+(U[(M-20)%10]||U[M]||U[0])+"]"}},I=function(W,U,M){var B=String(W);return!B||B.length>=U?W:""+Array(U+1-B.length).join(M)+W},O={s:I,z:function(W){var U=-W.utcOffset(),M=Math.abs(U),B=Math.floor(M/60),j=M%60;return(U<=0?"+":"-")+I(B,2,"0")+":"+I(j,2,"0")},m:function W(U,M){if(U.date()<M.date())return-W(M,U);var B=12*(M.year()-U.year())+(M.month()-U.month()),j=U.clone().add(B,p),$=M-j<0,V=U.clone().add(B+($?-1:1),p);return+(-(B+(M-j)/($?j-V:V-j))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:p,y:T,w:h,d:c,D:S,h:l,m:a,s:o,ms:s,Q:m}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},P="en",L={};L[P]=y;var x="$isDayjsObject",E=function(W){return W instanceof D||!(!W||!W[x])},R=function W(U,M,B){var j;if(!U)return P;if(typeof U=="string"){var $=U.toLowerCase();L[$]&&(j=$),M&&(L[$]=M,j=$);var V=U.split("-");if(!j&&V.length>1)return W(V[0])}else{var Q=U.name;L[Q]=U,j=Q}return!B&&j&&(P=j),j||!B&&P},b=function(W,U){if(E(W))return W.clone();var M=typeof U=="object"?U:{};return M.date=W,M.args=arguments,new D(M)},N=O;N.l=R,N.i=E,N.w=function(W,U){return b(W,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var D=function(){function W(M){this.$L=R(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[x]=!0}var U=W.prototype;return U.parse=function(M){this.$d=function(B){var j=B.date,$=B.utc;if(j===null)return new Date(NaN);if(N.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var V=j.match(C);if(V){var Q=V[2]-1||0,Z=(V[7]||"0").substring(0,3);return $?new Date(Date.UTC(V[1],Q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Z)):new Date(V[1],Q,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Z)}}return new Date(j)}(M),this.init()},U.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},U.$utils=function(){return N},U.isValid=function(){return this.$d.toString()!==w},U.isSame=function(M,B){var j=b(M);return this.startOf(B)<=j&&j<=this.endOf(B)},U.isAfter=function(M,B){return b(M)<this.startOf(B)},U.isBefore=function(M,B){return this.endOf(B)<b(M)},U.$g=function(M,B,j){return N.u(M)?this[B]:this.set(j,M)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(M,B){var j=this,$=!!N.u(B)||B,V=N.p(M),Q=function(Le,q){var le=N.w(j.$u?Date.UTC(j.$y,q,Le):new Date(j.$y,q,Le),j);return $?le:le.endOf(c)},Z=function(Le,q){return N.w(j.toDate()[Le].apply(j.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(q)),j)},te=this.$W,G=this.$M,Y=this.$D,ce="set"+(this.$u?"UTC":"");switch(V){case T:return $?Q(1,0):Q(31,11);case p:return $?Q(1,G):Q(0,G+1);case h:var Ee=this.$locale().weekStart||0,ze=(te<Ee?te+7:te)-Ee;return Q($?Y-ze:Y+(6-ze),G);case c:case S:return Z(ce+"Hours",0);case l:return Z(ce+"Minutes",1);case a:return Z(ce+"Seconds",2);case o:return Z(ce+"Milliseconds",3);default:return this.clone()}},U.endOf=function(M){return this.startOf(M,!1)},U.$set=function(M,B){var j,$=N.p(M),V="set"+(this.$u?"UTC":""),Q=(j={},j[c]=V+"Date",j[S]=V+"Date",j[p]=V+"Month",j[T]=V+"FullYear",j[l]=V+"Hours",j[a]=V+"Minutes",j[o]=V+"Seconds",j[s]=V+"Milliseconds",j)[$],Z=$===c?this.$D+(B-this.$W):B;if($===p||$===T){var te=this.clone().set(S,1);te.$d[Q](Z),te.init(),this.$d=te.set(S,Math.min(this.$D,te.daysInMonth())).$d}else Q&&this.$d[Q](Z);return this.init(),this},U.set=function(M,B){return this.clone().$set(M,B)},U.get=function(M){return this[N.p(M)]()},U.add=function(M,B){var j,$=this;M=Number(M);var V=N.p(B),Q=function(G){var Y=b($);return N.w(Y.date(Y.date()+Math.round(G*M)),$)};if(V===p)return this.set(p,this.$M+M);if(V===T)return this.set(T,this.$y+M);if(V===c)return Q(1);if(V===h)return Q(7);var Z=(j={},j[a]=r,j[l]=i,j[o]=n,j)[V]||1,te=this.$d.getTime()+M*Z;return N.w(te,this)},U.subtract=function(M,B){return this.add(-1*M,B)},U.format=function(M){var B=this,j=this.$locale();if(!this.isValid())return j.invalidDate||w;var $=M||"YYYY-MM-DDTHH:mm:ssZ",V=N.z(this),Q=this.$H,Z=this.$m,te=this.$M,G=j.weekdays,Y=j.months,ce=j.meridiem,Ee=function(q,le,Ae,He){return q&&(q[le]||q(B,$))||Ae[le].slice(0,He)},ze=function(q){return N.s(Q%12||12,q,"0")},Le=ce||function(q,le,Ae){var He=q<12?"AM":"PM";return Ae?He.toLowerCase():He};return $.replace(v,function(q,le){return le||function(Ae){switch(Ae){case"YY":return String(B.$y).slice(-2);case"YYYY":return N.s(B.$y,4,"0");case"M":return te+1;case"MM":return N.s(te+1,2,"0");case"MMM":return Ee(j.monthsShort,te,Y,3);case"MMMM":return Ee(Y,te);case"D":return B.$D;case"DD":return N.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return Ee(j.weekdaysMin,B.$W,G,2);case"ddd":return Ee(j.weekdaysShort,B.$W,G,3);case"dddd":return G[B.$W];case"H":return String(Q);case"HH":return N.s(Q,2,"0");case"h":return ze(1);case"hh":return ze(2);case"a":return Le(Q,Z,!0);case"A":return Le(Q,Z,!1);case"m":return String(Z);case"mm":return N.s(Z,2,"0");case"s":return String(B.$s);case"ss":return N.s(B.$s,2,"0");case"SSS":return N.s(B.$ms,3,"0");case"Z":return V}return null}(q)||V.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(M,B,j){var $,V=this,Q=N.p(B),Z=b(M),te=(Z.utcOffset()-this.utcOffset())*r,G=this-Z,Y=function(){return N.m(V,Z)};switch(Q){case T:$=Y()/12;break;case p:$=Y();break;case m:$=Y()/3;break;case h:$=(G-te)/6048e5;break;case c:$=(G-te)/864e5;break;case l:$=G/i;break;case a:$=G/r;break;case o:$=G/n;break;default:$=G}return j?$:N.a($)},U.daysInMonth=function(){return this.endOf(p).$D},U.$locale=function(){return L[this.$L]},U.locale=function(M,B){if(!M)return this.$L;var j=this.clone(),$=R(M,B,!0);return $&&(j.$L=$),j},U.clone=function(){return N.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},W}(),A=D.prototype;return b.prototype=A,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",p],["$y",T],["$D",S]].forEach(function(W){A[W[1]]=function(U){return this.$g(U,W[0],W[1])}}),b.extend=function(W,U){return W.$i||(W(U,D,b),W.$i=!0),b},b.locale=R,b.isDayjs=E,b.unix=function(W){return b(1e3*W)},b.en=L[P],b.Ls=L,b.p={},b})}(pf)),pf.exports}var LV=ex();const ut=Rn(LV);var VV={exports:{}};(function(t,e){(function(n,r){t.exports=r(ex())})(Ni,function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=r(n),s={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(o){return o+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return i.default.locale(s,null,!0),s})})(VV);var tx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(w){var C={date:w,utc:!0,args:arguments};return new o(C)},l.utc=function(w){var C=a(this.toDate(),{locale:this.$L,utc:!0});return w?C.add(this.utcOffset(),n):C},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(w){w.utc&&(this.$u=!0),this.$utils().u(w.$offset)||(this.$offset=w.$offset),c.call(this,w)};var h=l.init;l.init=function(){if(this.$u){var w=this.$d;this.$y=w.getUTCFullYear(),this.$M=w.getUTCMonth(),this.$D=w.getUTCDate(),this.$W=w.getUTCDay(),this.$H=w.getUTCHours(),this.$m=w.getUTCMinutes(),this.$s=w.getUTCSeconds(),this.$ms=w.getUTCMilliseconds()}else h.call(this)};var p=l.utcOffset;l.utcOffset=function(w,C){var v=this.$utils().u;if(v(w))return this.$u?0:v(this.$offset)?p.call(this):this.$offset;if(typeof w=="string"&&(w=function(P){P===void 0&&(P="");var L=P.match(r);if(!L)return null;var x=(""+L[0]).match(i)||["-",0,0],E=x[0],R=60*+x[1]+ +x[2];return R===0?0:E==="+"?R:-R}(w),w===null))return this;var y=Math.abs(w)<=16?60*w:w,I=this;if(C)return I.$offset=y,I.$u=w===0,I;if(w!==0){var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(y+O,n)).$offset=y,I.$x.$localOffset=O}else I=this.utc();return I};var m=l.format;l.format=function(w){var C=w||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,C)},l.valueOf=function(){var w=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*w},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var T=l.toDate;l.toDate=function(w){return w==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():T.call(this)};var S=l.diff;l.diff=function(w,C,v){if(w&&this.$u===w.$u)return S.call(this,w,C,v);var y=this.local(),I=a(w).local();return S.call(y,I,C,v)}}})})(tx);var FV=tx.exports;const $V=Rn(FV);var nx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var a,l=function(m,T,S){S===void 0&&(S={});var w=new Date(m),C=function(v,y){y===void 0&&(y={});var I=y.timeZoneName||"short",O=v+"|"+I,P=r[O];return P||(P=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:v,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:I}),r[O]=P),P}(T,S);return C.formatToParts(w)},c=function(m,T){for(var S=l(m,T),w=[],C=0;C<S.length;C+=1){var v=S[C],y=v.type,I=v.value,O=n[y];O>=0&&(w[O]=parseInt(I,10))}var P=w[3],L=P===24?0:P,x=w[0]+"-"+w[1]+"-"+w[2]+" "+L+":"+w[4]+":"+w[5]+":000",E=+m;return(o.utc(x).valueOf()-(E-=E%1e3))/6e4},h=s.prototype;h.tz=function(m,T){m===void 0&&(m=a);var S,w=this.utcOffset(),C=this.toDate(),v=C.toLocaleString("en-US",{timeZone:m}),y=Math.round((C-new Date(v))/1e3/60),I=15*-Math.round(C.getTimezoneOffset()/15)-y;if(!Number(I))S=this.utcOffset(0,T);else if(S=o(v,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(I,!0),T){var O=S.utcOffset();S=S.add(w-O,"minute")}return S.$x.$timezone=m,S},h.offsetName=function(m){var T=this.$x.$timezone||o.tz.guess(),S=l(this.valueOf(),T,{timeZoneName:m}).find(function(w){return w.type.toLowerCase()==="timezonename"});return S&&S.value};var p=h.startOf;h.startOf=function(m,T){if(!this.$x||!this.$x.$timezone)return p.call(this,m,T);var S=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return p.call(S,m,T).tz(this.$x.$timezone,!0)},o.tz=function(m,T,S){var w=S&&T,C=S||T||a,v=c(+o(),C);if(typeof m!="string")return o(m).tz(C);var y=function(L,x,E){var R=L-60*x*1e3,b=c(R,E);if(x===b)return[R,x];var N=c(R-=60*(b-x)*1e3,E);return b===N?[R,b]:[L-60*Math.min(b,N)*1e3,Math.max(b,N)]}(o.utc(m,w).valueOf(),v,C),I=y[0],O=y[1],P=o(I).utcOffset(O);return P.$x.$timezone=C,P},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(m){a=m}}})})(nx);var UV=nx.exports;const BV=Rn(UV);var rx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(rx);var zV=rx.exports;const HV=Rn(zV);var ix={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(ix);var WV=ix.exports;const qV=Rn(WV);var sx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,s=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(C){return(C=+C)+(C>68?1900:2e3)},h=function(C){return function(v){this[C]=+v}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(C){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),I=60*y[1]+(+y[2]||0);return I===0?0:y[0]==="+"?-I:I}(C)}],m=function(C){var v=l[C];return v&&(v.indexOf?v:v.s.concat(v.f))},T=function(C,v){var y,I=l.meridiem;if(I){for(var O=1;O<=24;O+=1)if(C.indexOf(I(O,0,v))>-1){y=O>12;break}}else y=C===(v?"pm":"PM");return y},S={A:[a,function(C){this.afternoon=T(C,!1)}],a:[a,function(C){this.afternoon=T(C,!0)}],Q:[i,function(C){this.month=3*(C-1)+1}],S:[i,function(C){this.milliseconds=100*+C}],SS:[s,function(C){this.milliseconds=10*+C}],SSS:[/\d{3}/,function(C){this.milliseconds=+C}],s:[o,h("seconds")],ss:[o,h("seconds")],m:[o,h("minutes")],mm:[o,h("minutes")],H:[o,h("hours")],h:[o,h("hours")],HH:[o,h("hours")],hh:[o,h("hours")],D:[o,h("day")],DD:[s,h("day")],Do:[a,function(C){var v=l.ordinal,y=C.match(/\d+/);if(this.day=y[0],v)for(var I=1;I<=31;I+=1)v(I).replace(/\[|\]/g,"")===C&&(this.day=I)}],w:[o,h("week")],ww:[s,h("week")],M:[o,h("month")],MM:[s,h("month")],MMM:[a,function(C){var v=m("months"),y=(m("monthsShort")||v.map(function(I){return I.slice(0,3)})).indexOf(C)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[a,function(C){var v=m("months").indexOf(C)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,h("year")],YY:[s,function(C){this.year=c(C)}],YYYY:[/\d{4}/,h("year")],Z:p,ZZ:p};function w(C){var v,y;v=C,y=l&&l.formats;for(var I=(C=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,N,D){var A=D&&D.toUpperCase();return N||y[D]||n[D]||y[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(W,U,M){return U||M.slice(1)})})).match(r),O=I.length,P=0;P<O;P+=1){var L=I[P],x=S[L],E=x&&x[0],R=x&&x[1];I[P]=R?{regex:E,parser:R}:L.replace(/^\[|\]$/g,"")}return function(b){for(var N={},D=0,A=0;D<O;D+=1){var W=I[D];if(typeof W=="string")A+=W.length;else{var U=W.regex,M=W.parser,B=b.slice(A),j=U.exec(B)[0];M.call(N,j),b=b.replace(j,"")}}return function($){var V=$.afternoon;if(V!==void 0){var Q=$.hours;V?Q<12&&($.hours+=12):Q===12&&($.hours=0),delete $.afternoon}}(N),N}}return function(C,v,y){y.p.customParseFormat=!0,C&&C.parseTwoDigitYear&&(c=C.parseTwoDigitYear);var I=v.prototype,O=I.parse;I.parse=function(P){var L=P.date,x=P.utc,E=P.args;this.$u=x;var R=E[1];if(typeof R=="string"){var b=E[2]===!0,N=E[3]===!0,D=b||N,A=E[2];N&&(A=E[2]),l=this.$locale(),!b&&A&&(l=y.Ls[A]),this.$d=function(B,j,$,V){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*B);var Q=w(j)(B),Z=Q.year,te=Q.month,G=Q.day,Y=Q.hours,ce=Q.minutes,Ee=Q.seconds,ze=Q.milliseconds,Le=Q.zone,q=Q.week,le=new Date,Ae=G||(Z||te?1:le.getDate()),He=Z||le.getFullYear(),tt=0;Z&&!te||(tt=te>0?te-1:le.getMonth());var we,Wt=Y||0,qt=ce||0,ur=Ee||0,zn=ze||0;return Le?new Date(Date.UTC(He,tt,Ae,Wt,qt,ur,zn+60*Le.offset*1e3)):$?new Date(Date.UTC(He,tt,Ae,Wt,qt,ur,zn)):(we=new Date(He,tt,Ae,Wt,qt,ur,zn),q&&(we=V(we).week(q).toDate()),we)}catch{return new Date("")}}(L,R,x,y),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),D&&L!=this.format(R)&&(this.$d=new Date("")),l={}}else if(R instanceof Array)for(var W=R.length,U=1;U<=W;U+=1){E[1]=R[U-1];var M=y.apply(this,E);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}U===W&&(this.$d=new Date(""))}else O.call(this,P)}}})})(sx);var GV=sx.exports;const KV=Rn(GV);var ox={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ni,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var c=this.$utils(),h=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),p==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),p==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return p}});return s.bind(this)(h)}}})})(ox);var YV=ox.exports;const QV=Rn(YV);ut.extend($V);ut.extend(BV);ut.extend(HV);ut.extend(qV);ut.extend(KV);ut.extend(QV);ut.locale("pt-br");const ax=_.createContext(void 0),XV=({children:t})=>{const e=ut(),[n,r]=_.useState(e),[i,s]=_.useState(e),o=_.useCallback(D=>ut.isDayjs(D)?D:ut(D),[]),a=_.useCallback((D,A="DD/MM/YYYY")=>o(D).format(A),[o]),l=_.useCallback((D,A="HH:mm")=>o(D).format(A),[o]),c=_.useCallback((D,A="DD/MM/YYYY HH:mm")=>o(D).format(A),[o]),h=_.useCallback(D=>{const A=o(D),W=ut(),U=A.diff(W,"day");return U===0?"Hoje":U===1?"Amanh":U===-1?"Ontem":U>1&&U<=7?`Em ${U} dias`:U<-1&&U>=-7?`${Math.abs(U)} dias atrs`:A.format("DD/MM/YYYY")},[o]),p=_.useCallback(D=>o(D).isSame(ut(),"day"),[o]),m=_.useCallback(D=>o(D).isBefore(ut(),"day"),[o]),T=_.useCallback(D=>o(D).isAfter(ut(),"day"),[o]),S=_.useCallback(D=>{const W=o(D).day();return W===0||W===6},[o]),w=_.useCallback((D,A=["segunda","tera","quarta","quinta","sexta","sbado"])=>{const W=o(D),M=["domingo","segunda","tera","quarta","quinta","sexta","sbado"][W.day()];return A.includes(M)},[o]),C=_.useCallback((D,A)=>D.add(A,"day"),[]),v=_.useCallback((D,A)=>D.add(A,"week"),[]),y=_.useCallback((D,A)=>D.add(A,"month"),[]),I=_.useCallback((D,A)=>D.subtract(A,"day"),[]),O=_.useCallback((D=ut())=>{const A=D.startOf("week"),W=[];for(let U=0;U<7;U++)W.push(A.add(U,"day"));return W},[]),P=_.useCallback((D=ut())=>{const A=D.startOf("month"),W=D.endOf("month"),U=[];let M=A;for(;M.isSameOrBefore(W,"day");)U.push(M),M=M.add(1,"day");return U},[]),L=_.useCallback((D,A,W=["segunda","tera","quarta","quinta","sexta","sbado"])=>{const U=[];let M=D;for(;M.isSameOrBefore(A,"day");)w(M,W)&&!m(M)&&U.push(M),M=M.add(1,"day");return U},[w,m]),x=_.useCallback((D,A,W,U=30)=>{const M=[],B=ut(`${D.format("YYYY-MM-DD")} ${A}`,"YYYY-MM-DD HH:mm"),j=ut(`${D.format("YYYY-MM-DD")} ${W}`,"YYYY-MM-DD HH:mm");let $=B;for(;$.isBefore(j);)M.push($.format("HH:mm")),$=$.add(U,"minute");return M},[]),E=_.useCallback((D,A)=>{const W=o(D),U=o(A);return W.isSame(U,"day")},[o]),R=_.useCallback((D,A)=>{const W=o(D),U=o(A);return W.isSame(U,"week")},[o]),b=_.useCallback((D,A)=>{const W=o(D),U=o(A);return W.isSame(U,"month")},[o]),N={today:n,selectedDate:i,currentDate:e,setToday:r,setSelectedDate:s,formatDate:a,formatTime:l,formatDateTime:c,formatRelative:h,isToday:p,isPast:m,isFuture:T,isWeekend:S,isWorkingDay:w,addDays:C,addWeeks:v,addMonths:y,subtractDays:I,getWeekDays:O,getMonthDays:P,getAvailableDates:L,getTimeSlots:x,isSameDay:E,isSameWeek:R,isSameMonth:b};return d.jsx(ax.Provider,{value:N,children:t})},lx=()=>{const t=_.useContext(ax);if(!t)throw new Error("useDate deve ser usado dentro de um DateProvider");return t};var ux={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ux);var JV=ux.exports;const se=Rn(JV);function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(null,arguments)}function cx(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zw(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function ZV(t){var e=eF(t,"string");return typeof e=="symbol"?e:String(e)}function eF(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tF(t,e,n){var r=_.useRef(t!==void 0),i=_.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,_.useCallback(function(c){for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(p)),o(c)},[n])]}function Qd(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[Zw(r)],a=s[r],l=cx(s,[Zw(r),r].map(ZV)),c=e[r],h=tF(a,o,t[c]),p=h[0],m=h[1];return zp({},l,(i={},i[r]=p,i[c]=m,i))},t)}function Hp(t,e){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hp(t,e)}function nF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Hp(t,e)}const rF=["xxl","xl","lg","md","sm","xs"],iF="xs",Xl=_.createContext({prefixes:{},breakpoints:rF,minBreakpoint:iF}),{Consumer:Y3,Provider:Q3}=Xl;function ue(t,e){const{prefixes:n}=_.useContext(Xl);return t||n[e]||e}function dx(){const{breakpoints:t}=_.useContext(Xl);return t}function hx(){const{minBreakpoint:t}=_.useContext(Xl);return t}function fx(){const{dir:t}=_.useContext(Xl);return t==="rtl"}function Jl(t){return t&&t.ownerDocument||document}function sF(t){var e=Jl(t);return e&&e.defaultView||window}function oF(t,e){return sF(t).getComputedStyle(t,e)}var aF=/([A-Z])/g;function lF(t){return t.replace(aF,"-$1").toLowerCase()}var uF=/^ms-/;function Bu(t){return lF(t).replace(uF,"-ms-")}var cF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function dF(t){return!!(t&&cF.test(t))}function Ar(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Bu(e))||oF(t).getPropertyValue(Bu(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Bu(i)):dF(i)?r+=i+"("+s+") ":n+=Bu(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var px={exports:{}},hF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fF=hF,pF=fF;function mx(){}function gx(){}gx.resetWarningCache=mx;var mF=function(){function t(r,i,s,o,a,l){if(l!==pF){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gx,resetWarningCache:mx};return n.PropTypes=n,n};px.exports=mF();var gF=px.exports;const Rr=Rn(gF),eE={disabled:!1},vx=pt.createContext(null);var vF=function(e){return e.scrollTop},Na="unmounted",ti="exited",jn="entering",yr="entered",xl="exiting",zr=function(t){nF(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ti,s.appearStatus=jn):l=yr:r.unmountOnExit||r.mountOnEnter?l=Na:l=ti,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Na?{status:ti}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==jn&&o!==yr&&(s=jn):(o===jn||o===yr)&&(s=xl)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===jn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Js.findDOMNode(this);o&&vF(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ti&&this.setState({status:Na})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Js.findDOMNode(this),a],c=l[0],h=l[1],p=this.getTimeouts(),m=a?p.appear:p.enter;if(!i&&!o||eE.disabled){this.safeSetState({status:yr},function(){s.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:jn},function(){s.props.onEntering(c,h),s.onTransitionEnd(m,function(){s.safeSetState({status:yr},function(){s.props.onEntered(c,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Js.findDOMNode(this);if(!s||eE.disabled){this.safeSetState({status:ti},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:xl},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ti},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Js.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],h=l[1];this.props.addEndListener(c,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Na)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=cx(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pt.createElement(vx.Provider,{value:null},typeof o=="function"?o(i,a):pt.cloneElement(pt.Children.only(o),a))},e}(pt.Component);zr.contextType=vx;zr.propTypes={};function Os(){}zr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Os,onEntering:Os,onEntered:Os,onExit:Os,onExiting:Os,onExited:Os};zr.UNMOUNTED=Na;zr.EXITED=ti;zr.ENTERING=jn;zr.ENTERED=yr;zr.EXITING=xl;function yF(t){return t.code==="Escape"||t.keyCode===27}function _F(){const t=_.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function zo(t){if(!t||typeof t=="function")return null;const{major:e}=_F();return e>=19?t.props.ref:t.ref}const Ho=!!(typeof window<"u"&&window.document&&window.document.createElement);var Wp=!1,qp=!1;try{var mf={get passive(){return Wp=!0},get once(){return qp=Wp=!0}};Ho&&(window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,!0))}catch{}function Bg(t,e,n,r){if(r&&typeof r!="boolean"&&!qp){var i=r.once,s=r.capture,o=n;!qp&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Wp?r:s)}t.addEventListener(e,n,r)}function Gp(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function hi(t,e,n,r){return Bg(t,e,n,r),function(){Gp(t,e,n,r)}}function wF(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function EF(t){var e=Ar(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function TF(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||wF(t,"transitionend",!0)},e+n),s=hi(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function yx(t,e,n,r){n==null&&(n=EF(t)||0);var i=TF(t,n,r),s=hi(t,"transitionend",e);return function(){i(),s()}}function tE(t,e){const n=Ar(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function zg(t,e){const n=tE(t,"transitionDuration"),r=tE(t,"transitionDelay"),i=yx(t,s=>{s.target===t&&(i(),e(s))},n+r)}function ga(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function _x(t){t.offsetHeight}const nE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function IF(t,e){const n=nE(t),r=nE(e);return i=>{n&&n(i),r&&r(i)}}function Xd(t,e){return _.useMemo(()=>IF(t,e),[t,e])}function CF(t){return t&&"setState"in t?Js.findDOMNode(t):t??null}const Jd=pt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},h)=>{const p=_.useRef(null),m=Xd(p,l),T=L=>{m(CF(L))},S=L=>x=>{L&&p.current&&L(p.current,x)},w=_.useCallback(S(t),[t]),C=_.useCallback(S(e),[e]),v=_.useCallback(S(n),[n]),y=_.useCallback(S(r),[r]),I=_.useCallback(S(i),[i]),O=_.useCallback(S(s),[s]),P=_.useCallback(S(o),[o]);return d.jsx(zr,{ref:h,...c,onEnter:w,onEntered:v,onEntering:C,onExit:y,onExited:O,onExiting:I,addEndListener:P,nodeRef:p,children:typeof a=="function"?(L,x)=>a(L,{...x,ref:T}):pt.cloneElement(a,{ref:T})})});Jd.displayName="TransitionWrapper";const SF={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xF(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=SF[t];return r+parseInt(Ar(e,i[0]),10)+parseInt(Ar(e,i[1]),10)}const AF={[ti]:"collapse",[xl]:"collapsing",[jn]:"collapsing",[yr]:"collapse show"},wx=pt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:h=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:T=xF,...S},w)=>{const C=typeof a=="function"?a():a,v=_.useMemo(()=>ga(L=>{L.style[C]="0"},t),[C,t]),y=_.useMemo(()=>ga(L=>{const x=`scroll${C[0].toUpperCase()}${C.slice(1)}`;L.style[C]=`${L[x]}px`},e),[C,e]),I=_.useMemo(()=>ga(L=>{L.style[C]=null},n),[C,n]),O=_.useMemo(()=>ga(L=>{L.style[C]=`${T(C,L)}px`,_x(L)},r),[r,T,C]),P=_.useMemo(()=>ga(L=>{L.style[C]=null},i),[C,i]);return d.jsx(Jd,{ref:w,addEndListener:zg,...S,"aria-expanded":S.role?l:null,onEnter:v,onEntering:y,onEntered:I,onExit:O,onExiting:P,childRef:zo(o),in:l,timeout:c,mountOnEnter:h,unmountOnExit:p,appear:m,children:(L,x)=>pt.cloneElement(o,{...x,className:se(s,o.props.className,AF[L],C==="width"&&"collapse-horizontal")})})});wx.displayName="Collapse";function RF(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function ki(t){const e=RF(t);return _.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Zl=t=>_.forwardRef((e,n)=>d.jsx("div",{...e,ref:n,className:se(e.className,t)})),Ex=Zl("h4");Ex.displayName="DivStyledAsH4";const Tx=_.forwardRef(({className:t,bsPrefix:e,as:n=Ex,...r},i)=>(e=ue(e,"alert-heading"),d.jsx(n,{ref:i,className:se(t,e),...r})));Tx.displayName="AlertHeading";function kF(){return _.useState(null)}function bF(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function Ot(t){const e=bF(t);return _.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function NF(t,e,n,r=!1){const i=Ot(n);_.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function Ix(){const t=_.useRef(!0),e=_.useRef(()=>t.current);return _.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Cx(t){const e=_.useRef(null);return _.useEffect(()=>{e.current=t}),e.current}const PF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",DF=typeof document<"u",rE=DF||PF?_.useLayoutEffect:_.useEffect,OF=["as","disabled"];function jF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MF(t){return!t||t.trim()==="#"}function Hg({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},c];const h=m=>{if((e||t==="a"&&MF(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),h(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:h,onKeyDown:p},c]}const Wg=_.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=jF(t,OF);const[s,{tagName:o}]=Hg(Object.assign({tagName:n,disabled:r},i));return d.jsx(o,Object.assign({},i,s,{ref:e}))});Wg.displayName="Button";const LF=["onKeyDown"];function VF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FF(t){return!t||t.trim()==="#"}const Zd=_.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=VF(t,LF);const[i]=Hg(Object.assign({tagName:"a"},r)),s=Ot(o=>{i.onKeyDown(o),n==null||n(o)});return FF(r.href)||r.role==="button"?d.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):d.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Zd.displayName="Anchor";const Sx=_.forwardRef(({className:t,bsPrefix:e,as:n=Zd,...r},i)=>(e=ue(e,"alert-link"),d.jsx(n,{ref:i,className:se(t,e),...r})));Sx.displayName="AlertLink";const $F={[jn]:"show",[yr]:"show"},Ro=_.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=_.useCallback((l,c)=>{_x(l),r==null||r(l,c)},[r]);return d.jsx(Jd,{ref:s,addEndListener:zg,...o,onEnter:a,childRef:zo(e),children:(l,c)=>_.cloneElement(e,{...c,className:se("fade",t,e.props.className,$F[l],n[l])})})});Ro.displayName="Fade";const UF={"aria-label":Rr.string,onClick:Rr.func,variant:Rr.oneOf(["white"])},eh=_.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>d.jsx("button",{ref:i,type:"button",className:se("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));eh.displayName="CloseButton";eh.propTypes=UF;const xx=_.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:h,transition:p=Ro,...m}=Qd(t,{show:"onClose"}),T=ue(n,"alert"),S=ki(v=>{c&&c(!1,v)}),w=p===!0?Ro:p,C=d.jsxs("div",{role:"alert",...w?void 0:m,ref:e,className:se(o,T,l&&`${T}-${l}`,h&&`${T}-dismissible`),children:[h&&d.jsx(eh,{onClick:S,"aria-label":i,variant:s}),a]});return w?d.jsx(w,{unmountOnExit:!0,...m,ref:void 0,in:r,children:C}):r?C:null});xx.displayName="Alert";const _t=Object.assign(xx,{Link:Sx,Heading:Tx}),eo=_.forwardRef(({bsPrefix:t,bg:e="primary",pill:n=!1,text:r,className:i,as:s="span",...o},a)=>{const l=ue(t,"badge");return d.jsx(s,{ref:a,...o,className:se(i,l,n&&"rounded-pill",r&&`text-${r}`,e&&`bg-${e}`)})});eo.displayName="Badge";const je=_.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=ue(e,"btn"),[h,{tagName:p}]=Hg({tagName:t,disabled:s,...a}),m=p;return d.jsx(m,{...h,...a,ref:l,disabled:s,className:se(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});je.displayName="Button";const qg=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"card-body"),d.jsx(n,{ref:i,className:se(t,e),...r})));qg.displayName="CardBody";const Ax=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"card-footer"),d.jsx(n,{ref:i,className:se(t,e),...r})));Ax.displayName="CardFooter";const Gg=_.createContext(null);Gg.displayName="CardHeaderContext";const Rx=_.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ue(t,"card-header"),o=_.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return d.jsx(Gg.Provider,{value:o,children:d.jsx(n,{ref:i,...r,className:se(e,s)})})});Rx.displayName="CardHeader";const kx=_.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=ue(t,"card-img");return d.jsx(r,{ref:s,className:se(n?`${o}-${n}`:o,e),...i})});kx.displayName="CardImg";const bx=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"card-img-overlay"),d.jsx(n,{ref:i,className:se(t,e),...r})));bx.displayName="CardImgOverlay";const Nx=_.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=ue(e,"card-link"),d.jsx(n,{ref:i,className:se(t,e),...r})));Nx.displayName="CardLink";const BF=Zl("h6"),Px=_.forwardRef(({className:t,bsPrefix:e,as:n=BF,...r},i)=>(e=ue(e,"card-subtitle"),d.jsx(n,{ref:i,className:se(t,e),...r})));Px.displayName="CardSubtitle";const Dx=_.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=ue(e,"card-text"),d.jsx(n,{ref:i,className:se(t,e),...r})));Dx.displayName="CardText";const zF=Zl("h5"),Ox=_.forwardRef(({className:t,bsPrefix:e,as:n=zF,...r},i)=>(e=ue(e,"card-title"),d.jsx(n,{ref:i,className:se(t,e),...r})));Ox.displayName="CardTitle";const jx=_.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const h=ue(t,"card");return d.jsx(a,{ref:c,...l,className:se(e,h,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?d.jsx(qg,{children:o}):o})});jx.displayName="Card";const he=Object.assign(jx,{Img:kx,Title:Ox,Subtitle:Px,Body:qg,Link:Nx,Text:Dx,Header:Rx,Footer:Ax,ImgOverlay:bx});function HF(t){const e=_.useRef(t);return e.current=t,e}function WF(t){const e=HF(t);_.useEffect(()=>()=>e.current(),[])}function qF(t,e){return _.Children.toArray(t).some(n=>_.isValidElement(n)&&n.type===e)}function GF({as:t,bsPrefix:e,className:n,...r}){e=ue(e,"col");const i=dx(),s=hx(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let h,p,m;typeof c=="object"&&c!=null?{span:h,offset:p,order:m}=c:h=c;const T=l!==s?`-${l}`:"";h&&o.push(h===!0?`${e}${T}`:`${e}${T}-${h}`),m!=null&&a.push(`order${T}-${m}`),p!=null&&a.push(`offset${T}-${p}`)}),[{...r,className:se(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const fe=_.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=GF(t);return d.jsx(i,{...r,ref:e,className:se(n,!o.length&&s)})});fe.displayName="Col";var KF=Function.prototype.bind.call(Function.prototype.call,[].slice);function vr(t,e){return KF(t.querySelectorAll(e))}function YF(t,e,n){const r=_.useRef(t!==void 0),[i,s]=_.useState(e),o=t!==void 0,a=r.current;return r.current=o,!o&&a&&i!==e&&s(e),[o?t:i,_.useCallback((...l)=>{const[c,...h]=l;let p=n==null?void 0:n(c,...h);return s(c),p},[n])]}function Mx(){const[,t]=_.useReducer(e=>e+1,0);return t}const th=_.createContext(null);var iE=Object.prototype.hasOwnProperty;function sE(t,e,n){for(n of t.keys())if(Ga(n,e))return n}function Ga(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ga(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=sE(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=sE(e,i),!i)||!Ga(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(iE.call(t,n)&&++r&&!iE.call(e,n)||!(n in e)||!Ga(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function QF(t){const e=Ix();return[t[0],_.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var nn="top",xn="bottom",An="right",rn="left",Kg="auto",eu=[nn,xn,An,rn],ko="start",Al="end",XF="clippingParents",Lx="viewport",va="popper",JF="reference",oE=eu.reduce(function(t,e){return t.concat([e+"-"+ko,e+"-"+Al])},[]),Vx=[].concat(eu,[Kg]).reduce(function(t,e){return t.concat([e,e+"-"+ko,e+"-"+Al])},[]),ZF="beforeRead",e$="read",t$="afterRead",n$="beforeMain",r$="main",i$="afterMain",s$="beforeWrite",o$="write",a$="afterWrite",l$=[ZF,e$,t$,n$,r$,i$,s$,o$,a$];function nr(t){return t.split("-")[0]}function mn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function gs(t){var e=mn(t).Element;return t instanceof e||t instanceof Element}function rr(t){var e=mn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Yg(t){if(typeof ShadowRoot>"u")return!1;var e=mn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var rs=Math.max,rd=Math.min,bo=Math.round;function Kp(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Fx(){return!/^((?!chrome|android).)*safari/i.test(Kp())}function No(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&rr(t)&&(i=t.offsetWidth>0&&bo(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&bo(r.height)/t.offsetHeight||1);var o=gs(t)?mn(t):window,a=o.visualViewport,l=!Fx()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,h=(r.top+(l&&a?a.offsetTop:0))/s,p=r.width/i,m=r.height/s;return{width:p,height:m,top:h,right:c+p,bottom:h+m,left:c,x:c,y:h}}function Qg(t){var e=No(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function $x(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Yg(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function bi(t){return t?(t.nodeName||"").toLowerCase():null}function Lr(t){return mn(t).getComputedStyle(t)}function u$(t){return["table","td","th"].indexOf(bi(t))>=0}function Fi(t){return((gs(t)?t.ownerDocument:t.document)||window.document).documentElement}function nh(t){return bi(t)==="html"?t:t.assignedSlot||t.parentNode||(Yg(t)?t.host:null)||Fi(t)}function aE(t){return!rr(t)||Lr(t).position==="fixed"?null:t.offsetParent}function c$(t){var e=/firefox/i.test(Kp()),n=/Trident/i.test(Kp());if(n&&rr(t)){var r=Lr(t);if(r.position==="fixed")return null}var i=nh(t);for(Yg(i)&&(i=i.host);rr(i)&&["html","body"].indexOf(bi(i))<0;){var s=Lr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function tu(t){for(var e=mn(t),n=aE(t);n&&u$(n)&&Lr(n).position==="static";)n=aE(n);return n&&(bi(n)==="html"||bi(n)==="body"&&Lr(n).position==="static")?e:n||c$(t)||e}function Xg(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ka(t,e,n){return rs(t,rd(e,n))}function d$(t,e,n){var r=Ka(t,e,n);return r>n?n:r}function Ux(){return{top:0,right:0,bottom:0,left:0}}function Bx(t){return Object.assign({},Ux(),t)}function zx(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var h$=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Bx(typeof e!="number"?e:zx(e,eu))};function f$(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=nr(n.placement),l=Xg(a),c=[rn,An].indexOf(a)>=0,h=c?"height":"width";if(!(!s||!o)){var p=h$(i.padding,n),m=Qg(s),T=l==="y"?nn:rn,S=l==="y"?xn:An,w=n.rects.reference[h]+n.rects.reference[l]-o[l]-n.rects.popper[h],C=o[l]-n.rects.reference[l],v=tu(s),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,I=w/2-C/2,O=p[T],P=y-m[h]-p[S],L=y/2-m[h]/2+I,x=Ka(O,L,P),E=l;n.modifiersData[r]=(e={},e[E]=x,e.centerOffset=x-L,e)}}function p$(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||$x(e.elements.popper,i)&&(e.elements.arrow=i))}const m$={name:"arrow",enabled:!0,phase:"main",fn:f$,effect:p$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Po(t){return t.split("-")[1]}var g$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function v$(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:bo(n*i)/i||0,y:bo(r*i)/i||0}}function lE(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,h=t.roundOffsets,p=t.isFixed,m=o.x,T=m===void 0?0:m,S=o.y,w=S===void 0?0:S,C=typeof h=="function"?h({x:T,y:w}):{x:T,y:w};T=C.x,w=C.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),I=rn,O=nn,P=window;if(c){var L=tu(n),x="clientHeight",E="clientWidth";if(L===mn(n)&&(L=Fi(n),Lr(L).position!=="static"&&a==="absolute"&&(x="scrollHeight",E="scrollWidth")),L=L,i===nn||(i===rn||i===An)&&s===Al){O=xn;var R=p&&L===P&&P.visualViewport?P.visualViewport.height:L[x];w-=R-r.height,w*=l?1:-1}if(i===rn||(i===nn||i===xn)&&s===Al){I=An;var b=p&&L===P&&P.visualViewport?P.visualViewport.width:L[E];T-=b-r.width,T*=l?1:-1}}var N=Object.assign({position:a},c&&g$),D=h===!0?v$({x:T,y:w},mn(n)):{x:T,y:w};if(T=D.x,w=D.y,l){var A;return Object.assign({},N,(A={},A[O]=y?"0":"",A[I]=v?"0":"",A.transform=(P.devicePixelRatio||1)<=1?"translate("+T+"px, "+w+"px)":"translate3d("+T+"px, "+w+"px, 0)",A))}return Object.assign({},N,(e={},e[O]=y?w+"px":"",e[I]=v?T+"px":"",e.transform="",e))}function y$(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:nr(e.placement),variation:Po(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,lE(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,lE(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const _$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:y$,data:{}};var zu={passive:!0};function w$(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=mn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(h){h.addEventListener("scroll",n.update,zu)}),a&&l.addEventListener("resize",n.update,zu),function(){s&&c.forEach(function(h){h.removeEventListener("scroll",n.update,zu)}),a&&l.removeEventListener("resize",n.update,zu)}}const E$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:w$,data:{}};var T$={left:"right",right:"left",bottom:"top",top:"bottom"};function fc(t){return t.replace(/left|right|bottom|top/g,function(e){return T$[e]})}var I$={start:"end",end:"start"};function uE(t){return t.replace(/start|end/g,function(e){return I$[e]})}function Jg(t){var e=mn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Zg(t){return No(Fi(t)).left+Jg(t).scrollLeft}function C$(t,e){var n=mn(t),r=Fi(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Fx();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Zg(t),y:l}}function S$(t){var e,n=Fi(t),r=Jg(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=rs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=rs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Zg(t),l=-r.scrollTop;return Lr(i||n).direction==="rtl"&&(a+=rs(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ev(t){var e=Lr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Hx(t){return["html","body","#document"].indexOf(bi(t))>=0?t.ownerDocument.body:rr(t)&&ev(t)?t:Hx(nh(t))}function Ya(t,e){var n;e===void 0&&(e=[]);var r=Hx(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=mn(r),o=i?[s].concat(s.visualViewport||[],ev(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ya(nh(o)))}function Yp(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function x$(t,e){var n=No(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function cE(t,e,n){return e===Lx?Yp(C$(t,n)):gs(e)?x$(e,n):Yp(S$(Fi(t)))}function A$(t){var e=Ya(nh(t)),n=["absolute","fixed"].indexOf(Lr(t).position)>=0,r=n&&rr(t)?tu(t):t;return gs(r)?e.filter(function(i){return gs(i)&&$x(i,r)&&bi(i)!=="body"}):[]}function R$(t,e,n,r){var i=e==="clippingParents"?A$(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var h=cE(t,c,r);return l.top=rs(h.top,l.top),l.right=rd(h.right,l.right),l.bottom=rd(h.bottom,l.bottom),l.left=rs(h.left,l.left),l},cE(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Wx(t){var e=t.reference,n=t.element,r=t.placement,i=r?nr(r):null,s=r?Po(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case nn:l={x:o,y:e.y-n.height};break;case xn:l={x:o,y:e.y+e.height};break;case An:l={x:e.x+e.width,y:a};break;case rn:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Xg(i):null;if(c!=null){var h=c==="y"?"height":"width";switch(s){case ko:l[c]=l[c]-(e[h]/2-n[h]/2);break;case Al:l[c]=l[c]+(e[h]/2-n[h]/2);break}}return l}function Rl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?XF:a,c=n.rootBoundary,h=c===void 0?Lx:c,p=n.elementContext,m=p===void 0?va:p,T=n.altBoundary,S=T===void 0?!1:T,w=n.padding,C=w===void 0?0:w,v=Bx(typeof C!="number"?C:zx(C,eu)),y=m===va?JF:va,I=t.rects.popper,O=t.elements[S?y:m],P=R$(gs(O)?O:O.contextElement||Fi(t.elements.popper),l,h,o),L=No(t.elements.reference),x=Wx({reference:L,element:I,placement:i}),E=Yp(Object.assign({},I,x)),R=m===va?E:L,b={top:P.top-R.top+v.top,bottom:R.bottom-P.bottom+v.bottom,left:P.left-R.left+v.left,right:R.right-P.right+v.right},N=t.modifiersData.offset;if(m===va&&N){var D=N[i];Object.keys(b).forEach(function(A){var W=[An,xn].indexOf(A)>=0?1:-1,U=[nn,xn].indexOf(A)>=0?"y":"x";b[A]+=D[U]*W})}return b}function k$(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Vx:l,h=Po(r),p=h?a?oE:oE.filter(function(S){return Po(S)===h}):eu,m=p.filter(function(S){return c.indexOf(S)>=0});m.length===0&&(m=p);var T=m.reduce(function(S,w){return S[w]=Rl(t,{placement:w,boundary:i,rootBoundary:s,padding:o})[nr(w)],S},{});return Object.keys(T).sort(function(S,w){return T[S]-T[w]})}function b$(t){if(nr(t)===Kg)return[];var e=fc(t);return[uE(t),e,uE(e)]}function N$(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,h=n.boundary,p=n.rootBoundary,m=n.altBoundary,T=n.flipVariations,S=T===void 0?!0:T,w=n.allowedAutoPlacements,C=e.options.placement,v=nr(C),y=v===C,I=l||(y||!S?[fc(C)]:b$(C)),O=[C].concat(I).reduce(function(G,Y){return G.concat(nr(Y)===Kg?k$(e,{placement:Y,boundary:h,rootBoundary:p,padding:c,flipVariations:S,allowedAutoPlacements:w}):Y)},[]),P=e.rects.reference,L=e.rects.popper,x=new Map,E=!0,R=O[0],b=0;b<O.length;b++){var N=O[b],D=nr(N),A=Po(N)===ko,W=[nn,xn].indexOf(D)>=0,U=W?"width":"height",M=Rl(e,{placement:N,boundary:h,rootBoundary:p,altBoundary:m,padding:c}),B=W?A?An:rn:A?xn:nn;P[U]>L[U]&&(B=fc(B));var j=fc(B),$=[];if(s&&$.push(M[D]<=0),a&&$.push(M[B]<=0,M[j]<=0),$.every(function(G){return G})){R=N,E=!1;break}x.set(N,$)}if(E)for(var V=S?3:1,Q=function(Y){var ce=O.find(function(Ee){var ze=x.get(Ee);if(ze)return ze.slice(0,Y).every(function(Le){return Le})});if(ce)return R=ce,"break"},Z=V;Z>0;Z--){var te=Q(Z);if(te==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const P$={name:"flip",enabled:!0,phase:"main",fn:N$,requiresIfExists:["offset"],data:{_skip:!1}};function dE(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function hE(t){return[nn,An,xn,rn].some(function(e){return t[e]>=0})}function D$(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Rl(e,{elementContext:"reference"}),a=Rl(e,{altBoundary:!0}),l=dE(o,r),c=dE(a,i,s),h=hE(l),p=hE(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const O$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:D$};function j$(t,e,n){var r=nr(t),i=[rn,nn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[rn,An].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function M$(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Vx.reduce(function(h,p){return h[p]=j$(p,e.rects,s),h},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const L$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:M$};function V$(t){var e=t.state,n=t.name;e.modifiersData[n]=Wx({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const F$={name:"popperOffsets",enabled:!0,phase:"read",fn:V$,data:{}};function $$(t){return t==="x"?"y":"x"}function U$(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,h=n.altBoundary,p=n.padding,m=n.tether,T=m===void 0?!0:m,S=n.tetherOffset,w=S===void 0?0:S,C=Rl(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:h}),v=nr(e.placement),y=Po(e.placement),I=!y,O=Xg(v),P=$$(O),L=e.modifiersData.popperOffsets,x=e.rects.reference,E=e.rects.popper,R=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,b=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(L){if(s){var A,W=O==="y"?nn:rn,U=O==="y"?xn:An,M=O==="y"?"height":"width",B=L[O],j=B+C[W],$=B-C[U],V=T?-E[M]/2:0,Q=y===ko?x[M]:E[M],Z=y===ko?-E[M]:-x[M],te=e.elements.arrow,G=T&&te?Qg(te):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ux(),ce=Y[W],Ee=Y[U],ze=Ka(0,x[M],G[M]),Le=I?x[M]/2-V-ze-ce-b.mainAxis:Q-ze-ce-b.mainAxis,q=I?-x[M]/2+V+ze+Ee+b.mainAxis:Z+ze+Ee+b.mainAxis,le=e.elements.arrow&&tu(e.elements.arrow),Ae=le?O==="y"?le.clientTop||0:le.clientLeft||0:0,He=(A=N==null?void 0:N[O])!=null?A:0,tt=B+Le-He-Ae,we=B+q-He,Wt=Ka(T?rd(j,tt):j,B,T?rs($,we):$);L[O]=Wt,D[O]=Wt-B}if(a){var qt,ur=O==="x"?nn:rn,zn=O==="x"?xn:An,Gt=L[P],cr=P==="y"?"height":"width",Rs=Gt+C[ur],Hr=Gt-C[zn],Hn=[nn,rn].indexOf(v)!==-1,$i=(qt=N==null?void 0:N[P])!=null?qt:0,pe=Hn?Rs:Gt-x[cr]-E[cr]-$i+b.altAxis,Ve=Hn?Gt+x[cr]+E[cr]-$i-b.altAxis:Hr,Wn=T&&Hn?d$(pe,Gt,Ve):Ka(T?pe:Rs,Gt,T?Ve:Hr);L[P]=Wn,D[P]=Wn-Gt}e.modifiersData[r]=D}}const B$={name:"preventOverflow",enabled:!0,phase:"main",fn:U$,requiresIfExists:["offset"]};function z$(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function H$(t){return t===mn(t)||!rr(t)?Jg(t):z$(t)}function W$(t){var e=t.getBoundingClientRect(),n=bo(e.width)/t.offsetWidth||1,r=bo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function q$(t,e,n){n===void 0&&(n=!1);var r=rr(e),i=rr(e)&&W$(e),s=Fi(e),o=No(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((bi(e)!=="body"||ev(s))&&(a=H$(e)),rr(e)?(l=No(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Zg(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function G$(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function K$(t){var e=G$(t);return l$.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Y$(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Q$(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var fE={placement:"bottom",modifiers:[],strategy:"absolute"};function pE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function X$(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?fE:i;return function(a,l,c){c===void 0&&(c=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},fE,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},p=[],m=!1,T={state:h,setOptions:function(v){var y=typeof v=="function"?v(h.options):v;w(),h.options=Object.assign({},s,h.options,y),h.scrollParents={reference:gs(a)?Ya(a):a.contextElement?Ya(a.contextElement):[],popper:Ya(l)};var I=K$(Q$([].concat(r,h.options.modifiers)));return h.orderedModifiers=I.filter(function(O){return O.enabled}),S(),T.update()},forceUpdate:function(){if(!m){var v=h.elements,y=v.reference,I=v.popper;if(pE(y,I)){h.rects={reference:q$(y,tu(I),h.options.strategy==="fixed"),popper:Qg(I)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(b){return h.modifiersData[b.name]=Object.assign({},b.data)});for(var O=0;O<h.orderedModifiers.length;O++){if(h.reset===!0){h.reset=!1,O=-1;continue}var P=h.orderedModifiers[O],L=P.fn,x=P.options,E=x===void 0?{}:x,R=P.name;typeof L=="function"&&(h=L({state:h,options:E,name:R,instance:T})||h)}}}},update:Y$(function(){return new Promise(function(C){T.forceUpdate(),C(h)})}),destroy:function(){w(),m=!0}};if(!pE(a,l))return T;T.setOptions(c).then(function(C){!m&&c.onFirstUpdate&&c.onFirstUpdate(C)});function S(){h.orderedModifiers.forEach(function(C){var v=C.name,y=C.options,I=y===void 0?{}:y,O=C.effect;if(typeof O=="function"){var P=O({state:h,name:v,instance:T,options:I}),L=function(){};p.push(P||L)}})}function w(){p.forEach(function(C){return C()}),p=[]}return T}}const J$=X$({defaultModifiers:[O$,F$,_$,E$,L$,P$,B$,m$]}),Z$=["enabled","placement","strategy","modifiers"];function eU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const tU={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},nU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},rU=[];function iU(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=rU}=n,a=eU(n,Z$);const l=_.useRef(o),c=_.useRef(),h=_.useCallback(()=>{var C;(C=c.current)==null||C.update()},[]),p=_.useCallback(()=>{var C;(C=c.current)==null||C.forceUpdate()},[]),[m,T]=QF(_.useState({placement:i,update:h,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),S=_.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:C})=>{const v={},y={};Object.keys(C.elements).forEach(I=>{v[I]=C.styles[I],y[I]=C.attributes[I]}),T({state:C,styles:v,attributes:y,update:h,forceUpdate:p,placement:C.placement})}}),[h,p,T]),w=_.useMemo(()=>(Ga(l.current,o)||(l.current=o),l.current),[o]);return _.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...w,S,tU]})},[s,i,S,r,w]),_.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=J$(t,e,Object.assign({},a,{placement:i,strategy:s,modifiers:[...w,nU,S]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,T(C=>Object.assign({},C,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function id(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var sU=function(){},oU=sU;const aU=Rn(oU),mE=()=>{};function lU(t){return t.button===0}function uU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const gf=t=>t&&("current"in t?t.current:t),gE={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function cU(t,e=mE,{disabled:n,clickTrigger:r="click"}={}){const i=_.useRef(!1),s=_.useRef(!1),o=_.useCallback(c=>{const h=gf(t);aU(!!h,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!h||uU(c)||!lU(c)||!!id(h,c.target)||s.current,s.current=!1},[t]),a=Ot(c=>{const h=gf(t);h&&id(h,c.target)?s.current=!0:s.current=!1}),l=Ot(c=>{i.current||e(c)});_.useEffect(()=>{var c,h;if(n||t==null)return;const p=Jl(gf(t)),m=p.defaultView||window;let T=(c=m.event)!=null?c:(h=m.parent)==null?void 0:h.event,S=null;gE[r]&&(S=hi(p,gE[r],a,!0));const w=hi(p,r,o,!0),C=hi(p,r,y=>{if(y===T){T=void 0;return}l(y)});let v=[];return"ontouchstart"in p.documentElement&&(v=[].slice.call(p.body.children).map(y=>hi(y,"mousemove",mE))),()=>{S==null||S(),w(),C(),v.forEach(y=>y())}},[t,n,r,o,a,l])}function dU(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function hU(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function fU({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var c,h,p,m,T;const S=dU(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:s?"fixed":l.strategy,modifiers:hU(Object.assign({},S,{eventListeners:{enabled:e,options:(c=S.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},S.preventOverflow,{options:o?Object.assign({padding:o},(h=S.preventOverflow)==null?void 0:h.options):(p=S.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=S.offset)==null?void 0:m.options)},arrow:Object.assign({},S.arrow,{enabled:!!a,options:Object.assign({},(T=S.arrow)==null?void 0:T.options,{element:a})}),flip:Object.assign({enabled:!!r},S.flip)}))})}const pU=["children","usePopper"];function mU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const gU=()=>{};function qx(t={}){const e=_.useContext(th),[n,r]=kF(),i=_.useRef(!1),{flip:s,offset:o,rootCloseEvent:a,fixed:l=!1,placement:c,popperConfig:h={},enableEventListeners:p=!0,usePopper:m=!!e}=t,T=(e==null?void 0:e.show)==null?!!t.show:e.show;T&&!i.current&&(i.current=!0);const S=L=>{e==null||e.toggle(!1,L)},{placement:w,setMenu:C,menuElement:v,toggleElement:y}=e||{},I=iU(y,v,fU({placement:c||w||"bottom-start",enabled:m,enableEvents:p??T,offset:o,flip:s,fixed:l,arrowElement:n,popperConfig:h})),O=Object.assign({ref:C||gU,"aria-labelledby":y==null?void 0:y.id},I.attributes.popper,{style:I.styles.popper}),P={show:T,placement:w,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?I:null,arrowProps:m?Object.assign({ref:r},I.attributes.arrow,{style:I.styles.arrow}):{}};return cU(v,S,{clickTrigger:a,disabled:!T}),[O,P]}function Gx(t){let{children:e,usePopper:n=!0}=t,r=mU(t,pU);const[i,s]=qx(Object.assign({},r,{usePopper:n}));return d.jsx(d.Fragment,{children:e(i,s)})}Gx.displayName="DropdownMenu";const Kx={prefix:String(Math.round(Math.random()*1e10)),current:0},Yx=pt.createContext(Kx),vU=pt.createContext(!1);let vf=new WeakMap;function yU(t=!1){let e=_.useContext(Yx),n=_.useRef(null);if(n.current===null&&!t){var r,i;let s=(i=pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let o=vf.get(s);o==null?vf.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,vf.delete(s))}n.current=++e.current}return n.current}function _U(t){let e=_.useContext(Yx),n=yU(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function wU(t){let e=pt.useId(),[n]=_.useState(SU()),r=n?"react-aria":`react-aria${Kx.prefix}`;return t||`${r}-${e}`}const EU=typeof pt.useId=="function"?wU:_U;function TU(){return!1}function IU(){return!0}function CU(t){return()=>{}}function SU(){return typeof pt.useSyncExternalStore=="function"?pt.useSyncExternalStore(CU,TU,IU):_.useContext(vU)}const Qx=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},vE=()=>{};function Xx(){const t=EU(),{show:e=!1,toggle:n=vE,setToggle:r,menuElement:i}=_.useContext(th)||{},s=_.useCallback(a=>{n(!e,a)},[e,n]),o={id:t,ref:r||vE,onClick:s,"aria-expanded":!!e};return i&&Qx(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function Jx({children:t}){const[e,n]=Xx();return d.jsx(d.Fragment,{children:t(e,n)})}Jx.displayName="DropdownToggle";const vs=_.createContext(null),kl=(t,e=null)=>t!=null?String(t):e||null,rh=_.createContext(null);rh.displayName="NavContext";const xU="data-rr-ui-",AU="rrUi";function Wo(t){return`${xU}${t}`}function RU(t){return`${AU}${t}`}const kU=["eventKey","disabled","onClick","active","as"];function bU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zx({key:t,href:e,active:n,disabled:r,onClick:i}){const s=_.useContext(vs),o=_.useContext(rh),{activeKey:a}=o||{},l=kl(t,e),c=n==null&&t!=null?kl(a)===l:n;return[{onClick:Ot(p=>{r||(i==null||i(p),s&&!p.isPropagationStopped()&&s(l,p))}),"aria-disabled":r||void 0,"aria-selected":c,[Wo("dropdown-item")]:""},{isActive:c}]}const eA=_.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=Wg}=t,a=bU(t,kU);const[l]=Zx({key:n,href:a.href,disabled:r,onClick:i,active:s});return d.jsx(o,Object.assign({},a,{ref:e},l))});eA.displayName="DropdownItem";const tA=_.createContext(Ho?window:void 0);tA.Provider;function ih(){return _.useContext(tA)}function yE(){const t=Mx(),e=_.useRef(null),n=_.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function nu({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Wo("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:a}){const l=ih(),[c,h]=YF(e,t,r),[p,m]=yE(),T=p.current,[S,w]=yE(),C=S.current,v=Cx(c),y=_.useRef(null),I=_.useRef(!1),O=_.useContext(vs),P=_.useCallback((N,D,A=D==null?void 0:D.type)=>{h(N,{originalEvent:D,source:A})},[h]),L=Ot((N,D)=>{n==null||n(N,D),P(!1,D,"select"),D.isPropagationStopped()||O==null||O(N,D)}),x=_.useMemo(()=>({toggle:P,placement:o,show:c,menuElement:T,toggleElement:C,setMenu:m,setToggle:w}),[P,o,c,T,C,m,w]);T&&v&&!c&&(I.current=T.contains(T.ownerDocument.activeElement));const E=Ot(()=>{C&&C.focus&&C.focus()}),R=Ot(()=>{const N=y.current;let D=s;if(D==null&&(D=p.current&&Qx(p.current)?"keyboard":!1),D===!1||D==="keyboard"&&!/^key.+$/.test(N))return;const A=vr(p.current,i)[0];A&&A.focus&&A.focus()});_.useEffect(()=>{c?R():I.current&&(I.current=!1,E())},[c,I,E,R]),_.useEffect(()=>{y.current=null});const b=(N,D)=>{if(!p.current)return null;const A=vr(p.current,i);let W=A.indexOf(N)+D;return W=Math.max(0,Math.min(W,A.length)),A[W]};return NF(_.useCallback(()=>l.document,[l]),"keydown",N=>{var D,A;const{key:W}=N,U=N.target,M=(D=p.current)==null?void 0:D.contains(U),B=(A=S.current)==null?void 0:A.contains(U);if(/input|textarea/i.test(U.tagName)&&(W===" "||W!=="Escape"&&M||W==="Escape"&&U.type==="search")||!M&&!B||W==="Tab"&&(!p.current||!c))return;y.current=N.type;const $={originalEvent:N,source:N.type};switch(W){case"ArrowUp":{const V=b(U,-1);V&&V.focus&&V.focus(),N.preventDefault();return}case"ArrowDown":if(N.preventDefault(),!c)h(!0,$);else{const V=b(U,1);V&&V.focus&&V.focus()}return;case"Tab":Bg(U.ownerDocument,"keyup",V=>{var Q;(V.key==="Tab"&&!V.target||!((Q=p.current)!=null&&Q.contains(V.target)))&&h(!1,$)},{once:!0});break;case"Escape":W==="Escape"&&(N.preventDefault(),N.stopPropagation()),h(!1,$);break}}),d.jsx(vs.Provider,{value:L,children:d.jsx(th.Provider,{value:x,children:a})})}nu.displayName="Dropdown";nu.Menu=Gx;nu.Toggle=Jx;nu.Item=eA;const tv=_.createContext({});tv.displayName="DropdownContext";const nA=_.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=ue(e,"dropdown-divider"),d.jsx(n,{ref:s,className:se(t,e),role:r,...i})));nA.displayName="DropdownDivider";const rA=_.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=ue(e,"dropdown-header"),d.jsx(n,{ref:s,className:se(t,e),role:r,...i})));rA.displayName="DropdownHeader";const iA=_.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=Zd,...a},l)=>{const c=ue(t,"dropdown-item"),[h,p]=Zx({key:n,href:a.href,disabled:r,onClick:i,active:s});return d.jsx(o,{...a,...h,ref:l,className:se(e,c,p.isActive&&"active",r&&"disabled")})});iA.displayName="DropdownItem";const sA=_.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ue(e,"dropdown-item-text"),d.jsx(n,{ref:i,className:se(t,e),...r})));sA.displayName="DropdownItemText";const NU=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",PU=typeof document<"u",oA=PU||NU?_.useLayoutEffect:_.useEffect,nv=_.createContext(null);nv.displayName="InputGroupContext";const As=_.createContext(null);As.displayName="NavbarContext";function aA(t,e){return t}function lA(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",c=n?"left-start":"right-start",h=n?"left-end":"right-end";let p=t?o:s;return e==="up"?p=t?i:r:e==="end"?p=t?h:c:e==="start"?p=t?l:a:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const uA=_.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:a="div",popperConfig:l,variant:c,...h},p)=>{let m=!1;const T=_.useContext(As),S=ue(t,"dropdown-menu"),{align:w,drop:C,isRTL:v}=_.useContext(tv);n=n||w;const y=_.useContext(nv),I=[];if(n)if(typeof n=="object"){const N=Object.keys(n);if(N.length){const D=N[0],A=n[D];m=A==="start",I.push(`${S}-${D}-${A}`)}}else n==="end"&&(m=!0);const O=lA(m,C,v),[P,{hasShown:L,popper:x,show:E,toggle:R}]=qx({flip:i,rootCloseEvent:r,show:s,usePopper:!T&&I.length===0,offset:[0,2],popperConfig:l,placement:O});if(P.ref=Xd(aA(p),P.ref),oA(()=>{E&&(x==null||x.update())},[E]),!L&&!o&&!y)return null;typeof a!="string"&&(P.show=E,P.close=()=>R==null?void 0:R(!1),P.align=n);let b=h.style;return x!=null&&x.placement&&(b={...h.style,...P.style},h["x-placement"]=x.placement),d.jsx(a,{...h,...P,style:b,...(I.length||T)&&{"data-bs-popper":"static"},className:se(e,S,E&&"show",m&&`${S}-end`,c&&`${S}-${c}`,...I)})});uA.displayName="DropdownMenu";const cA=_.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=je,...s},o)=>{const a=ue(t,"dropdown-toggle"),l=_.useContext(th);r!==void 0&&(s.bsPrefix=r);const[c]=Xx();return c.ref=Xd(c.ref,aA(o)),d.jsx(i,{className:se(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...c,...s})});cA.displayName="DropdownToggle";const dA=_.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:a,onToggle:l,focusFirstItemOnShow:c,as:h="div",navbar:p,autoClose:m=!0,...T}=Qd(t,{show:"onToggle"}),S=_.useContext(nv),w=ue(n,"dropdown"),C=fx(),v=x=>m===!1?x==="click":m==="inside"?x!=="rootClose":m==="outside"?x!=="select":!0,y=ki((x,E)=>{var R;!((R=E.originalEvent)==null||(R=R.target)==null)&&R.classList.contains("dropdown-toggle")&&E.source==="mousedown"||(E.originalEvent.currentTarget===document&&(E.source!=="keydown"||E.originalEvent.key==="Escape")&&(E.source="rootClose"),v(E.source)&&(l==null||l(x,E)))}),O=lA(o==="end",r,C),P=_.useMemo(()=>({align:o,drop:r,isRTL:C}),[o,r,C]),L={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return d.jsx(tv.Provider,{value:P,children:d.jsx(nu,{placement:O,show:i,onSelect:a,onToggle:y,focusFirstItemOnShow:c,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:S?T.children:d.jsx(h,{...T,ref:e,className:se(s,i&&"show",L[r])})})})});dA.displayName="Dropdown";const js=Object.assign(dA,{Toggle:cA,Menu:uA,Item:iA,ItemText:sA,Divider:nA,Header:rA}),DU={type:Rr.string,tooltip:Rr.bool,as:Rr.elementType},sh=_.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>d.jsx(t,{...i,ref:s,className:se(e,`${n}-${r?"tooltip":"feedback"}`)}));sh.displayName="Feedback";sh.propTypes=DU;const Vr=_.createContext({}),rv=_.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=_.useContext(Vr);return e=ue(e,"form-check-input"),d.jsx(o,{...a,ref:l,type:r,id:t||c,className:se(n,e,i&&"is-valid",s&&"is-invalid")})});rv.displayName="FormCheckInput";const sd=_.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=_.useContext(Vr);return t=ue(t,"form-check-label"),d.jsx("label",{...r,ref:i,htmlFor:n||s,className:se(e,t)})});sd.displayName="FormCheckLabel";const hA=_.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:h,className:p,style:m,title:T="",type:S="checkbox",label:w,children:C,as:v="input",...y},I)=>{e=ue(e,"form-check"),n=ue(n,"form-switch");const{controlId:O}=_.useContext(Vr),P=_.useMemo(()=>({controlId:t||O}),[O,t]),L=!C&&w!=null&&w!==!1||qF(C,sd),x=d.jsx(rv,{...y,type:S==="switch"?"checkbox":S,ref:I,isValid:o,isInvalid:a,disabled:s,as:v});return d.jsx(Vr.Provider,{value:P,children:d.jsx("div",{style:m,className:se(p,L&&e,r&&`${e}-inline`,i&&`${e}-reverse`,S==="switch"&&n),children:C||d.jsxs(d.Fragment,{children:[x,L&&d.jsx(sd,{title:T,children:w}),c&&d.jsx(sh,{type:h,tooltip:l,children:c})]})})})});hA.displayName="FormCheck";const od=Object.assign(hA,{Input:rv,Label:sd}),fA=_.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:h="input",...p},m)=>{const{controlId:T}=_.useContext(Vr);return t=ue(t,"form-control"),d.jsx(h,{...p,type:e,size:r,ref:m,readOnly:c,id:i||T,className:se(s,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});fA.displayName="FormControl";const OU=Object.assign(fA,{Feedback:sh}),pA=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"form-floating"),d.jsx(n,{ref:i,className:se(t,e),...r})));pA.displayName="FormFloating";const iv=_.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=_.useMemo(()=>({controlId:t}),[t]);return d.jsx(Vr.Provider,{value:i,children:d.jsx(e,{...n,ref:r})})});iv.displayName="FormGroup";const mA=_.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=_.useContext(Vr);e=ue(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const h=se(i,e,r&&"visually-hidden",n&&c);return s=s||l,n?d.jsx(fe,{ref:a,as:"label",className:h,htmlFor:s,...o}):d.jsx(t,{ref:a,className:h,htmlFor:s,...o})});mA.displayName="FormLabel";const gA=_.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=_.useContext(Vr);return t=ue(t,"form-range"),d.jsx("input",{...r,type:"range",ref:i,className:se(e,t),id:n||s})});gA.displayName="FormRange";const vA=_.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=_.useContext(Vr);return t=ue(t,"form-select"),d.jsx("select",{...a,size:n,ref:l,className:se(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});vA.displayName="FormSelect";const yA=_.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=ue(t,"form-text"),d.jsx(n,{...i,ref:s,className:se(e,t,r&&"text-muted")})));yA.displayName="FormText";const _A=_.forwardRef((t,e)=>d.jsx(od,{...t,ref:e,type:"switch"}));_A.displayName="Switch";const jU=Object.assign(_A,{Input:od.Input,Label:od.Label}),wA=_.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=ue(t,"form-floating"),d.jsxs(iv,{ref:o,className:se(e,t),controlId:r,...s,children:[n,d.jsx("label",{htmlFor:r,children:i})]})));wA.displayName="FloatingLabel";const MU={_ref:Rr.any,validated:Rr.bool,as:Rr.elementType},sv=_.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>d.jsx(n,{...r,ref:i,className:se(t,e&&"was-validated")}));sv.displayName="Form";sv.propTypes=MU;const H=Object.assign(sv,{Group:iv,Control:OU,Floating:pA,Check:od,Switch:jU,Label:mA,Text:yA,Range:gA,Select:vA,FloatingLabel:wA}),_E=t=>!t||typeof t=="function"?t:e=>{t.current=e};function LU(t,e){const n=_E(t),r=_E(e);return i=>{n&&n(i),r&&r(i)}}function oh(t,e){return _.useMemo(()=>LU(t,e),[t,e])}const EA=_.createContext(null),VU=["as","active","eventKey"];function FU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TA({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=_.useContext(vs),a=_.useContext(rh),l=_.useContext(EA);let c=n;const h={role:i};if(a){!i&&a.role==="tablist"&&(h.role="tab");const p=a.getControllerId(t??null),m=a.getControlledId(t??null);h[Wo("event-key")]=t,h.id=p||r,c=n==null&&t!=null?a.activeKey===t:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(h["aria-controls"]=m)}return h.role==="tab"&&(h["aria-selected"]=c,c||(h.tabIndex=-1),s&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Ot(p=>{s||(e==null||e(p),t!=null&&o&&!p.isPropagationStopped()&&o(t,p))}),[h,{isActive:c}]}const IA=_.forwardRef((t,e)=>{let{as:n=Wg,active:r,eventKey:i}=t,s=FU(t,VU);const[o,a]=TA(Object.assign({key:kl(i,s.href),active:r},s));return o[Wo("active")]=a.isActive,d.jsx(n,Object.assign({},s,o,{ref:e}))});IA.displayName="NavItem";const $U=["as","onSelect","activeKey","role","onKeyDown"];function UU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const wE=()=>{},EE=Wo("event-key"),CA=_.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,a=UU(t,$U);const l=Mx(),c=_.useRef(!1),h=_.useContext(vs),p=_.useContext(EA);let m,T;p&&(s=s||"tablist",i=p.activeKey,m=p.getControlledId,T=p.getControllerId);const S=_.useRef(null),w=I=>{const O=S.current;if(!O)return null;const P=vr(O,`[${EE}]:not([aria-disabled=true])`),L=O.querySelector("[aria-selected=true]");if(!L||L!==document.activeElement)return null;const x=P.indexOf(L);if(x===-1)return null;let E=x+I;return E>=P.length&&(E=0),E<0&&(E=P.length-1),P[E]},C=(I,O)=>{I!=null&&(r==null||r(I,O),h==null||h(I,O))},v=I=>{if(o==null||o(I),!p)return;let O;switch(I.key){case"ArrowLeft":case"ArrowUp":O=w(-1);break;case"ArrowRight":case"ArrowDown":O=w(1);break;default:return}O&&(I.preventDefault(),C(O.dataset[RU("EventKey")]||null,I),c.current=!0,l())};_.useEffect(()=>{if(S.current&&c.current){const I=S.current.querySelector(`[${EE}][aria-selected=true]`);I==null||I.focus()}c.current=!1});const y=oh(e,S);return d.jsx(vs.Provider,{value:C,children:d.jsx(rh.Provider,{value:{role:s,activeKey:kl(i),getControlledId:m||wE,getControllerId:T||wE},children:d.jsx(n,Object.assign({},a,{onKeyDown:v,ref:y,role:s}))})})});CA.displayName="Nav";const BU=Object.assign(CA,{Item:IA});var Hu;function TE(t){if((!Hu&&Hu!==0||t)&&Ho){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Hu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Hu}function zU(){return _.useState(null)}function yf(t){t===void 0&&(t=Jl());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function HU(t){const e=_.useRef(t);return e.current=t,e}function WU(t){const e=HU(t);_.useEffect(()=>()=>e.current(),[])}function qU(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const IE=Wo("modal-open");class ov{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return qU(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Ar(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(IE,""),Ar(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(IE),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const _f=(t,e)=>Ho?t==null?(e||Jl()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function GU(t,e){const n=ih(),[r,i]=_.useState(()=>_f(t,n==null?void 0:n.document));if(!r){const s=_f(t);s&&i(s)}return _.useEffect(()=>{},[e,r]),_.useEffect(()=>{const s=_f(t);s!==r&&i(s)},[t,r]),r}function KU({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=_.useRef(null),o=_.useRef(e),a=Ot(n);_.useEffect(()=>{e?o.current=!0:a(s.current)},[e,a]);const l=oh(s,zo(t)),c=_.cloneElement(t,{ref:l});return e?c:i||!o.current&&r?null:c}const YU=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function QU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XU(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=t,c=QU(t,YU);const h=_.useRef(null),p=oh(h,zo(l)),m=O=>P=>{O&&h.current&&O(h.current,P)},T=_.useCallback(m(e),[e]),S=_.useCallback(m(n),[n]),w=_.useCallback(m(r),[r]),C=_.useCallback(m(i),[i]),v=_.useCallback(m(s),[s]),y=_.useCallback(m(o),[o]),I=_.useCallback(m(a),[a]);return Object.assign({},c,{nodeRef:h},e&&{onEnter:T},n&&{onEntering:S},r&&{onEntered:w},i&&{onExit:C},s&&{onExiting:v},o&&{onExited:y},a&&{addEndListener:I},{children:typeof l=="function"?(O,P)=>l(O,Object.assign({},P,{ref:p})):_.cloneElement(l,{ref:p})})}const JU=["component"];function ZU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const e4=_.forwardRef((t,e)=>{let{component:n}=t,r=ZU(t,JU);const i=XU(r);return d.jsx(n,Object.assign({ref:e},i))});function t4({in:t,onTransition:e}){const n=_.useRef(null),r=_.useRef(!0),i=Ot(e);return rE(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),rE(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function n4({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=_.useState(!e);e&&s&&o(!1);const a=t4({in:!!e,onTransition:c=>{const h=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(h,p=>{throw c.in||o(!0),p})}}),l=oh(a,zo(t));return s&&!e?null:_.cloneElement(t,{ref:l})}function CE(t,e,n){return t?d.jsx(e4,Object.assign({},n,{component:t})):e?d.jsx(n4,Object.assign({},n,{transition:e})):d.jsx(KU,Object.assign({},n))}const r4=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function i4(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let wf;function s4(t){return wf||(wf=new ov({ownerDocument:t==null?void 0:t.document})),wf}function o4(t){const e=ih(),n=t||s4(e),r=_.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:_.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:_.useCallback(i=>{r.current.backdrop=i},[])})}const SA=_.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:h,transition:p,runTransition:m,backdropTransition:T,runBackdropTransition:S,autoFocus:w=!0,enforceFocus:C=!0,restoreFocus:v=!0,restoreFocusOptions:y,renderDialog:I,renderBackdrop:O=we=>d.jsx("div",Object.assign({},we)),manager:P,container:L,onShow:x,onHide:E=()=>{},onExit:R,onExited:b,onExiting:N,onEnter:D,onEntering:A,onEntered:W}=t,U=i4(t,r4);const M=ih(),B=GU(L),j=o4(P),$=Ix(),V=Cx(n),[Q,Z]=_.useState(!n),te=_.useRef(null);_.useImperativeHandle(e,()=>j,[j]),Ho&&!V&&n&&(te.current=yf(M==null?void 0:M.document)),n&&Q&&Z(!1);const G=Ot(()=>{if(j.add(),q.current=hi(document,"keydown",ze),Le.current=hi(document,"focus",()=>setTimeout(ce),!0),x&&x(),w){var we,Wt;const qt=yf((we=(Wt=j.dialog)==null?void 0:Wt.ownerDocument)!=null?we:M==null?void 0:M.document);j.dialog&&qt&&!id(j.dialog,qt)&&(te.current=qt,j.dialog.focus())}}),Y=Ot(()=>{if(j.remove(),q.current==null||q.current(),Le.current==null||Le.current(),v){var we;(we=te.current)==null||we.focus==null||we.focus(y),te.current=null}});_.useEffect(()=>{!n||!B||G()},[n,B,G]),_.useEffect(()=>{Q&&Y()},[Q,Y]),WU(()=>{Y()});const ce=Ot(()=>{if(!C||!$()||!j.isTopModal())return;const we=yf(M==null?void 0:M.document);j.dialog&&we&&!id(j.dialog,we)&&j.dialog.focus()}),Ee=Ot(we=>{we.target===we.currentTarget&&(c==null||c(we),a===!0&&E())}),ze=Ot(we=>{l&&yF(we)&&j.isTopModal()&&(h==null||h(we),we.defaultPrevented||E())}),Le=_.useRef(),q=_.useRef(),le=(...we)=>{Z(!0),b==null||b(...we)};if(!B)return null;const Ae=Object.assign({role:r,ref:j.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},U,{style:s,className:i,tabIndex:-1});let He=I?I(Ae):d.jsx("div",Object.assign({},Ae,{children:_.cloneElement(o,{role:"document"})}));He=CE(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:N,onExited:le,onEnter:D,onEntering:A,onEntered:W,children:He});let tt=null;return a&&(tt=O({ref:j.setBackdropRef,onClick:Ee}),tt=CE(T,S,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:tt})),d.jsx(d.Fragment,{children:Js.createPortal(d.jsxs(d.Fragment,{children:[tt,He]}),B)})});SA.displayName="Modal";const xA=Object.assign(SA,{Manager:ov});function a4(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function l4(t,e){t.classList?t.classList.add(e):a4(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function SE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function u4(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=SE(t.className,e):t.setAttribute("class",SE(t.className&&t.className.baseVal||"",e))}const Ms={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class AA extends ov{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Ar(n,{[e]:`${parseFloat(Ar(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Ar(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(l4(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";vr(n,Ms.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),vr(n,Ms.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),vr(n,Ms.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();u4(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";vr(n,Ms.FIXED_CONTENT).forEach(s=>this.restore(r,s)),vr(n,Ms.STICKY_CONTENT).forEach(s=>this.restore(i,s)),vr(n,Ms.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Ef;function RA(t){return Ef||(Ef=new AA(t)),Ef}const kA=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"modal-body"),d.jsx(n,{ref:i,className:se(t,e),...r})));kA.displayName="ModalBody";const av=_.createContext({onHide(){}}),lv=_.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{t=ue(t,"modal");const h=`${t}-dialog`,p=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return d.jsx("div",{...l,ref:c,className:se(h,e,i&&`${t}-${i}`,r&&`${h}-centered`,a&&`${h}-scrollable`,s&&p),children:d.jsx("div",{className:se(`${t}-content`,n),children:o})})});lv.displayName="ModalDialog";const bA=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"modal-footer"),d.jsx(n,{ref:i,className:se(t,e),...r})));bA.displayName="ModalFooter";const uv=_.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=_.useContext(av),l=ki(()=>{a==null||a.onHide(),r==null||r()});return d.jsxs("div",{ref:o,...s,children:[i,n&&d.jsx(eh,{"aria-label":t,variant:e,onClick:l})]})});uv.displayName="AbstractModalHeader";const NA=_.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=ue(t,"modal-header"),d.jsx(uv,{ref:s,...i,className:se(e,t),closeLabel:n,closeButton:r})));NA.displayName="ModalHeader";const c4=Zl("h4"),PA=_.forwardRef(({className:t,bsPrefix:e,as:n=c4,...r},i)=>(e=ue(e,"modal-title"),d.jsx(n,{ref:i,className:se(t,e),...r})));PA.displayName="ModalTitle";function d4(t){return d.jsx(Ro,{...t,timeout:null})}function h4(t){return d.jsx(Ro,{...t,timeout:null})}const DA=_.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=lv,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":c,"aria-label":h,show:p=!1,animation:m=!0,backdrop:T=!0,keyboard:S=!0,onEscapeKeyDown:w,onShow:C,onHide:v,container:y,autoFocus:I=!0,enforceFocus:O=!0,restoreFocus:P=!0,restoreFocusOptions:L,onEntered:x,onExit:E,onExiting:R,onEnter:b,onEntering:N,onExited:D,backdropClassName:A,manager:W,...U},M)=>{const[B,j]=_.useState({}),[$,V]=_.useState(!1),Q=_.useRef(!1),Z=_.useRef(!1),te=_.useRef(null),[G,Y]=zU(),ce=Xd(M,Y),Ee=ki(v),ze=fx();t=ue(t,"modal");const Le=_.useMemo(()=>({onHide:Ee}),[Ee]);function q(){return W||RA({isRTL:ze})}function le(pe){if(!Ho)return;const Ve=q().getScrollbarWidth()>0,Wn=pe.scrollHeight>Jl(pe).documentElement.clientHeight;j({paddingRight:Ve&&!Wn?TE():void 0,paddingLeft:!Ve&&Wn?TE():void 0})}const Ae=ki(()=>{G&&le(G.dialog)});WF(()=>{Gp(window,"resize",Ae),te.current==null||te.current()});const He=()=>{Q.current=!0},tt=pe=>{Q.current&&G&&pe.target===G.dialog&&(Z.current=!0),Q.current=!1},we=()=>{V(!0),te.current=yx(G.dialog,()=>{V(!1)})},Wt=pe=>{pe.target===pe.currentTarget&&we()},qt=pe=>{if(T==="static"){Wt(pe);return}if(Z.current||pe.target!==pe.currentTarget){Z.current=!1;return}v==null||v()},ur=pe=>{S?w==null||w(pe):(pe.preventDefault(),T==="static"&&we())},zn=(pe,Ve)=>{pe&&le(pe),b==null||b(pe,Ve)},Gt=pe=>{te.current==null||te.current(),E==null||E(pe)},cr=(pe,Ve)=>{N==null||N(pe,Ve),Bg(window,"resize",Ae)},Rs=pe=>{pe&&(pe.style.display=""),D==null||D(pe),Gp(window,"resize",Ae)},Hr=_.useCallback(pe=>d.jsx("div",{...pe,className:se(`${t}-backdrop`,A,!m&&"show")}),[m,A,t]),Hn={...n,...B};Hn.display="block";const $i=pe=>d.jsx("div",{role:"dialog",...pe,style:Hn,className:se(e,t,$&&`${t}-static`,!m&&"show"),onClick:T?qt:void 0,onMouseUp:tt,"data-bs-theme":a,"aria-label":h,"aria-labelledby":l,"aria-describedby":c,children:d.jsx(o,{...U,onMouseDown:He,className:r,contentClassName:i,children:s})});return d.jsx(av.Provider,{value:Le,children:d.jsx(xA,{show:p,ref:ce,backdrop:T,container:y,keyboard:!0,autoFocus:I,enforceFocus:O,restoreFocus:P,restoreFocusOptions:L,onEscapeKeyDown:ur,onShow:C,onHide:v,onEnter:zn,onEntering:cr,onEntered:x,onExit:Gt,onExiting:R,onExited:Rs,manager:q(),transition:m?d4:void 0,backdropTransition:m?h4:void 0,renderBackdrop:Hr,renderDialog:$i})})});DA.displayName="Modal";const $t=Object.assign(DA,{Body:kA,Header:NA,Title:PA,Footer:bA,Dialog:lv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),OA=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"nav-item"),d.jsx(n,{ref:i,className:se(t,e),...r})));OA.displayName="NavItem";const jA=_.forwardRef(({bsPrefix:t,className:e,as:n=Zd,active:r,eventKey:i,disabled:s=!1,...o},a)=>{t=ue(t,"nav-link");const[l,c]=TA({key:kl(i,o.href),active:r,disabled:s,...o});return d.jsx(n,{...o,...l,ref:a,disabled:s,className:se(e,t,s&&"disabled",c.isActive&&"active")})});jA.displayName="NavLink";const MA=_.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:a,navbarScroll:l,className:c,activeKey:h,...p}=Qd(t,{activeKey:"onSelect"}),m=ue(r,"nav");let T,S,w=!1;const C=_.useContext(As),v=_.useContext(Gg);return C?(T=C.bsPrefix,w=a??!0):v&&({cardHeaderBsPrefix:S}=v),d.jsx(BU,{as:n,ref:e,activeKey:h,className:se(c,{[m]:!w,[`${T}-nav`]:w,[`${T}-nav-scroll`]:w&&l,[`${S}-${i}`]:!!S,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...p})});MA.displayName="Nav";const ya=Object.assign(MA,{Item:OA,Link:jA}),LA=_.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ue(t,"navbar-brand");const s=n||(r.href?"a":"span");return d.jsx(s,{...r,ref:i,className:se(e,t)})});LA.displayName="NavbarBrand";const VA=_.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ue(e,"navbar-collapse");const i=_.useContext(As);return d.jsx(wx,{in:!!(i&&i.expanded),...n,children:d.jsx("div",{ref:r,className:e,children:t})})});VA.displayName="NavbarCollapse";const FA=_.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{t=ue(t,"navbar-toggler");const{onToggle:l,expanded:c}=_.useContext(As)||{},h=ki(p=>{s&&s(p),l&&l()});return i==="button"&&(o.type="button"),d.jsx(i,{...o,ref:a,onClick:h,"aria-label":r,className:se(e,t,!c&&"collapsed"),children:n||d.jsx("span",{className:`${t}-icon`})})});FA.displayName="NavbarToggle";const Qp=new WeakMap,xE=(t,e)=>{if(!t||!e)return;const n=Qp.get(e)||new Map;Qp.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function f4(t,e=typeof window>"u"?void 0:window){const n=xE(t,e),[r,i]=_.useState(()=>n?n.matches:!1);return oA(()=>{let s=xE(t,e);if(!s)return i(!1);let o=Qp.get(e);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function p4(t){const e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const l=r(a);let c=t[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,c){let h;typeof a=="object"?(h=a,c=l,l=!0):(l=l||!0,h={[a]:l});let p=_.useMemo(()=>Object.entries(h).reduce((m,[T,S])=>((S==="up"||S===!0)&&(m=n(m,s(T))),(S==="down"||S===!0)&&(m=n(m,i(T))),m),""),[JSON.stringify(h)]);return f4(p,c)}return o}const m4=p4({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),$A=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ue(e,"offcanvas-body"),d.jsx(n,{ref:i,className:se(t,e),...r})));$A.displayName="OffcanvasBody";const g4={[jn]:"show",[yr]:"show"},UA=_.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(t=ue(t,"offcanvas"),d.jsx(Jd,{ref:l,addEndListener:zg,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:zo(n),children:(c,h)=>_.cloneElement(n,{...h,className:se(e,n.props.className,(c===jn||c===xl)&&`${t}-toggling`,g4[c])})})));UA.displayName="OffcanvasToggling";const BA=_.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=ue(t,"offcanvas-header"),d.jsx(uv,{ref:s,...i,className:se(e,t),closeLabel:n,closeButton:r})));BA.displayName="OffcanvasHeader";const v4=Zl("h5"),zA=_.forwardRef(({className:t,bsPrefix:e,as:n=v4,...r},i)=>(e=ue(e,"offcanvas-title"),d.jsx(n,{ref:i,className:se(t,e),...r})));zA.displayName="OffcanvasTitle";function y4(t){return d.jsx(UA,{...t})}function _4(t){return d.jsx(Ro,{...t})}const HA=_.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:h,onShow:p,onHide:m,container:T,autoFocus:S=!0,enforceFocus:w=!0,restoreFocus:C=!0,restoreFocusOptions:v,onEntered:y,onExit:I,onExiting:O,onEnter:P,onEntering:L,onExited:x,backdropClassName:E,manager:R,renderStaticNode:b=!1,...N},D)=>{const A=_.useRef();t=ue(t,"offcanvas");const[W,U]=_.useState(!1),M=ki(m),B=m4(s||"xs","up");_.useEffect(()=>{U(s?o&&!B:o)},[o,s,B]);const j=_.useMemo(()=>({onHide:M}),[M]);function $(){return R||(c?(A.current||(A.current=new AA({handleContainerOverflow:!1})),A.current):RA())}const V=(G,...Y)=>{G&&(G.style.visibility="visible"),P==null||P(G,...Y)},Q=(G,...Y)=>{G&&(G.style.visibility=""),x==null||x(...Y)},Z=_.useCallback(G=>d.jsx("div",{...G,className:se(`${t}-backdrop`,E)}),[E,t]),te=G=>d.jsx("div",{...G,...N,className:se(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return d.jsxs(d.Fragment,{children:[!W&&(s||b)&&te({}),d.jsx(av.Provider,{value:j,children:d.jsx(xA,{show:W,ref:D,backdrop:a,container:T,keyboard:l,autoFocus:S,enforceFocus:w&&!c,restoreFocus:C,restoreFocusOptions:v,onEscapeKeyDown:h,onShow:p,onHide:M,onEnter:V,onEntering:L,onEntered:y,onExit:I,onExiting:O,onExited:Q,manager:$(),transition:y4,backdropTransition:_4,renderBackdrop:Z,renderDialog:te})})]})});HA.displayName="Offcanvas";const w4=Object.assign(HA,{Body:$A,Header:BA,Title:zA}),WA=_.forwardRef(({onHide:t,...e},n)=>{const r=_.useContext(As),i=ki(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return d.jsx(w4,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});WA.displayName="NavbarOffcanvas";const qA=_.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ue(e,"navbar-text"),d.jsx(n,{ref:i,className:se(t,e),...r})));qA.displayName="NavbarText";const GA=_.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:h,onToggle:p,onSelect:m,collapseOnSelect:T=!1,...S}=Qd(t,{expanded:"onToggle"}),w=ue(n,"navbar"),C=_.useCallback((...I)=>{m==null||m(...I),T&&h&&(p==null||p(!1))},[m,T,h,p]);S.role===void 0&&c!=="nav"&&(S.role="navigation");let v=`${w}-expand`;typeof r=="string"&&(v=`${v}-${r}`);const y=_.useMemo(()=>({onToggle:()=>p==null?void 0:p(!h),bsPrefix:w,expanded:!!h,expand:r}),[w,h,r,p]);return d.jsx(As.Provider,{value:y,children:d.jsx(vs.Provider,{value:C,children:d.jsx(c,{ref:e,...S,className:se(l,w,r&&v,i&&`${w}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});GA.displayName="Navbar";const AE=Object.assign(GA,{Brand:LA,Collapse:VA,Offcanvas:WA,Text:qA,Toggle:FA}),De=_.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=ue(t,"row"),o=dx(),a=hx(),l=`${s}-cols`,c=[];return o.forEach(h=>{const p=r[h];delete r[h];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const T=h!==a?`-${h}`:"";m!=null&&c.push(`${l}${T}-${m}`)}),d.jsx(n,{ref:i,...r,className:se(e,s,...c)})});De.displayName="Row";const bl=_.forwardRef(({bsPrefix:t,variant:e,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{t=ue(t,"spinner");const l=`${t}-${n}`;return d.jsx(i,{ref:a,...o,className:se(s,l,r&&`${l}-${r}`,e&&`text-${e}`)})});bl.displayName="Spinner";const E4="_header_jl7cg_9",T4="_container_jl7cg_15",I4="_brand_jl7cg_24",C4="_brandText_jl7cg_29",S4="_barbeariaName_jl7cg_36",x4="_nav_jl7cg_41",A4="_userSection_jl7cg_57",R4="_userButton_jl7cg_57",k4="_userAvatar_jl7cg_72",b4="_userName_jl7cg_84",N4="_dropdownMenu_jl7cg_88",P4="_logoutItem_jl7cg_106",yn={header:E4,container:T4,brand:I4,brandText:C4,barbeariaName:S4,nav:x4,userSection:A4,userButton:R4,userAvatar:k4,userName:b4,dropdownMenu:N4,logoutItem:P4},D4=()=>{var o,a,l;const{user:t,signOut:e}=Ur(),{barbearia:n,clearConfiguration:r}=Br(),i=ji(),s=async()=>{try{r(),await e(),i("/",{replace:!0})}catch(c){console.error("Erro ao fazer logout:",c)}};return t?d.jsx(AE,{bg:"dark",variant:"dark",expand:"lg",className:yn.header,children:d.jsxs("div",{className:yn.container,children:[d.jsxs(AE.Brand,{className:yn.brand,children:[d.jsx("span",{className:yn.brandText,children:"Barber Connect"}),n&&d.jsx("span",{className:yn.barbeariaName,children:n.nomeEstabelecimento})]}),d.jsxs(ya,{className:yn.nav,children:[d.jsx(ya.Link,{onClick:()=>i("/store"),children:"Dashboard"}),d.jsx(ya.Link,{onClick:()=>i("/funcionarios"),children:"Funcionrios"}),d.jsx(ya.Link,{onClick:()=>i("/create-schedule"),children:"Novo Agendamento"}),d.jsx(ya.Link,{onClick:()=>i("/reports"),children:"Relatrios"})]}),d.jsx("div",{className:yn.userSection,children:d.jsxs(js,{align:"end",children:[d.jsxs(js.Toggle,{variant:"outline-light",className:yn.userButton,children:[d.jsx("span",{className:yn.userAvatar,children:((o=t.displayName)==null?void 0:o.charAt(0))||((a=t.email)==null?void 0:a.charAt(0))||"U"}),d.jsx("span",{className:yn.userName,children:t.displayName||((l=t.email)==null?void 0:l.split("@")[0])})]}),d.jsxs(js.Menu,{className:yn.dropdownMenu,children:[d.jsx(js.Item,{onClick:()=>i("/configuration"),children:" Configuraes"}),d.jsx(js.Divider,{}),d.jsx(js.Item,{onClick:s,className:yn.logoutItem,children:" Sair"})]})]})})]})}):null},O4="_fullScreen_j7u4b_9",j4="_inline_j7u4b_34",M4="_content_j7u4b_42",L4="_spinnerContainer_j7u4b_49",V4="_spinner_j7u4b_49",F4="_titleContainer_j7u4b_59",$4="_title_j7u4b_59",U4="_message_j7u4b_71",Xr={fullScreen:O4,inline:j4,content:M4,spinnerContainer:L4,spinner:V4,titleContainer:F4,title:$4,message:U4},B4=({message:t="Carregando...",size:e="lg",variant:n="primary",fullScreen:r=!0})=>{const i=r?Xr.fullScreen:Xr.inline;return d.jsx("div",{className:i,children:d.jsxs("div",{className:Xr.content,children:[d.jsx("div",{className:Xr.spinnerContainer,children:d.jsx(bl,{animation:"border",...e==="sm"?{size:"sm"}:{},variant:n,className:Xr.spinner})}),d.jsx("div",{className:Xr.titleContainer,children:d.jsx("h1",{className:Xr.title,children:"Barber Connect"})}),t&&d.jsx("p",{className:Xr.message,children:t})]})})},_a=({children:t,requiresConfiguration:e=!1,redirectTo:n="/login",showHeader:r=!0})=>{const{user:i,loading:s}=Ur(),{isConfigured:o,loading:a}=Br(),l=Es();return s||a?d.jsx(B4,{message:"Verificando autenticao..."}):i?e&&!o?d.jsx(__,{to:"/configuration",state:{from:l},replace:!0}):d.jsxs(d.Fragment,{children:[r&&d.jsx(D4,{}),t]}):d.jsx(__,{to:n,state:{from:l},replace:!0})},z4="_contribuinteCheck_1xnsc_9",H4="_container_1xnsc_20",W4="_header_1xnsc_31",q4="_alert_1xnsc_50",G4="_form_1xnsc_57",K4="_input_1xnsc_64",Y4="_helpText_1xnsc_97",Q4="_submitButton_1xnsc_103",Jr={contribuinteCheck:z4,container:H4,header:W4,alert:q4,form:G4,input:K4,helpText:Y4,submitButton:Q4},RE=()=>{const{validateContribuinte:t}=Br(),e=ji();console.log(" BarbeariaService importado:",Ft),console.log(" Mtodo verificarContribuinte:",Ft.verificarContribuinte);const[n,r]=_.useState({contribuinte:""}),[i,s]=_.useState({}),[o,a]=_.useState(!1),l=p=>{const m=p.replace(/\D/g,"");r({contribuinte:m}),(i.contribuinte||i.general)&&s({})},c=()=>{const p={};return n.contribuinte.trim()?t(n.contribuinte)||(p.contribuinte="Contribuinte deve conter apenas nmeros (mximo 9 dgitos)"):p.contribuinte="Contribuinte  obrigatrio",s(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!!c()){a(!0),s({});try{await Ft.verificarContribuinte(n.contribuinte)?(console.log(" Barbearia existe - indo para login"),e("/login",{state:{contribuinte:n.contribuinte,exists:!0}})):(console.log(" Barbearia no existe - indo para login para depois configurar"),e("/login",{state:{contribuinte:n.contribuinte,exists:!1}}))}catch(m){s({general:m.message})}finally{a(!1)}}};return d.jsx("div",{className:Jr.contribuinteCheck,children:d.jsxs("div",{className:Jr.container,children:[d.jsxs("div",{className:Jr.header,children:[d.jsx("h1",{children:"Barber Connect"}),d.jsx("p",{children:"Digite o contribuinte da sua barbearia para continuar"})]}),i.general&&d.jsx(_t,{variant:"danger",className:Jr.alert,children:i.general}),d.jsxs(H,{onSubmit:h,className:Jr.form,children:[d.jsx(De,{className:"justify-content-center",children:d.jsx(fe,{xs:12,sm:10,md:8,lg:6,children:d.jsxs(H.Group,{controlId:"contribuinte",children:[d.jsx(H.Label,{children:"Contribuinte *"}),d.jsx(H.Control,{type:"text",value:n.contribuinte,onChange:p=>l(p.target.value),placeholder:"Digite o contribuinte (at 9 dgitos)",maxLength:9,isInvalid:!!i.contribuinte,className:Jr.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:i.contribuinte}),d.jsx(H.Text,{className:Jr.helpText,children:"O contribuinte  usado para identificar sua barbearia no sistema"})]})})}),d.jsx(De,{className:"justify-content-center mt-4",children:d.jsx(fe,{xs:12,sm:10,md:8,lg:6,children:d.jsx("div",{className:"d-grid",children:d.jsx(je,{type:"submit",variant:"primary",size:"lg",disabled:o,className:Jr.submitButton,children:o?d.jsxs(d.Fragment,{children:[d.jsx(bl,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Verificando..."]}):"Continuar"})})})})]})]})})},X4="_loginPage_1507z_9",J4="_container_1507z_20",Z4="_header_1507z_31",eB="_contribuinteInfo_1507z_44",tB="_alert_1507z_55",nB="_form_1507z_64",rB="_input_1507z_71",iB="_loginButton_1507z_115",sB="_loginLinks_1507z_144",oB="_linkButton_1507z_147",on={loginPage:X4,container:J4,header:Z4,contribuinteInfo:eB,alert:tB,form:nB,input:rB,loginButton:iB,loginLinks:sB,linkButton:oB},kE=()=>{var j,$;const{user:t,signIn:e,signUp:n,error:r,loading:i,clearError:s}=Ur(),{contribuinte:o,setContribuinte:a}=Br(),l=ji(),c=Es(),[h,p]=_.useState({email:"",password:""}),[m,T]=_.useState({nome:"",email:"",password:"",confirmPassword:""}),[S,w]=_.useState({}),[C,v]=_.useState(!1),[y,I]=_.useState(!1),[O,P]=_.useState(!1),[L,x]=_.useState(!1),E=(j=c.state)==null?void 0:j.contribuinte,R=($=c.state)==null?void 0:$.exists;_.useEffect(()=>{t&&E?(console.log(" Usurio logado, redirecionando...",{barbeariaExists:R}),R?(console.log(" Indo para store"),l("/store",{replace:!0})):(console.log(" Indo para configurao"),l("/configuration",{state:{contribuinte:E},replace:!0}))):t&&!E&&l("/store",{replace:!0})},[t,E,R,l]),_.useEffect(()=>{E&&!o&&a(E).catch(console.error)},[E,o,a]),_.useEffect(()=>{!o&&!E&&l("/",{replace:!0})},[o,E,l]);const b=(V,Q)=>{p(Z=>({...Z,[V]:Q})),S[V]&&w(Z=>({...Z,[V]:void 0})),r&&s()},N=(V,Q)=>{T(Z=>({...Z,[V]:Q})),S[V]&&w(Z=>({...Z,[V]:void 0}))},D=()=>{const V={};return h.email.trim()?/\S+@\S+\.\S+/.test(h.email)||(V.email="Email deve ter um formato vlido"):V.email="Email  obrigatrio",h.password.trim()?h.password.length<6&&(V.password="Senha deve ter pelo menos 6 caracteres"):V.password="Senha  obrigatria",w(V),Object.keys(V).length===0},A=()=>{const V={};return m.nome.trim()||(V.nome="Nome  obrigatrio"),m.email.trim()?/\S+@\S+\.\S+/.test(m.email)||(V.email="Email deve ter um formato vlido"):V.email="Email  obrigatrio",m.password.trim()?m.password.length<6&&(V.password="Senha deve ter pelo menos 6 caracteres"):V.password="Senha  obrigatria",m.password!==m.confirmPassword&&(V.confirmPassword="Senhas no coincidem"),w(V),Object.keys(V).length===0},W=async V=>{if(V.preventDefault(),V.stopPropagation(),v(!0),!!D()){if(!o&&!E){w({general:"Contribuinte no definido"});return}I(!0);try{await e(h.email.trim(),h.password)}catch(Q){console.error("Erro no login:",Q)}finally{I(!1)}}},U=async V=>{if(V.preventDefault(),!!A()){x(!0),w({});try{await n(m.email.trim(),m.password,m.nome),P(!1)}catch(Q){console.error("Erro no registro:",Q)}finally{x(!1)}}},M=V=>{if(V.key==="Enter"){const Q=V.currentTarget.closest("form");Q&&Q.requestSubmit()}},B=o||E;return d.jsx("div",{className:on.loginPage,children:d.jsxs("div",{className:on.container,children:[d.jsxs("div",{className:on.header,children:[d.jsx("h1",{children:"Barber Connect"}),B&&d.jsxs("p",{className:on.contribuinteInfo,children:["Contribuinte: ",d.jsx("span",{children:B})]}),R===!1&&d.jsx("p",{className:on.newBarberInfo,children:" Esta ser uma nova barbearia"})]}),(S.general||r)&&d.jsx(_t,{variant:"danger",className:on.alert,children:S.general||r}),d.jsxs(H,{noValidate:!0,validated:C,onSubmit:W,onKeyPress:M,className:on.form,children:[d.jsx(De,{className:"mb-3 justify-content-center",children:d.jsx(fe,{xs:12,children:d.jsxs(H.Group,{controlId:"formBasicEmail",children:[d.jsx(H.Label,{children:"Email *"}),d.jsx(H.Control,{type:"email",name:"email",value:h.email,onChange:V=>b("email",V.target.value),placeholder:"Digite seu email",isInvalid:!!S.email,isValid:C&&!S.email&&h.email.length>0,required:!0,className:on.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.email}),d.jsx(H.Control.Feedback,{type:"valid",children:"Email vlido!"})]})})}),d.jsx(De,{className:"mb-4 justify-content-center",children:d.jsx(fe,{xs:12,children:d.jsxs(H.Group,{controlId:"formBasicPassword",children:[d.jsx(H.Label,{children:"Senha *"}),d.jsx(H.Control,{type:"password",name:"password",value:h.password,onChange:V=>b("password",V.target.value),placeholder:"Digite sua senha",isInvalid:!!S.password,isValid:C&&!S.password&&h.password.length>0,required:!0,className:on.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.password}),d.jsx(H.Control.Feedback,{type:"valid",children:"Senha vlida!"})]})})}),d.jsx(De,{className:"justify-content-center",children:d.jsx(fe,{xs:12,children:d.jsx("div",{className:"d-grid",children:d.jsx(je,{type:"submit",variant:"primary",size:"lg",disabled:y||i,className:on.loginButton,children:y||i?d.jsxs(d.Fragment,{children:[d.jsx(bl,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Entrando..."]}):"Entrar"})})})}),d.jsx(De,{className:"mt-4 justify-content-center",children:d.jsxs(fe,{xs:12,className:"text-center",children:[d.jsx("div",{className:on.loginLinks,children:d.jsx("button",{type:"button",className:on.linkButton,onClick:()=>P(!0),children:"No tem conta? Criar conta"})}),d.jsx("div",{className:"mt-2",children:d.jsx("button",{type:"button",className:on.linkButton,onClick:()=>l("/"),children:" Voltar para seleo de contribuinte"})})]})})]}),d.jsxs($t,{show:O,onHide:()=>P(!1),size:"lg",children:[d.jsx($t.Header,{closeButton:!0,children:d.jsx($t.Title,{children:"Criar Nova Conta"})}),d.jsxs(H,{onSubmit:U,children:[d.jsxs($t.Body,{children:[d.jsxs("p",{className:"mb-3",children:[d.jsx("strong",{children:"Contribuinte:"})," ",B]}),d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Nome Completo *"}),d.jsx(H.Control,{type:"text",value:m.nome,onChange:V=>N("nome",V.target.value),placeholder:"Digite seu nome completo",isInvalid:!!S.nome}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.nome})]})}),d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Email *"}),d.jsx(H.Control,{type:"email",value:m.email,onChange:V=>N("email",V.target.value),placeholder:"Digite seu email",isInvalid:!!S.email}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.email})]})})]}),d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Senha *"}),d.jsx(H.Control,{type:"password",value:m.password,onChange:V=>N("password",V.target.value),placeholder:"Mnimo 6 caracteres",isInvalid:!!S.password}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.password})]})}),d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Confirmar Senha *"}),d.jsx(H.Control,{type:"password",value:m.confirmPassword,onChange:V=>N("confirmPassword",V.target.value),placeholder:"Digite a senha novamente",isInvalid:!!S.confirmPassword}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.confirmPassword})]})})]}),r&&d.jsx(_t,{variant:"danger",className:"mt-3",children:r})]}),d.jsxs($t.Footer,{children:[d.jsx(je,{variant:"secondary",onClick:()=>P(!1),disabled:L,children:"Cancelar"}),d.jsx(je,{type:"submit",variant:"primary",disabled:L,children:L?d.jsxs(d.Fragment,{children:[d.jsx(bl,{size:"sm",className:"me-2"}),"Criando conta..."]}):"Criar Conta"})]})]})]})]})})},aB="_configurationPage_15w99_9",lB="_container_15w99_20",uB="_header_15w99_32",cB="_statusBadge_15w99_54",dB="_configuredBadge_15w99_60",hB="_successAlert_15w99_69",fB="_errorAlert_15w99_69",pB="_form_15w99_86",mB="_section_15w99_90",gB="_inputGroup_15w99_114",vB="_input_15w99_114",yB="_errorMessage_15w99_158",_B="_checkboxGroup_15w99_165",wB="_checkbox_15w99_165",EB="_buttonGroup_15w99_193",TB="_cancelButton_15w99_201",IB="_saveButton_15w99_221",_e={configurationPage:aB,container:lB,header:uB,statusBadge:cB,configuredBadge:dB,successAlert:hB,errorAlert:fB,form:pB,section:mB,inputGroup:gB,input:vB,errorMessage:yB,checkboxGroup:_B,checkbox:wB,buttonGroup:EB,cancelButton:TB,saveButton:IB},CB=()=>{var R,b,N,D,A,W,U,M,B;const{user:t}=Ur(),{contribuinte:e,barbearia:n,createBarbearia:r,updateBarbearia:i,isConfigured:s,loading:o,error:a,validateContribuinte:l}=Br(),c=ji(),p=(R=Es().state)==null?void 0:R.contribuinte,[m,T]=_.useState({contribuinte:e||p||"",nomeEstabelecimento:(n==null?void 0:n.nomeEstabelecimento)||"",endereco:(n==null?void 0:n.endereco)||"",telefone:(n==null?void 0:n.telefone)||"",email:(n==null?void 0:n.email)||"",horarioAbertura:((b=n==null?void 0:n.horarioFuncionamento)==null?void 0:b.abertura)||"08:00",horarioFechamento:((N=n==null?void 0:n.horarioFuncionamento)==null?void 0:N.fechamento)||"18:00",diasFuncionamento:((D=n==null?void 0:n.horarioFuncionamento)==null?void 0:D.diasFuncionamento)||[],intervaloAgendamento:((A=n==null?void 0:n.configuracoesSistema)==null?void 0:A.intervaloAgendamento)||30,antecedenciaMinima:((W=n==null?void 0:n.configuracoesSistema)==null?void 0:W.antecedenciaMinima)||1,antecedenciaMaxima:((U=n==null?void 0:n.configuracoesSistema)==null?void 0:U.antecedenciaMaxima)||30,permiteCancelamento:((M=n==null?void 0:n.configuracoesSistema)==null?void 0:M.permiteCancelamento)??!0,tempoLimiteCancelamento:((B=n==null?void 0:n.configuracoesSistema)==null?void 0:B.tempoLimiteCancelamento)||2}),[S,w]=_.useState({}),[C,v]=_.useState(!1),[y,I]=_.useState(!1),O=["segunda","tera","quarta","quinta","sexta","sbado","domingo"];_.useEffect(()=>{n&&T(j=>{var $,V,Q,Z,te,G,Y,ce;return{...j,nomeEstabelecimento:n.nomeEstabelecimento||"",endereco:n.endereco||"",telefone:n.telefone||"",email:n.email||"",horarioAbertura:(($=n.horarioFuncionamento)==null?void 0:$.abertura)||"08:00",horarioFechamento:((V=n.horarioFuncionamento)==null?void 0:V.fechamento)||"18:00",diasFuncionamento:((Q=n.horarioFuncionamento)==null?void 0:Q.diasFuncionamento)||[],intervaloAgendamento:((Z=n.configuracoesSistema)==null?void 0:Z.intervaloAgendamento)||30,antecedenciaMinima:((te=n.configuracoesSistema)==null?void 0:te.antecedenciaMinima)||1,antecedenciaMaxima:((G=n.configuracoesSistema)==null?void 0:G.antecedenciaMaxima)||30,permiteCancelamento:((Y=n.configuracoesSistema)==null?void 0:Y.permiteCancelamento)??!0,tempoLimiteCancelamento:((ce=n.configuracoesSistema)==null?void 0:ce.tempoLimiteCancelamento)||2}})},[n]);const P=(j,$)=>{T(V=>({...V,[j]:$})),S[j]&&w(V=>({...V,[j]:void 0}))},L=(j,$)=>{const V=$?[...m.diasFuncionamento,j]:m.diasFuncionamento.filter(Q=>Q!==j);P("diasFuncionamento",V)},x=()=>{const j={};return m.contribuinte?l(m.contribuinte)||(j.contribuinte="Contribuinte deve conter apenas nmeros (mximo 9 dgitos)"):j.contribuinte="Contribuinte  obrigatrio",m.nomeEstabelecimento.trim()||(j.nomeEstabelecimento="Nome do estabelecimento  obrigatrio"),m.endereco.trim()||(j.endereco="Endereo  obrigatrio"),m.telefone.trim()||(j.telefone="Telefone  obrigatrio"),m.diasFuncionamento.length===0&&(j.diasFuncionamento="Selecione pelo menos um dia de funcionamento"),m.horarioAbertura>=m.horarioFechamento&&(j.horarioAbertura="Horrio de abertura deve ser anterior ao fechamento"),w(j),Object.keys(j).length===0},E=async j=>{if(j.preventDefault(),!!x()){if(!t){w({submit:"Usurio no autenticado. Faa login para continuar."});return}v(!0),w({});try{const $={contribuinte:m.contribuinte,nomeEstabelecimento:m.nomeEstabelecimento,endereco:m.endereco,telefone:m.telefone,email:m.email,criadoPor:t.uid,horarioFuncionamento:{abertura:m.horarioAbertura,fechamento:m.horarioFechamento,diasFuncionamento:m.diasFuncionamento},configuracoesSistema:{intervaloAgendamento:m.intervaloAgendamento,antecedenciaMinima:m.antecedenciaMinima,antecedenciaMaxima:m.antecedenciaMaxima,permiteCancelamento:m.permiteCancelamento,tempoLimiteCancelamento:m.tempoLimiteCancelamento}};s&&n?await i($):await r($),I(!0),setTimeout(()=>{I(!1),c("/store")},2e3)}catch($){console.error("Erro ao salvar configuraes:",$),w({submit:$.message||"Erro ao salvar configuraes"})}finally{v(!1)}}};return d.jsx("div",{className:_e.configurationPage,children:d.jsxs("div",{className:_e.container,children:[d.jsxs("header",{className:_e.header,children:[d.jsx("h1",{children:"Configurao da Barbearia"}),d.jsx("p",{children:"Configure os dados da sua barbearia para comear a usar o sistema"}),s&&d.jsx("div",{className:_e.statusBadge,children:d.jsx("span",{className:_e.configuredBadge,children:" Configurado"})})]}),y&&d.jsx(_t,{variant:"success",className:_e.successAlert,children:" Configuraes salvas com sucesso! Redirecionando..."}),a&&d.jsx(_t,{variant:"danger",className:_e.errorAlert,children:a}),d.jsxs(H,{onSubmit:E,className:_e.form,children:[d.jsxs("section",{className:_e.section,children:[d.jsx("h2",{children:"Dados Bsicos"}),d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Contribuinte *"}),d.jsx(H.Control,{type:"text",value:m.contribuinte,onChange:j=>P("contribuinte",j.target.value.replace(/\D/g,"")),placeholder:"Digite o contribuinte (at 9 dgitos)",maxLength:9,isInvalid:!!S.contribuinte,disabled:s,className:_e.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.contribuinte})]})}),d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Nome do Estabelecimento *"}),d.jsx(H.Control,{type:"text",value:m.nomeEstabelecimento,onChange:j=>P("nomeEstabelecimento",j.target.value),placeholder:"Ex: Barbearia do Joo",isInvalid:!!S.nomeEstabelecimento,className:_e.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.nomeEstabelecimento})]})})]}),d.jsxs(De,{children:[d.jsx(fe,{md:8,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Endereo *"}),d.jsx(H.Control,{type:"text",value:m.endereco,onChange:j=>P("endereco",j.target.value),placeholder:"Rua, nmero, bairro, cidade",isInvalid:!!S.endereco,className:_e.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.endereco})]})}),d.jsx(fe,{md:4,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Telefone *"}),d.jsx(H.Control,{type:"tel",value:m.telefone,onChange:j=>P("telefone",j.target.value),placeholder:"(11) 99999-9999",isInvalid:!!S.telefone,className:_e.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.telefone})]})})]}),d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Email"}),d.jsx(H.Control,{type:"email",value:m.email,onChange:j=>P("email",j.target.value),placeholder:"contato@barbearia.com",className:_e.input})]})]}),d.jsxs("section",{className:_e.section,children:[d.jsx("h2",{children:"Horrio de Funcionamento"}),d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Abertura"}),d.jsx(H.Control,{type:"time",value:m.horarioAbertura,onChange:j=>P("horarioAbertura",j.target.value),isInvalid:!!S.horarioAbertura,className:_e.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:S.horarioAbertura})]})}),d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Fechamento"}),d.jsx(H.Control,{type:"time",value:m.horarioFechamento,onChange:j=>P("horarioFechamento",j.target.value),className:_e.input})]})})]}),d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Dias de Funcionamento *"}),d.jsx("div",{className:_e.checkboxGroup,children:O.map(j=>d.jsx(H.Check,{type:"checkbox",id:`dia-${j}`,label:j.charAt(0).toUpperCase()+j.slice(1),checked:m.diasFuncionamento.includes(j),onChange:$=>L(j,$.target.checked),className:_e.checkbox},j))}),S.diasFuncionamento&&d.jsx("div",{className:_e.errorMessage,children:S.diasFuncionamento})]})]}),d.jsxs("section",{className:_e.section,children:[d.jsx("h2",{children:"Configuraes do Sistema"}),d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Intervalo entre Agendamentos (minutos)"}),d.jsxs(H.Select,{value:m.intervaloAgendamento,onChange:j=>P("intervaloAgendamento",Number(j.target.value)),className:_e.input,children:[d.jsx("option",{value:15,children:"15 minutos"}),d.jsx("option",{value:30,children:"30 minutos"}),d.jsx("option",{value:45,children:"45 minutos"}),d.jsx("option",{value:60,children:"60 minutos"})]})]})}),d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Antecedncia Mnima (horas)"}),d.jsx(H.Control,{type:"number",min:"1",max:"48",value:m.antecedenciaMinima,onChange:j=>P("antecedenciaMinima",Number(j.target.value)),className:_e.input})]})})]}),d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Antecedncia Mxima (dias)"}),d.jsx(H.Control,{type:"number",min:"1",max:"90",value:m.antecedenciaMaxima,onChange:j=>P("antecedenciaMaxima",Number(j.target.value)),className:_e.input})]})}),d.jsx(fe,{md:6,children:m.permiteCancelamento&&d.jsxs(H.Group,{className:_e.inputGroup,children:[d.jsx(H.Label,{children:"Tempo Limite para Cancelamento (horas)"}),d.jsx(H.Control,{type:"number",min:"1",max:"48",value:m.tempoLimiteCancelamento,onChange:j=>P("tempoLimiteCancelamento",Number(j.target.value)),className:_e.input})]})})]}),d.jsx(H.Group,{className:_e.inputGroup,children:d.jsx(H.Check,{type:"checkbox",id:"permiteCancelamento",label:"Permitir cancelamento de agendamentos",checked:m.permiteCancelamento,onChange:j=>P("permiteCancelamento",j.target.checked),className:_e.checkbox})})]}),S.submit&&d.jsx(_t,{variant:"danger",className:_e.errorAlert,children:S.submit}),d.jsxs("div",{className:_e.buttonGroup,children:[d.jsx(je,{variant:"outline-secondary",onClick:()=>c("/"),disabled:C||o,className:_e.cancelButton,children:"Cancelar"}),d.jsx(je,{type:"submit",variant:"primary",disabled:C||o,className:_e.saveButton,children:C?"Salvando...":s?"Atualizar Configuraes":"Criar Barbearia"})]})]})]})})},SB="_storePage_mxvbx_9",xB="_loading_mxvbx_14",AB="_container_mxvbx_21",RB="_header_mxvbx_26",kB="_headerContent_mxvbx_37",bB="_headerActions_mxvbx_51",NB="_newScheduleButton_mxvbx_51",PB="_navigation_mxvbx_65",DB="_navButton_mxvbx_76",OB="_navIcon_mxvbx_91",jB="_active_mxvbx_99",MB="_content_mxvbx_105",LB="_dashboard_mxvbx_108",VB="_statCard_mxvbx_108",FB="_statIcon_mxvbx_125",$B="_statInfo_mxvbx_129",UB="_statNumber_mxvbx_136",BB="_todayCard_mxvbx_142",zB="_upcomingCard_mxvbx_142",HB="_emptyState_mxvbx_163",WB="_appointmentsList_mxvbx_172",qB="_appointmentCard_mxvbx_172",GB="_appointmentTime_mxvbx_187",KB="_duration_mxvbx_198",YB="_appointmentInfo_mxvbx_202",QB="_appointmentStatus_mxvbx_215",XB="_price_mxvbx_221",JB="_upcomingList_mxvbx_226",ZB="_upcomingItem_mxvbx_226",e9="_upcomingDate_mxvbx_239",t9="_upcomingInfo_mxvbx_249",n9="_upcomingTime_mxvbx_253",r9="_upcomingClient_mxvbx_257",i9="_funcionariosSection_mxvbx_261",s9="_sectionHeader_mxvbx_261",o9="_clientesSection_mxvbx_261",a9="_servicosSection_mxvbx_261",l9="_agendamentosSection_mxvbx_261",u9="_funcionarioCard_mxvbx_275",c9="_servicoCard_mxvbx_275",d9="_funcionarioAvatar_mxvbx_291",h9="_especialidades_mxvbx_312",f9="_servicoHeader_mxvbx_315",p9="_servicoDetails_mxvbx_325",m9="_servicoPrice_mxvbx_331",g9="_clienteCard_mxvbx_336",v9="_agendamentoCard_mxvbx_336",y9="_agendamentoDate_mxvbx_360",re={storePage:SB,loading:xB,container:AB,header:RB,headerContent:kB,headerActions:bB,newScheduleButton:NB,navigation:PB,navButton:DB,navIcon:OB,active:jB,content:MB,dashboard:LB,statCard:VB,statIcon:FB,statInfo:$B,statNumber:UB,todayCard:BB,upcomingCard:zB,emptyState:HB,appointmentsList:WB,appointmentCard:qB,appointmentTime:GB,duration:KB,appointmentInfo:YB,appointmentStatus:QB,price:XB,upcomingList:JB,upcomingItem:ZB,upcomingDate:e9,upcomingInfo:t9,upcomingTime:n9,upcomingClient:r9,funcionariosSection:i9,sectionHeader:s9,clientesSection:o9,servicosSection:a9,agendamentosSection:l9,funcionarioCard:u9,servicoCard:c9,funcionarioAvatar:d9,especialidades:h9,servicoHeader:f9,servicoDetails:p9,servicoPrice:m9,clienteCard:g9,agendamentoCard:v9,agendamentoDate:y9},_9=()=>{var O;const{user:t}=Ur(),{barbearia:e}=Br(),{funcionarios:n,clientes:r,servicos:i,agendamentos:s,getAgendamentosByDate:o,getFuncionariosAtivos:a,loading:l}=Ug(),{formatDate:c}=lx(),h=ji(),[p,m]=_.useState("dashboard"),T=new Date,S=o(T),w=a(),C=r.filter(P=>P.ativo),v=i.filter(P=>P.ativo),y=S.filter(P=>P.status==="concluido").reduce((P,L)=>P+L.precoTotal,0),I=s.filter(P=>P.data>=T&&P.status==="agendado").sort((P,L)=>new Date(P.data).getTime()-new Date(L.data).getTime()).slice(0,5);return l?d.jsx("div",{className:re.loading,children:d.jsx("div",{className:"text-center",children:d.jsx("h2",{children:"Carregando dados..."})})}):d.jsx("div",{className:re.storePage,children:d.jsxs("div",{className:re.container,children:[d.jsxs("header",{className:re.header,children:[d.jsxs("div",{className:re.headerContent,children:[d.jsxs("h1",{children:["Dashboard - ",e==null?void 0:e.nomeEstabelecimento]}),d.jsxs("p",{children:["Bem-vindo, ",(t==null?void 0:t.displayName)||((O=t==null?void 0:t.email)==null?void 0:O.split("@")[0])]})]}),d.jsx("div",{className:re.headerActions,children:d.jsx(je,{variant:"primary",onClick:()=>h("/create-schedule"),className:re.newScheduleButton,children:"+ Nova Marcao"})})]}),d.jsx("nav",{className:re.navigation,children:[{key:"dashboard",label:"Dashboard",icon:""},{key:"funcionarios",label:"Funcionrios",icon:""},{key:"clientes",label:"Clientes",icon:""},{key:"servicos",label:"Servios",icon:""},{key:"agendamentos",label:"Agendamentos",icon:""}].map(P=>d.jsxs("button",{className:`${re.navButton} ${p===P.key?re.active:""}`,onClick:()=>m(P.key),children:[d.jsx("span",{className:re.navIcon,children:P.icon}),P.label]},P.key))}),d.jsxs("main",{className:re.content,children:[p==="dashboard"&&d.jsxs("div",{className:re.dashboard,children:[d.jsxs(De,{className:"mb-4",children:[d.jsx(fe,{md:3,children:d.jsx(he,{className:re.statCard,children:d.jsxs(he.Body,{children:[d.jsx("div",{className:re.statIcon,children:""}),d.jsxs("div",{className:re.statInfo,children:[d.jsx("h3",{children:"Funcionrios"}),d.jsx("span",{className:re.statNumber,children:w.length})]})]})})}),d.jsx(fe,{md:3,children:d.jsx(he,{className:re.statCard,children:d.jsxs(he.Body,{children:[d.jsx("div",{className:re.statIcon,children:""}),d.jsxs("div",{className:re.statInfo,children:[d.jsx("h3",{children:"Clientes"}),d.jsx("span",{className:re.statNumber,children:C.length})]})]})})}),d.jsx(fe,{md:3,children:d.jsx(he,{className:re.statCard,children:d.jsxs(he.Body,{children:[d.jsx("div",{className:re.statIcon,children:""}),d.jsxs("div",{className:re.statInfo,children:[d.jsx("h3",{children:"Servios"}),d.jsx("span",{className:re.statNumber,children:v.length})]})]})})}),d.jsx(fe,{md:3,children:d.jsx(he,{className:re.statCard,children:d.jsxs(he.Body,{children:[d.jsx("div",{className:re.statIcon,children:""}),d.jsxs("div",{className:re.statInfo,children:[d.jsx("h3",{children:"Faturamento Hoje"}),d.jsxs("span",{className:re.statNumber,children:["R$ ",y.toFixed(2)]})]})]})})})]}),d.jsxs(De,{children:[d.jsx(fe,{md:8,children:d.jsxs(he,{className:re.todayCard,children:[d.jsx(he.Header,{children:d.jsxs("h3",{children:["Agendamentos de Hoje (",S.length,")"]})}),d.jsx(he.Body,{children:S.length===0?d.jsx("div",{className:re.emptyState,children:d.jsx("p",{children:"Nenhum agendamento para hoje"})}):d.jsx("div",{className:re.appointmentsList,children:S.map(P=>{const L=r.find(R=>R.id===P.clienteId),x=n.find(R=>R.id===P.funcionarioId),E=i.filter(R=>P.servicoIds.includes(R.id));return d.jsxs("div",{className:re.appointmentCard,children:[d.jsxs("div",{className:re.appointmentTime,children:[d.jsx("span",{children:P.horarioInicio}),d.jsxs("span",{className:re.duration,children:[E.reduce((R,b)=>R+b.duracao,0),"min"]})]}),d.jsxs("div",{className:re.appointmentInfo,children:[d.jsx("h4",{children:(L==null?void 0:L.nome)||"Cliente no encontrado"}),d.jsxs("p",{children:["Funcionrio: ",x==null?void 0:x.nome]}),d.jsxs("p",{children:["Servios: ",E.map(R=>R.nome).join(", ")]})]}),d.jsxs("div",{className:re.appointmentStatus,children:[d.jsx(eo,{bg:P.status==="agendado"?"warning":P.status==="confirmado"?"success":P.status==="concluido"?"primary":"danger",children:P.status.replace("_"," ").toUpperCase()}),d.jsxs("span",{className:re.price,children:["R$ ",P.precoTotal.toFixed(2)]})]})]},P.id)})})})]})}),d.jsx(fe,{md:4,children:d.jsxs(he,{className:re.upcomingCard,children:[d.jsx(he.Header,{children:d.jsx("h3",{children:"Prximos Agendamentos"})}),d.jsx(he.Body,{children:I.length===0?d.jsx("div",{className:re.emptyState,children:d.jsx("p",{children:"Nenhum agendamento prximo"})}):d.jsx("div",{className:re.upcomingList,children:I.map(P=>{const L=r.find(x=>x.id===P.clienteId);return d.jsxs("div",{className:re.upcomingItem,children:[d.jsx("div",{className:re.upcomingDate,children:c(P.data,"DD/MM")}),d.jsxs("div",{className:re.upcomingInfo,children:[d.jsx("span",{className:re.upcomingTime,children:P.horarioInicio}),d.jsx("span",{className:re.upcomingClient,children:L==null?void 0:L.nome})]})]},P.id)})})})]})})]})]}),p==="funcionarios"&&d.jsxs("div",{className:re.funcionariosSection,children:[d.jsxs("div",{className:re.sectionHeader,children:[d.jsx("h2",{children:"Funcionrios"}),d.jsx(je,{variant:"primary",children:"+ Adicionar Funcionrio"})]}),d.jsx(De,{children:w.map(P=>d.jsx(fe,{md:4,className:"mb-3",children:d.jsx(he,{className:re.funcionarioCard,children:d.jsxs(he.Body,{children:[d.jsx("div",{className:re.funcionarioAvatar,children:P.nome.charAt(0)}),d.jsx("h4",{children:P.nome}),d.jsx("p",{children:P.email}),d.jsx("p",{children:P.telefone}),d.jsx("div",{className:re.especialidades,children:P.especialidades.map(L=>d.jsx(eo,{bg:"secondary",className:"me-1",children:L},L))})]})})},P.id))})]}),p==="clientes"&&d.jsxs("div",{className:re.clientesSection,children:[d.jsxs("div",{className:re.sectionHeader,children:[d.jsx("h2",{children:"Clientes"}),d.jsx(je,{variant:"primary",children:"+ Adicionar Cliente"})]}),d.jsx("div",{className:re.clientesList,children:C.map(P=>d.jsx(he,{className:re.clienteCard,children:d.jsx(he.Body,{children:d.jsxs(De,{children:[d.jsxs(fe,{md:8,children:[d.jsx("h4",{children:P.nome}),d.jsx("p",{children:P.email}),d.jsx("p",{children:P.telefone})]}),d.jsxs(fe,{md:4,className:"text-end",children:[d.jsxs("p",{children:["Visitas: ",P.totalVisitas]}),P.ultimaVisita&&d.jsxs("p",{children:["ltima: ",c(P.ultimaVisita,"DD/MM/YYYY")]})]})]})})},P.id))})]}),p==="servicos"&&d.jsxs("div",{className:re.servicosSection,children:[d.jsxs("div",{className:re.sectionHeader,children:[d.jsx("h2",{children:"Servios"}),d.jsx(je,{variant:"primary",children:"+ Adicionar Servio"})]}),d.jsx(De,{children:v.map(P=>d.jsx(fe,{md:4,className:"mb-3",children:d.jsx(he,{className:re.servicoCard,children:d.jsxs(he.Body,{children:[d.jsxs("div",{className:re.servicoHeader,children:[d.jsx("h4",{children:P.nome}),d.jsx(eo,{bg:"info",children:P.categoria})]}),d.jsx("p",{children:P.descricao}),d.jsxs("div",{className:re.servicoDetails,children:[d.jsxs("span",{children:[P.duracao," min"]}),d.jsxs("span",{className:re.servicoPrice,children:["R$ ",P.preco.toFixed(2)]})]})]})})},P.id))})]}),p==="agendamentos"&&d.jsxs("div",{className:re.agendamentosSection,children:[d.jsxs("div",{className:re.sectionHeader,children:[d.jsx("h2",{children:"Todos os Agendamentos"}),d.jsx(je,{variant:"primary",onClick:()=>h("/create-schedule"),children:"+ Novo Agendamento"})]}),d.jsx("div",{className:re.agendamentosList,children:s.slice(0,10).map(P=>{const L=r.find(E=>E.id===P.clienteId),x=n.find(E=>E.id===P.funcionarioId);return d.jsx(he,{className:re.agendamentoCard,children:d.jsx(he.Body,{children:d.jsxs(De,{children:[d.jsx(fe,{md:2,children:d.jsxs("div",{className:re.agendamentoDate,children:[c(P.data,"DD/MM"),d.jsx("br",{}),P.horarioInicio]})}),d.jsxs(fe,{md:6,children:[d.jsx("h5",{children:L==null?void 0:L.nome}),d.jsxs("p",{children:["Funcionrio: ",x==null?void 0:x.nome]})]}),d.jsx(fe,{md:2,children:d.jsx(eo,{bg:P.status==="agendado"?"warning":P.status==="confirmado"?"success":P.status==="concluido"?"primary":"danger",children:P.status.toUpperCase()})}),d.jsx(fe,{md:2,className:"text-end",children:d.jsxs("strong",{children:["R$ ",P.precoTotal.toFixed(2)]})})]})})},P.id)})})]})]})]})})},w9="_createSchedulePage_drrj1_10",E9="_loading_drrj1_16",T9="_container_drrj1_28",I9="_header_drrj1_32",C9="_successAlert_drrj1_55",S9="_errorAlert_drrj1_55",x9="_progressSteps_drrj1_72",A9="_step_drrj1_84",R9="_active_drrj1_102",k9="_completed_drrj1_108",b9="_stepIcon_drrj1_113",N9="_stepLabel_drrj1_133",P9="_form_drrj1_140",D9="_stepCard_drrj1_140",O9="_inputGroup_drrj1_165",j9="_input_drrj1_165",M9="_newClientSection_drrj1_200",L9="_newClientButton_drrj1_205",V9="_funcionarioCard_drrj1_220",F9="_selected_drrj1_235",$9="_funcionarioAvatar_drrj1_240",U9="_especialidades_drrj1_259",B9="_especialidadeTag_drrj1_265",z9="_servicoCard_drrj1_274",H9="_servicoHeader_drrj1_294",W9="_servicoCategoria_drrj1_306",q9="_servicoDescricao_drrj1_315",G9="_servicoDetails_drrj1_321",K9="_servicoDuracao_drrj1_326",Y9="_servicoPreco_drrj1_330",Q9="_selectedIcon_drrj1_335",X9="_servicosSummary_drrj1_351",J9="_summaryDetails_drrj1_363",Z9="_dateInfo_drrj1_372",e3="_timeSlots_drrj1_384",t3="_timeSlot_drrj1_384",n3="_confirmationSummary_drrj1_411",r3="_summarySection_drrj1_411",i3="_totalPrice_drrj1_444",s3="_errorMessage_drrj1_451",o3="_navigationButtons_drrj1_462",a3="_navButton_drrj1_473",l3="_submitButton_drrj1_501",oe={createSchedulePage:w9,loading:E9,container:T9,header:I9,successAlert:C9,errorAlert:S9,progressSteps:x9,step:A9,active:R9,completed:k9,stepIcon:b9,stepLabel:N9,form:P9,stepCard:D9,inputGroup:O9,input:j9,newClientSection:M9,newClientButton:L9,funcionarioCard:V9,selected:F9,funcionarioAvatar:$9,especialidades:U9,especialidadeTag:B9,servicoCard:z9,servicoHeader:H9,servicoCategoria:W9,servicoDescricao:q9,servicoDetails:G9,servicoDuracao:K9,servicoPreco:Y9,selectedIcon:Q9,servicosSummary:X9,summaryDetails:J9,dateInfo:Z9,timeSlots:e3,timeSlot:t3,confirmationSummary:n3,summarySection:r3,totalPrice:i3,errorMessage:s3,navigationButtons:o3,navButton:a3,submitButton:l3},u3=()=>{var ze,Le;Ur();const{barbearia:t}=Br(),{funcionarios:e,clientes:n,servicos:r,createAgendamento:i,addCliente:s,calculateTotalPrice:o,loading:a,error:l}=Ug(),{formatDate:c,formatTime:h,isPast:p,isWorkingDay:m,getTimeSlots:T}=lx(),S=ji(),[w,C]=_.useState({clienteId:"",funcionarioId:"",servicoIds:[],data:null,horarioInicio:"",observacoes:"",novoCliente:{nome:"",email:"",telefone:""}}),[v,y]=_.useState({}),[I,O]=_.useState(!1),[P,L]=_.useState(!1),[x,E]=_.useState(!1),[R,b]=_.useState(!1),[N,D]=_.useState([]),[A,W]=_.useState("cliente"),U=r.filter(q=>w.servicoIds.includes(q.id)),M=U.reduce((q,le)=>q+le.duracao,0),B=o(w.servicoIds);_.useEffect(()=>{w.data&&w.funcionarioId&&t&&j()},[w.data,w.funcionarioId,U,t]);const j=()=>{if(!w.data||!t)return;const q=ut(w.data);if(!m(q,t.horarioFuncionamento.diasFuncionamento)){D([]);return}const le=T(q,t.horarioFuncionamento.abertura,t.horarioFuncionamento.fechamento,t.configuracoesSistema.intervaloAgendamento);D(le)},$=(q,le)=>{C(Ae=>({...Ae,[q]:le})),v[q]&&y(Ae=>({...Ae,[q]:void 0}))},V=(q,le)=>{C(Ae=>({...Ae,novoCliente:{...Ae.novoCliente,[q]:le}}))},Q=q=>{const le=w.servicoIds.includes(q)?w.servicoIds.filter(Ae=>Ae!==q):[...w.servicoIds,q];$("servicoIds",le)},Z=async()=>{b(!0);try{const q=await s({nome:w.novoCliente.nome,email:w.novoCliente.email,telefone:w.novoCliente.telefone});$("clienteId",q),E(!1),C(le=>({...le,novoCliente:{nome:"",email:"",telefone:""}}))}catch(q){y({newClient:q.message})}finally{b(!1)}},te=()=>{const q={};return w.clienteId||(q.clienteId="Selecione um cliente"),w.funcionarioId||(q.funcionarioId="Selecione um funcionrio"),w.servicoIds.length===0&&(q.servicoIds="Selecione pelo menos um servio"),w.data?p(w.data)&&(q.data="Data no pode ser no passado"):q.data="Selecione uma data",w.horarioInicio||(q.horarioInicio="Selecione um horrio"),y(q),Object.keys(q).length===0},G=async q=>{if(q.preventDefault(),!!te()){O(!0),y({});try{const[le,Ae]=w.horarioInicio.split(":").map(Number),He=new Date(w.data);He.setHours(le,Ae,0,0);const tt=new Date(He);tt.setMinutes(tt.getMinutes()+M);const we={clienteId:w.clienteId,funcionarioId:w.funcionarioId,servicoIds:w.servicoIds,data:w.data,horarioInicio:w.horarioInicio,horarioFim:h(tt),status:"agendado",observacoes:w.observacoes,precoTotal:B,pago:!1};await i(we),L(!0),setTimeout(()=>{S("/store")},2e3)}catch(le){console.error("Erro ao criar agendamento:",le),y({submit:le.message||"Erro ao criar agendamento"})}finally{O(!1)}}},Y=()=>{const q=["cliente","funcionario","servicos","data","horario","confirmacao"],le=q.indexOf(A);le<q.length-1&&W(q[le+1])},ce=()=>{const q=["cliente","funcionario","servicos","data","horario","confirmacao"],le=q.indexOf(A);le>0&&W(q[le-1])},Ee=()=>{switch(A){case"cliente":return!!w.clienteId;case"funcionario":return!!w.funcionarioId;case"servicos":return w.servicoIds.length>0;case"data":return!!w.data;case"horario":return!!w.horarioInicio;default:return!0}};return a?d.jsx("div",{className:oe.loading,children:d.jsx("h2",{children:"Carregando dados..."})}):d.jsx("div",{className:oe.createSchedulePage,children:d.jsxs("div",{className:oe.container,children:[d.jsxs("header",{className:oe.header,children:[d.jsx("h1",{children:"Nova Marcao"}),d.jsx("p",{children:"Agende um horrio para seu cliente"})]}),P&&d.jsx(_t,{variant:"success",className:oe.successAlert,children:" Agendamento criado com sucesso! Redirecionando..."}),l&&d.jsx(_t,{variant:"danger",className:oe.errorAlert,children:l}),d.jsx("div",{className:oe.progressSteps,children:[{key:"cliente",label:"Cliente",icon:""},{key:"funcionario",label:"Funcionrio",icon:""},{key:"servicos",label:"Servios",icon:""},{key:"data",label:"Data",icon:""},{key:"horario",label:"Horrio",icon:""},{key:"confirmacao",label:"Confirmao",icon:""}].map((q,le)=>d.jsxs("div",{className:`${oe.step} ${A===q.key?oe.active:""} ${["cliente","funcionario","servicos","data","horario"].indexOf(A)>le?oe.completed:""}`,onClick:()=>W(q.key),children:[d.jsx("div",{className:oe.stepIcon,children:q.icon}),d.jsx("span",{className:oe.stepLabel,children:q.label})]},q.key))}),d.jsxs(H,{onSubmit:G,className:oe.form,children:[A==="cliente"&&d.jsxs(he,{className:oe.stepCard,children:[d.jsx(he.Header,{children:d.jsx("h3",{children:"Selecionar Cliente"})}),d.jsx(he.Body,{children:d.jsxs(De,{children:[d.jsx(fe,{md:8,children:d.jsxs(H.Group,{className:oe.inputGroup,children:[d.jsx(H.Label,{children:"Cliente *"}),d.jsxs(H.Select,{value:w.clienteId,onChange:q=>$("clienteId",q.target.value),isInvalid:!!v.clienteId,className:oe.input,children:[d.jsx("option",{value:"",children:"Selecione um cliente"}),n.map(q=>d.jsxs("option",{value:q.id,children:[q.nome," - ",q.telefone]},q.id))]}),d.jsx(H.Control.Feedback,{type:"invalid",children:v.clienteId})]})}),d.jsx(fe,{md:4,children:d.jsx("div",{className:oe.newClientSection,children:d.jsx(je,{variant:"outline-primary",onClick:()=>E(!0),className:oe.newClientButton,children:"+ Novo Cliente"})})})]})})]}),A==="funcionario"&&d.jsxs(he,{className:oe.stepCard,children:[d.jsx(he.Header,{children:d.jsx("h3",{children:"Selecionar Funcionrio"})}),d.jsxs(he.Body,{children:[d.jsx(De,{children:e.filter(q=>q.ativo).map(q=>d.jsx(fe,{md:6,lg:4,className:"mb-3",children:d.jsxs("div",{className:`${oe.funcionarioCard} ${w.funcionarioId===q.id?oe.selected:""}`,onClick:()=>$("funcionarioId",q.id),children:[d.jsx("div",{className:oe.funcionarioAvatar,children:q.nome.charAt(0)}),d.jsx("h4",{children:q.nome}),d.jsx("div",{className:oe.especialidades,children:q.especialidades.map(le=>d.jsx("span",{className:oe.especialidadeTag,children:le},le))})]})},q.id))}),v.funcionarioId&&d.jsx("div",{className:oe.errorMessage,children:v.funcionarioId})]})]}),A==="servicos"&&d.jsxs(he,{className:oe.stepCard,children:[d.jsx(he.Header,{children:d.jsx("h3",{children:"Selecionar Servios"})}),d.jsxs(he.Body,{children:[d.jsx(De,{children:r.filter(q=>q.ativo).map(q=>d.jsx(fe,{md:6,lg:4,className:"mb-3",children:d.jsxs("div",{className:`${oe.servicoCard} ${w.servicoIds.includes(q.id)?oe.selected:""}`,onClick:()=>Q(q.id),children:[d.jsxs("div",{className:oe.servicoHeader,children:[d.jsx("h4",{children:q.nome}),d.jsx("span",{className:oe.servicoCategoria,children:q.categoria})]}),d.jsx("p",{className:oe.servicoDescricao,children:q.descricao}),d.jsxs("div",{className:oe.servicoDetails,children:[d.jsxs("span",{className:oe.servicoDuracao,children:[q.duracao," min"]}),d.jsxs("span",{className:oe.servicoPreco,children:["R$ ",q.preco.toFixed(2)]})]}),w.servicoIds.includes(q.id)&&d.jsx("div",{className:oe.selectedIcon,children:""})]})},q.id))}),U.length>0&&d.jsxs("div",{className:oe.servicosSummary,children:[d.jsx("h5",{children:"Servios Selecionados:"}),d.jsxs("div",{className:oe.summaryDetails,children:[d.jsxs("span",{children:["Durao Total: ",M," minutos"]}),d.jsxs("span",{children:["Preo Total: R$ ",B.toFixed(2)]})]})]}),v.servicoIds&&d.jsx("div",{className:oe.errorMessage,children:v.servicoIds})]})]}),A==="data"&&d.jsxs(he,{className:oe.stepCard,children:[d.jsx(he.Header,{children:d.jsx("h3",{children:"Selecionar Data"})}),d.jsxs(he.Body,{children:[d.jsxs(H.Group,{className:oe.inputGroup,children:[d.jsx(H.Label,{children:"Data do Agendamento *"}),d.jsx(H.Control,{type:"date",value:w.data?w.data.toISOString().split("T")[0]:"",onChange:q=>{const le=q.target.value?new Date(q.target.value+"T00:00:00"):null;$("data",le)},min:new Date().toISOString().split("T")[0],isInvalid:!!v.data,className:oe.input}),d.jsx(H.Control.Feedback,{type:"invalid",children:v.data})]}),w.data&&t&&d.jsxs("div",{className:oe.dateInfo,children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Data selecionada:"})," ",c(w.data,"dddd, DD [de] MMMM [de] YYYY")]}),!m(w.data,t.horarioFuncionamento.diasFuncionamento)&&d.jsx(_t,{variant:"warning",children:"Esta data no est nos dias de funcionamento da barbearia."})]})]})]}),A==="horario"&&d.jsxs(he,{className:oe.stepCard,children:[d.jsx(he.Header,{children:d.jsx("h3",{children:"Selecionar Horrio"})}),d.jsxs(he.Body,{children:[N.length===0?d.jsx(_t,{variant:"info",children:"Nenhum horrio disponvel para a data selecionada."}):d.jsx("div",{className:oe.timeSlots,children:N.map(q=>d.jsx("button",{type:"button",className:`${oe.timeSlot} ${w.horarioInicio===q?oe.selected:""}`,onClick:()=>$("horarioInicio",q),children:q},q))}),v.horarioInicio&&d.jsx("div",{className:oe.errorMessage,children:v.horarioInicio})]})]}),A==="confirmacao"&&d.jsxs(he,{className:oe.stepCard,children:[d.jsx(he.Header,{children:d.jsx("h3",{children:"Confirmar Agendamento"})}),d.jsxs(he.Body,{children:[d.jsxs("div",{className:oe.confirmationSummary,children:[d.jsxs("div",{className:oe.summarySection,children:[d.jsx("h5",{children:"Cliente:"}),d.jsx("p",{children:(ze=n.find(q=>q.id===w.clienteId))==null?void 0:ze.nome})]}),d.jsxs("div",{className:oe.summarySection,children:[d.jsx("h5",{children:"Funcionrio:"}),d.jsx("p",{children:(Le=e.find(q=>q.id===w.funcionarioId))==null?void 0:Le.nome})]}),d.jsxs("div",{className:oe.summarySection,children:[d.jsx("h5",{children:"Servios:"}),d.jsx("ul",{children:U.map(q=>d.jsxs("li",{children:[q.nome," - ",q.duracao,"min - R$ ",q.preco.toFixed(2)]},q.id))})]}),d.jsxs("div",{className:oe.summarySection,children:[d.jsx("h5",{children:"Data e Horrio:"}),d.jsxs("p",{children:[w.data&&c(w.data,"DD/MM/YYYY")," s ",w.horarioInicio]}),d.jsxs("p",{children:["Durao total: ",M," minutos"]})]}),d.jsxs("div",{className:oe.summarySection,children:[d.jsx("h5",{children:"Valor Total:"}),d.jsxs("p",{className:oe.totalPrice,children:["R$ ",B.toFixed(2)]})]})]}),d.jsxs(H.Group,{className:oe.inputGroup,children:[d.jsx(H.Label,{children:"Observaes"}),d.jsx(H.Control,{as:"textarea",rows:3,value:w.observacoes,onChange:q=>$("observacoes",q.target.value),placeholder:"Observaes adicionais (opcional)",className:oe.input})]}),v.submit&&d.jsx(_t,{variant:"danger",className:oe.errorAlert,children:v.submit})]})]}),d.jsxs("div",{className:oe.navigationButtons,children:[d.jsx(je,{variant:"outline-secondary",onClick:ce,disabled:A==="cliente",className:oe.navButton,children:" Anterior"}),A!=="confirmacao"?d.jsx(je,{variant:"primary",onClick:Y,disabled:!Ee(),className:oe.navButton,children:"Prximo "}):d.jsx(je,{type:"submit",variant:"success",disabled:I||!Ee(),className:oe.submitButton,children:I?"Criando...":"Confirmar Agendamento"})]})]}),d.jsxs($t,{show:x,onHide:()=>E(!1),size:"lg",children:[d.jsx($t.Header,{closeButton:!0,children:d.jsx($t.Title,{children:"Novo Cliente"})}),d.jsxs($t.Body,{children:[d.jsxs(H,{children:[d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Nome *"}),d.jsx(H.Control,{type:"text",value:w.novoCliente.nome,onChange:q=>V("nome",q.target.value),placeholder:"Nome completo"})]})}),d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Telefone *"}),d.jsx(H.Control,{type:"tel",value:w.novoCliente.telefone,onChange:q=>V("telefone",q.target.value),placeholder:"(11) 99999-9999"})]})})]}),d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Email *"}),d.jsx(H.Control,{type:"email",value:w.novoCliente.email,onChange:q=>V("email",q.target.value),placeholder:"email@exemplo.com"})]})]}),v.newClient&&d.jsx(_t,{variant:"danger",children:v.newClient})]}),d.jsxs($t.Footer,{children:[d.jsx(je,{variant:"secondary",onClick:()=>E(!1),children:"Cancelar"}),d.jsx(je,{variant:"primary",onClick:Z,disabled:R||!w.novoCliente.nome||!w.novoCliente.email||!w.novoCliente.telefone,children:R?"Criando...":"Criar Cliente"})]})]})]})})},c3="_funcionariosPage_f7hdr_9",d3="_loading_f7hdr_15",h3="_container_f7hdr_27",f3="_header_f7hdr_31",p3="_headerContent_f7hdr_42",m3="_newButton_f7hdr_56",g3="_successAlert_f7hdr_70",v3="_errorAlert_f7hdr_70",y3="_funcionariosList_f7hdr_87",_3="_emptyState_f7hdr_90",w3="_emptyContent_f7hdr_101",E3="_funcionarioCard_f7hdr_112",T3="_funcionarioHeader_f7hdr_132",I3="_funcionarioAvatar_f7hdr_138",C3="_funcionarioInfo_f7hdr_152",S3="_funcionarioEmail_f7hdr_161",x3="_funcionarioTelefone_f7hdr_162",A3="_especialidades_f7hdr_168",R3="_especialidadesTags_f7hdr_179",k3="_especialidadeTag_f7hdr_184",b3="_horarioResumo_f7hdr_193",N3="_diasTrabalho_f7hdr_204",P3="_diaTag_f7hdr_209",D3="_ativo_f7hdr_220",O3="_inativo_f7hdr_225",j3="_financeiro_f7hdr_230",M3="_funcionarioActions_f7hdr_245",L3="_modalSection_f7hdr_275",V3="_especialidadesGrid_f7hdr_328",F3="_especialidadeCheck_f7hdr_333",$3="_errorMessage_f7hdr_351",Ce={funcionariosPage:c3,loading:d3,container:h3,header:f3,headerContent:p3,newButton:m3,successAlert:g3,errorAlert:v3,funcionariosList:y3,emptyState:_3,emptyContent:w3,funcionarioCard:E3,funcionarioHeader:T3,funcionarioAvatar:I3,funcionarioInfo:C3,funcionarioEmail:S3,funcionarioTelefone:x3,especialidades:A3,especialidadesTags:R3,especialidadeTag:k3,horarioResumo:b3,diasTrabalho:N3,diaTag:P3,ativo:D3,inativo:O3,financeiro:j3,funcionarioActions:M3,modalSection:L3,especialidadesGrid:V3,especialidadeCheck:F3,errorMessage:$3},U3=()=>{const{barbearia:t}=Br(),{addFuncionario:e,updateFuncionario:n,removeFuncionario:r,getFuncionariosAtivos:i,loading:s,error:o}=Ug(),[a,l]=_.useState(!1),[c,h]=_.useState(null),[p,m]=_.useState(!1),[T,S]=_.useState(!1),[w,C]=_.useState({}),[v,y]=_.useState({nome:"",email:"",telefone:"",especialidades:[],horarioTrabalho:{},salario:0,comissao:0}),I=["segunda","tera","quarta","quinta","sexta","sbado","domingo"],O=["Corte Masculino","Corte Feminino","Barba","Bigode","Sobrancelha","Colorao","Luzes","Escova","Penteado","Tratamento Capilar"],P=i().filter(M=>!M.nome.includes("Todos"));_.useEffect(()=>{c?y({nome:c.nome,email:c.email||"",telefone:c.telefone||"",especialidades:c.especialidades,horarioTrabalho:c.horarioTrabalho,salario:c.salario||0,comissao:c.comissao||0}):L()},[c]);const L=()=>{y({nome:"",email:"",telefone:"",especialidades:[],horarioTrabalho:{},salario:0,comissao:0}),C({})},x=(M,B)=>{y(j=>({...j,[M]:B})),w[M]&&C(j=>({...j,[M]:void 0}))},E=M=>{const B=v.especialidades.includes(M)?v.especialidades.filter(j=>j!==M):[...v.especialidades,M];x("especialidades",B)},R=(M,B,j)=>{const $={...v.horarioTrabalho,[M]:{...v.horarioTrabalho[M],[B]:j}};B==="trabalhando"&&!j&&($[M]={inicio:"",fim:"",trabalhando:!1}),x("horarioTrabalho",$)},b=()=>{const M={};v.nome.trim()||(M.nome="Nome  obrigatrio"),v.email&&!/\S+@\S+\.\S+/.test(v.email)&&(M.email="Email deve ter um formato vlido"),v.especialidades.length===0&&(M.especialidades="Selecione pelo menos uma especialidade");const B=Object.keys(v.horarioTrabalho).filter(j=>{var $;return($=v.horarioTrabalho[j])==null?void 0:$.trabalhando});if(B.length===0)M.horarioTrabalho="Defina pelo menos um dia de trabalho";else for(const j of B){const $=v.horarioTrabalho[j];if(!($!=null&&$.inicio)||!($!=null&&$.fim)){M.horarioTrabalho="Preencha os horrios para todos os dias de trabalho";break}if($.inicio>=$.fim){M.horarioTrabalho="Horrio de incio deve ser anterior ao fim";break}}return C(M),Object.keys(M).length===0},N=async M=>{if(M.preventDefault(),!!b()){m(!0),C({});try{const B={nome:v.nome,email:v.email||void 0,telefone:v.telefone||void 0,especialidades:v.especialidades,horarioTrabalho:v.horarioTrabalho,salario:v.salario||void 0,comissao:v.comissao||void 0};c?await n(c.id,B):await e(B),S(!0),l(!1),h(null),L(),setTimeout(()=>S(!1),3e3)}catch(B){console.error("Erro ao salvar funcionrio:",B),C({submit:B.message||"Erro ao salvar funcionrio"})}finally{m(!1)}}},D=M=>{h(M),l(!0)},A=async M=>{if(window.confirm(`Tem certeza que deseja remover ${M.nome}?`))try{await r(M.id),S(!0),setTimeout(()=>S(!1),3e3)}catch(B){C({general:B.message||"Erro ao remover funcionrio"})}},W=()=>{h(null),l(!0)},U=()=>{l(!1),h(null),L()};return s?d.jsx("div",{className:Ce.loading,children:d.jsx("h2",{children:"Carregando funcionrios..."})}):d.jsx("div",{className:Ce.funcionariosPage,children:d.jsxs("div",{className:Ce.container,children:[d.jsxs("header",{className:Ce.header,children:[d.jsxs("div",{className:Ce.headerContent,children:[d.jsx("h1",{children:"Gerenciar Funcionrios"}),d.jsxs("p",{children:["Cadastre e gerencie os funcionrios da ",t==null?void 0:t.nomeEstabelecimento]})]}),d.jsx(je,{variant:"primary",onClick:W,className:Ce.newButton,children:"+ Novo Funcionrio"})]}),T&&d.jsx(_t,{variant:"success",className:Ce.successAlert,children:" Operao realizada com sucesso!"}),o&&d.jsx(_t,{variant:"danger",className:Ce.errorAlert,children:o}),w.general&&d.jsx(_t,{variant:"danger",className:Ce.errorAlert,children:w.general}),d.jsx("div",{className:Ce.funcionariosList,children:P.length===0?d.jsx(he,{className:Ce.emptyState,children:d.jsx(he.Body,{children:d.jsxs("div",{className:Ce.emptyContent,children:[d.jsx("h3",{children:"Nenhum funcionrio cadastrado"}),d.jsx("p",{children:"Comece adicionando o primeiro funcionrio da sua barbearia"}),d.jsx(je,{variant:"primary",onClick:W,children:"Adicionar Funcionrio"})]})})}):d.jsx(De,{children:P.map(M=>d.jsx(fe,{lg:6,xl:4,className:"mb-4",children:d.jsx(he,{className:Ce.funcionarioCard,children:d.jsxs(he.Body,{children:[d.jsxs("div",{className:Ce.funcionarioHeader,children:[d.jsx("div",{className:Ce.funcionarioAvatar,children:M.nome.charAt(0)}),d.jsxs("div",{className:Ce.funcionarioInfo,children:[d.jsx("h4",{children:M.nome}),M.email&&d.jsx("p",{className:Ce.funcionarioEmail,children:M.email}),M.telefone&&d.jsx("p",{className:Ce.funcionarioTelefone,children:M.telefone})]})]}),d.jsxs("div",{className:Ce.especialidades,children:[d.jsx("h5",{children:"Especialidades:"}),d.jsx("div",{className:Ce.especialidadesTags,children:M.especialidades.map(B=>d.jsx(eo,{bg:"secondary",className:Ce.especialidadeTag,children:B},B))})]}),d.jsxs("div",{className:Ce.horarioResumo,children:[d.jsx("h5",{children:"Dias de Trabalho:"}),d.jsx("div",{className:Ce.diasTrabalho,children:I.map(B=>{const j=M.horarioTrabalho[B],$=j==null?void 0:j.trabalhando;return d.jsx("span",{className:`${Ce.diaTag} ${$?Ce.ativo:Ce.inativo}`,children:B.charAt(0).toUpperCase()},B)})})]}),(M.salario||M.comissao)&&d.jsxs("div",{className:Ce.financeiro,children:[M.salario&&d.jsxs("p",{children:["Salrio: R$ ",M.salario.toFixed(2)]}),M.comissao&&d.jsxs("p",{children:["Comisso: ",M.comissao,"%"]})]}),d.jsxs("div",{className:Ce.funcionarioActions,children:[d.jsx(je,{variant:"outline-primary",size:"sm",onClick:()=>D(M),children:"Editar"}),d.jsx(je,{variant:"outline-danger",size:"sm",onClick:()=>A(M),children:"Remover"})]})]})})},M.id))})}),d.jsxs($t,{show:a,onHide:U,size:"lg",children:[d.jsx($t.Header,{closeButton:!0,children:d.jsx($t.Title,{children:c?"Editar Funcionrio":"Novo Funcionrio"})}),d.jsxs(H,{onSubmit:N,children:[d.jsxs($t.Body,{children:[d.jsxs(he,{className:Ce.modalSection,children:[d.jsx(he.Header,{children:d.jsx("h5",{children:"Dados Bsicos"})}),d.jsxs(he.Body,{children:[d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Nome *"}),d.jsx(H.Control,{type:"text",value:v.nome,onChange:M=>x("nome",M.target.value),placeholder:"Nome completo",isInvalid:!!w.nome}),d.jsx(H.Control.Feedback,{type:"invalid",children:w.nome})]})}),d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Email"}),d.jsx(H.Control,{type:"email",value:v.email,onChange:M=>x("email",M.target.value),placeholder:"email@exemplo.com",isInvalid:!!w.email}),d.jsx(H.Control.Feedback,{type:"invalid",children:w.email})]})})]}),d.jsxs(De,{children:[d.jsx(fe,{md:6,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Telefone"}),d.jsx(H.Control,{type:"tel",value:v.telefone,onChange:M=>x("telefone",M.target.value),placeholder:"(11) 99999-9999"})]})}),d.jsx(fe,{md:3,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Salrio (R$)"}),d.jsx(H.Control,{type:"number",min:"0",step:"0.01",value:v.salario,onChange:M=>x("salario",parseFloat(M.target.value)||0),placeholder:"0.00"})]})}),d.jsx(fe,{md:3,children:d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Comisso (%)"}),d.jsx(H.Control,{type:"number",min:"0",max:"100",step:"0.1",value:v.comissao,onChange:M=>x("comissao",parseFloat(M.target.value)||0),placeholder:"0.0"})]})})]})]})]}),d.jsxs(he,{className:Ce.modalSection,children:[d.jsx(he.Header,{children:d.jsx("h5",{children:"Especialidades *"})}),d.jsxs(he.Body,{children:[d.jsx("div",{className:Ce.especialidadesGrid,children:O.map(M=>d.jsx(H.Check,{type:"checkbox",id:`esp-${M}`,label:M,checked:v.especialidades.includes(M),onChange:()=>E(M),className:Ce.especialidadeCheck},M))}),w.especialidades&&d.jsx("div",{className:Ce.errorMessage,children:w.especialidades})]})]}),d.jsxs(he,{className:Ce.modalSection,children:[d.jsx(he.Header,{children:d.jsx("h5",{children:"Horrio de Trabalho *"})}),d.jsxs(he.Body,{children:[I.map(M=>{const B=v.horarioTrabalho[M]||{inicio:"",fim:"",trabalhando:!1};return d.jsxs(De,{className:"mb-3 align-items-center",children:[d.jsx(fe,{md:2,children:d.jsx(H.Check,{type:"checkbox",id:`dia-${M}`,label:M.charAt(0).toUpperCase()+M.slice(1),checked:B.trabalhando,onChange:j=>R(M,"trabalhando",j.target.checked)})}),d.jsx(fe,{md:4,children:d.jsx(H.Control,{type:"time",value:B.inicio,onChange:j=>R(M,"inicio",j.target.value),disabled:!B.trabalhando,placeholder:"Incio"})}),d.jsx(fe,{md:1,className:"text-center",children:d.jsx("span",{children:"at"})}),d.jsx(fe,{md:4,children:d.jsx(H.Control,{type:"time",value:B.fim,onChange:j=>R(M,"fim",j.target.value),disabled:!B.trabalhando,placeholder:"Fim"})})]},M)}),w.horarioTrabalho&&d.jsx("div",{className:Ce.errorMessage,children:w.horarioTrabalho})]})]}),w.submit&&d.jsx(_t,{variant:"danger",className:"mt-3",children:w.submit})]}),d.jsxs($t.Footer,{children:[d.jsx(je,{variant:"secondary",onClick:U,children:"Cancelar"}),d.jsx(je,{type:"submit",variant:"primary",disabled:p,children:p?"Salvando...":c?"Atualizar":"Criar"})]})]})]})]})})};class B3 extends _.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback||d.jsx("div",{className:"error-fallback",children:d.jsxs("div",{className:"error-content",children:[d.jsx("h1",{children:"Oops! Algo deu errado"}),d.jsx("p",{children:"Ocorreu um erro inesperado na aplicao:"}),this.state.error&&d.jsx("pre",{style:{background:"rgba(0,0,0,0.1)",padding:"1rem",borderRadius:"8px",overflow:"auto",maxHeight:"200px"},children:this.state.error.toString()}),d.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"1rem 2rem",background:"#b9954a",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"1rem"},children:"Recarregar Pgina"})]})}):this.props.children}}const z3=()=>{var c;const{signUp:t,loading:e,error:n}=Ur(),r=Es(),i=ji(),s=(c=r.state)==null?void 0:c.contribuinte,[o,a]=_.useState({nome:"",email:"",password:"",confirmPassword:""}),l=async h=>{if(h.preventDefault(),o.password!==o.confirmPassword){alert("Senhas no coincidem");return}try{await t(o.email,o.password,o.nome),i("/configuration",{state:{contribuinte:s}})}catch(p){console.error("Erro ao criar conta:",p)}};return d.jsxs("div",{style:{padding:"2rem",maxWidth:"500px",margin:"0 auto",color:"white"},children:[d.jsx("h2",{children:"Criar Conta"}),d.jsxs("p",{children:["Contribuinte: ",s]}),n&&d.jsx(_t,{variant:"danger",children:n}),d.jsxs(H,{onSubmit:l,children:[d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Nome"}),d.jsx(H.Control,{type:"text",value:o.nome,onChange:h=>a({...o,nome:h.target.value}),required:!0})]}),d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Email"}),d.jsx(H.Control,{type:"email",value:o.email,onChange:h=>a({...o,email:h.target.value}),required:!0})]}),d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Senha"}),d.jsx(H.Control,{type:"password",value:o.password,onChange:h=>a({...o,password:h.target.value}),required:!0})]}),d.jsxs(H.Group,{className:"mb-3",children:[d.jsx(H.Label,{children:"Confirmar Senha"}),d.jsx(H.Control,{type:"password",value:o.confirmPassword,onChange:h=>a({...o,confirmPassword:h.target.value}),required:!0})]}),d.jsx(je,{type:"submit",disabled:e,children:e?"Criando...":"Criar Conta"})]})]})},H3=()=>d.jsx(B3,{children:d.jsx(XV,{children:d.jsx(OV,{children:d.jsx(jV,{children:d.jsx(MV,{children:d.jsx(V1,{children:d.jsx("div",{className:"app",children:d.jsxs(j1,{children:[d.jsx(an,{path:"/",element:d.jsx(RE,{})}),d.jsx(an,{path:"/login",element:d.jsx(kE,{})}),d.jsx(an,{path:"/",element:d.jsx(RE,{})}),d.jsx(an,{path:"/login",element:d.jsx(kE,{})}),d.jsx(an,{path:"/register",element:d.jsx(z3,{})}),d.jsx(an,{path:"/configuration",element:d.jsx(CB,{})}),d.jsx(an,{path:"/store",element:d.jsx(_a,{requiresConfiguration:!0,children:d.jsx(_9,{})})}),d.jsx(an,{path:"/create-schedule",element:d.jsx(_a,{requiresConfiguration:!0,children:d.jsx(u3,{})})}),d.jsx(an,{path:"/funcionarios",element:d.jsx(_a,{requiresConfiguration:!0,children:d.jsx(U3,{})})}),d.jsx(an,{path:"/schedule",element:d.jsx(_a,{requiresConfiguration:!0,children:d.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"white"},children:[d.jsx("h2",{children:"Pgina de Agendamentos"}),d.jsx("p",{children:"Em desenvolvimento..."})]})})}),d.jsx(an,{path:"/reports",element:d.jsx(_a,{requiresConfiguration:!0,children:d.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"white"},children:[d.jsx("h2",{children:"Pgina de Relatrios"}),d.jsx("p",{children:"Em desenvolvimento..."})]})})}),d.jsx(an,{path:"*",element:d.jsx("div",{className:"not-found",children:d.jsxs("div",{className:"not-found-content",children:[d.jsx("h1",{children:"404"}),d.jsx("h2",{children:"Pgina no encontrada"}),d.jsx("p",{children:"A pgina que voc est procurando no existe."}),d.jsx("button",{onClick:()=>window.location.href="/",children:"Voltar ao incio"})]})})})]})})})})})})})});Tf.createRoot(document.getElementById("root")).render(d.jsx(pt.StrictMode,{children:d.jsx(H3,{})}));
//# sourceMappingURL=index-Dl-MBANs.js.map
